/*!
 * 
 * SpreadJS Library 10.0.0
 * 
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Licensed under the SpreadJS Commercial License.
 * spread.sales@grapecity.com
 * http://spread.grapecity.com/Pages/Spread-JS-License/
 * 
 * 
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.HorizontalLayout=t():(e.GC=e.GC||{},e.GC.Spread=e.GC.Spread||{},e.GC.Spread.Views=e.GC.Spread.Views||{},e.GC.Spread.Views.Plugins=e.GC.Spread.Views.Plugins||{},e.GC.Spread.Views.Plugins.HorizontalLayout=t())}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/assets/",t(0)}([function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){function t(e,n,r,o){var i,a,l,c,u,d=this,s=d.grid,f=s.gGI_(e),g=f.data;if(n<=f.height){if(l=d.gGHH_(g),l>=n)return{path:e,itemIndex:-1,startPosition:r,endPosition:r+l,area:P};if(n-=l,r+=l,g.isBottomLevel)if(s.data.isHierarchical){var h=function(t,i,a){return c={path:e,itemIndex:i,startPosition:r,area:M,node:t,isHierarchyFooter:a},l=a?d.gHFH_(i,o,e):d.gRH_(i,o,e),l>=n?(c.endPosition=r+l,u=c,!0):(n-=l,r+=l,!1)};if(m.tN_(g.rootNode,h,m.hHF_(s)),u)return u}else for(i=0,a=g.expandedItemCount;a>i;i++){if(c={path:e,itemIndex:i,startPosition:r,area:M},l=d.gRH_(i,o,e),l>=n)return c.endPosition=r+l,c;n-=l,r+=l}else for(i=0,a=f.children.length;a>i;i++){if(u=t.call(d,e.slice().concat([i]),n,r,o))return u;l=f.children[i].height,n-=l,r+=l}return{path:e,itemIndex:-1,startPosition:r,endPosition:r+l,area:D}}return null}function o(){var e=this;if(e.cVLI_)return e.cVLI_.width;var t=e.grid,n=e.options,r=t.gCI_().contentRect,o=n.showColHeader?n.colHeaderHeight*m.gCHL_(t.cC_):0;return n.headerRow&&n.headerRow.visible&&(o+=n.headerRow.height),r.width-e.gTPLI_().width-o}function i(e,t,n,r,o,l){var c,u,d,s,f,g,h=this,p=h.grid.uid,v=e.data,_=e.path,w=e.height,I=!1;if(w>=t){if(w=h.gGHH_(v),w>=t)return s=document.getElementById(m.createID(p,l,null,{area:P,path:_})),h.iRA_(l)?(f={area:S,row:-1,column:-1,groupInfo:{path:_,area:P}},h.options.allowHeaderSelect&&(d=s.querySelector(".gc-header-select-icon"),d&&m.poI_(h.grid,r-n,o,d,s,!0)&&(f.groupInfo.checked=!0)),f):(d=s&&s.querySelector(".gc-grouping-toggle"),d&&m.poI_(h.grid,r-n,o,d,s,!0)&&(I=!0),{area:y,row:-1,column:-1,groupInfo:{path:_,area:P,onGroupExpandToggle:I}});if(t-=w,n+=w,v.collapsed){if(v.groupDescriptor.footer&&v.groupDescriptor.footer.collapseWithGroup)throw"group hT_ error";if(t<=h.gGFH_(v))return a.call(h,e,r,o,l);throw"group hT_ error"}if(e.isBottomLevel){if(f=h.hTGC_(e,l,r-n,o))return f}else for(g=e.children,c=0,u=g.length;u>c;c++){if(w=h.gGH_(g[c]),w>=t)return i.call(h,e.children[c],t,n,r,o,l);t-=w,n+=w}return a.call(h,e,r,o,l)}return null}function a(e,t,n,r){var o=e.path;if(r===S)return{area:S,row:-1,column:-1,groupInfo:{path:o,area:D,row:-1,column:-1}};var i,a,l=this,c=l.grid.uid,u=l.grid.columns.length,d=document.getElementById(m.createID(c,r,null,{area:D,path:o})),s=r===y?"viewport":r===R?"pinnedLeftViewport":"pinnedRightViewport",f=document.getElementById(c+"-"+s);for(a=0;u>a&&(i=d.querySelector(".c"+a),!i||!m.poI_(l.grid,t,n,i,f));a++);return{area:y,row:-1,column:-1,groupInfo:{path:o,area:D,row:-1,column:a===u?-1:a}}}function l(e,t,n,r){var o,i,a,l,c,u,d,s=this,f=s.grid,g=s.gTP_();if(g){var h=s.sS_,p=h.columns.length;for(i=0;p>i;i++){var v=h.columns[i].index;if(o=g.querySelector(".gc-actioncolumn"+v),o&&m.poI_(f,t,n,o,r)){if(e[v].action)for(c=o.querySelectorAll("[data-action]"),a=0,l=c.length;l>a;a++)m.poI_(f,t,n,c[a],r)&&(d=c[a].getAttribute("data-action"),u={name:d,handler:f.getActionInfo_(e[v].id,d,"handler")});break}}}return u}function c(e,t,n){var r,o,i=this,a=i.grid.columns,l=a.length;for(r=0;l>r&&(o=e.querySelector(".c"+r),!o||!m.poI_(i.grid,t,n,o,e));r++);return r===l?-1:r}function u(e,t,n,r,o){var i,a,c,u,d,s,f,g,h=this,p=h.grid.columns,v=p.length,_=!1;if(o-=n.style.top?parseFloat(n.style.top):0,h.options.rightToLeft){var w=n.getBoundingClientRect();r=w.width-r}for(i=0;v>i;i++)if(a=n.querySelector(".c"+i),a&&m.poI_(h.grid,r,o,a,n)){var I=a.querySelector(".gc-node-indicator");if(I&&m.poI_(h.grid,r,o,I,n,!0)){_=!0;break}if(p[i].action)for(c=a.querySelectorAll("[data-action]"),u=0,d=c.length;d>u;u++)m.poI_(h.grid,r,o,c[u],n)&&(f=c[u].getAttribute("data-action"),s={name:f,handler:h.grid.getActionInfo_(p[i].id,f,"handler")});break}return s||(s=l.call(h,p,r,o,n)),g={area:y,row:-1,column:-1,groupInfo:{area:M,path:e,row:t,column:i===v?-1:i}},_&&(g.groupInfo.onTreeExpandToggle=!0),s&&(g.groupInfo.action=s),g}function d(e,t){var n=this,r=n.grid,o=r.data,i=n.options.autoRowHeight;if(m.hG_(r)){var a=0;return h.each(r.gI_,function(e){a+=e.height?e.height:0}),a}if(i)return s.call(n,e,t);if(r.data.isHierarchical){var l=0,c=r.options.hierarchy,u=c&&c.footer&&v.isNumber(c.footer.height)?c.footer.height:r.options.rowHeight;return m.tN_(o.rootNode,function(e,t,n){return l+=n?u:r.options.rowHeight,!1},m.hHF_(r)),l}return o.expandedItemCount*r.options.rowHeight}function s(e,t){var n=this,r=n.grid.gSO_(y),o={width:t+A,left:r?r.left:0},i=n.gRaI_(e,o);return i.endPosition}function f(){var e,t=this,n=t.grid,r=m.gUERT_(!1,t.options);if(r){var o='<div class="gc-grid" style="position:absolute;top:-10000px;left:-10000px;width:5000px;height:5000px;">',i=p.createTemplateElement(r);i.style.display="inline-block",o+=i.outerHTML+"</div>";var a=p.createElement(o);document.body.appendChild(a),e=Math.ceil(p.gER(a.children[0]).height),document.body.removeChild(a),a=null}else e=h.reduce(n.columns,function(e,t){return e+(m.iTAC_(t)||t.pinned!==k||!n.iCV_(t,k)?0:t.visibleWidth)},0);return e}n(2);var g=n(7),h=n(8),p=n(10),v=n(11),m=n(12),_="absolute",w="relative",I="auto",y="viewport",R="pinnedLeftViewport",b="pinnedLeftColumnHeader",C="pinnedRightViewport",T="pinnedRightColumnHeader",H="columnHeader",S="rowHeader",x=4,L="padding-left",E="padding-right",P="groupHeader",D="groupFooter",M="groupContent",F="groupingPanel",A=400,O="nodeContent",G="nodeFooter",W="left",N="right",k="none",V=function(e){var t=this;t.defaultOptions_={colHeaderHeight:80,colWidth:"*",rowHeaderWidth:24,rowHeight:80,headerRow:{visible:!1,height:80,position:"below",separateColumn:!0}},g.call(t,h.defaults(e,t.defaultOptions_)),t.name="HorizontalLayout",t.className="horizontal-layout"};v.extends_(V,g);var B={gPVLI_:function(e){var t=this;if(e===W&&t.pvInfo_)return t.pvInfo_;if(e===N&&t.prvInfo_)return t.prvInfo_;var n=t.grid,r=t.options,i=t.gGDPLI_(),a=r.showRowHeader?r.rowHeaderWidth:0,l=n.gCI_().contentRect,c=r.showColHeader?r.colHeaderHeight*m.gCHL_(n.cC_):0,u=r.headerRow;u&&u.visible&&(c+=u.height);var s,f=t.gTPLI_().width,g=l.width-c-f,v=m.gUERT_(e,r);if(v){var _='<div class="gc-grid" style="position:absolute;top:-10000px;left:-10000px;width:5000px;height:5000px;font-size:0;">',w=p.createTemplateElement(v);w.style.display="inline-block",_+=w.outerHTML+"</div>";var I=p.createElement(_);document.body.appendChild(I),s=Math.ceil(p.gER(I.children[0]).height),document.body.removeChild(I),I=null}else s=h.reduce(n.columns,function(t,r){return t+(m.iTAC_(r)||r.pinned!==e||!n.iCV_(r,e)?0:r.visibleWidth)},0);if(g=Math.max(0,g),s=Math.max(0,s),e===W)return t.pvInfo_={top:a+i.height,left:c,width:g,height:s,contentWidth:g,contentHeight:s},t.pvInfo_;var y=o.call(t),R=d.call(t,C,y),b=t.gPVLI_(W);return t.prvInfo_={top:Math.max(l.height-s-(R>g?p.gSS(n).height:0),b.top+b.height),left:c,width:g,height:s,contentWidth:g,contentHeight:s},t.prvInfo_},gVLI_:function(){var e=this;if(e.cVLI_)return e.cVLI_;var t=e.grid,n=p.gSS(t),r=e.options,o=e.gGDPLI_(),i=0,a=r.footerRow;a&&a.visible&&(i=a.height);var l=t.gCI_().contentRect,c=r.showRowHeader?r.rowHeaderWidth:0,u=r.showColHeader?r.colHeaderHeight*m.gCHL_(t.cC_):0,s=r.headerRow;s&&s.visible&&(u+=s.height);var g=l.width-e.gTPLI_().width-u-i,h=l.height-c-o.height,v=d.call(e,y,g),_=e.getRowMargins_();v+=_.left+_.right;var w=f.call(e);w+=_.top+_.bottom,h=g>=v?h:h-n.height;var I,R,b=0;e.sPV_(W)&&(I=e.gPVLI_(W),b=I.height),h-=b,e.sPV_(N)&&(R=e.gPVLI_(N),h-=R.height);var C=n.width;return w>h&&(g-=C,R&&(R.width-=C)),e.cVLI_={top:c+o.height+b,left:u,width:Math.max(0,g),height:Math.max(0,h),contentWidth:v,contentHeight:w},e.cVLI_},gFPL_:function(e){var t=this,n=e?t.gPVLI_(e):t.gVLI_(),r=t.options.footerRow.height;return{top:n.top,left:n.left+n.width,width:r,height:n.height,contentWidth:r,contentHeight:n.contentHeight}},gCoHLI_:function(){var e=this,t=e.options,n=e.gGDPLI_(),r=t.showRowHeader?t.rowHeaderWidth:0,o=t.showColHeader?t.colHeaderHeight*m.gCHL_(e.grid.cC_):0,i=t.headerRow;i&&i.visible&&(o+=i.height);var a=e.grid.gCI_().contentRect;return{top:n.height,left:0,width:a.width>0?o:0,height:a.height>0?r:0,contentWidth:o,contentHeight:r}},gRHLI_:function(){var e=this,t=e.grid,n=e.options,r=e.gGDPLI_(),o=e.gVLI_(),i=n.showRowHeader?n.rowHeaderWidth:0,a=n.showColHeader?n.colHeaderHeight*m.gCHL_(t.cC_):0,l=n.headerRow;l&&l.visible&&(a+=l.height);var c=o.width;e.sPV_(W)&&(c=e.gPVLI_(W).width);var u=e.grid.gCI_().contentRect;return{top:r.height,left:a,width:c,height:u.height>0?i:0,contentWidth:o.contentWidth,contentHeight:i}},gCHLI_:function(){var e=this,t=e.grid,n=e.options,r=e.gVLI_(),o=n.showColHeader?n.colHeaderHeight*m.gCHL_(t.cC_):0,i=n.headerRow;i&&i.visible&&(o+=i.height);var a=e.grid.gCI_().contentRect;return{top:r.top,left:0,width:a.width>0?o:0,height:r.height,contentWidth:o,contentHeight:r.contentHeight}},gPCHVLI_:function(e){var t=this,n=t.options,r=t.gPVLI_(e),o=n.showColHeader?n.colHeaderHeight*m.gCHL_(t.grid.cC_):0,i=n.headerRow;i&&i.visible&&(o+=i.height);var a=t.grid.gCI_().contentRect;return{top:r.top,left:0,width:a.width>0?o:0,height:r.height,contentWidth:o,contentHeight:r.contentHeight}},gSI_:function(e){var t=this;if(t.gS_&&t.gS_.gSI_)return t.gS_.gSI_();var n=t.gLI_(),r=t.options,o=r.footerRow;return t.iVA_(e)?{area:y,verticalScrollArea:e===y?[y].concat(r.showColHeader||t.options.headerRow?[H]:[]).concat(o&&o.visible?["footerPanel"]:[]):null,horizontalScrollArea:[y].concat(t.sPV_(W)?R:[]).concat(t.sPV_(N)?C:[]).concat(r.showRowHeader?[S]:[]),verticalScrollPanel:e===y?[y]:null,horizontalScrollPanel:t.sPV_(N)?[C]:[y],verticalScrollOffset:[y],horizontalScrollOffset:[y],layoutInfo:n[y]}:void 0},gRaI_:function(e,t){var n,r,o=this,i=o.options.rightToLeft,a=o.grid,l={},c=i?t.right:t.left,u=c+t.width,d=o.iVA_(e)||o.iRA_(e)||o.iFHA_(e)||o.iFA_(e);return d&&(m.hG_(a)?(n=o.gGIA_(c),r=o.gGIA_(u),l={start:n,end:r,offsetLeft:n.startPosition,startPosition:n.startPosition,endPosition:r.endPosition,isLastItem:r.isLastItem}):(n=o.getRowInfoAt_(c,e),r=o.getRowInfoAt_(u,e),l=a.data.isHierarchical?{start:n,end:r,offsetTop:n.startPosition,startPosition:n.startPosition,endPosition:r.endPosition,isLastItem:r.isLastItem}:n?{start:n.index,end:r?r.index+1:a.data.expandedItemCount,offsetLeft:i?-c:n.startPosition-c,startPosition:n.startPosition,endPosition:r.endPosition,isLastItem:r.isLastItem}:{start:0,end:0,offsetLeft:0})),l},gSPRI_:function(e){var t=this,n=t.options;if(t.gS_)return t.gS_.gSPRI_(e);if(e===y||e===C){var o,i,a,l,c=t.gLI_(),u=p.gSS(t.grid),d=n.footerRow,s=d&&d.visible?d.height:0,f={width:0,height:0,contentWidth:0,contentHeight:0},g=c[H]||f,v=c[S]||f,m=c[y],b=c[R]||f,T=t.sPV_(W),x=t.sPV_(N),L=e===y?!x&&m.contentWidth>m.width:m.contentWidth>m.width,E=e===y?m.contentHeight>m.height:!1,P=0,D="gc-grid-"+y+"-scroll-panel",M=[],F=t.options.allowGrouping?t.gGDPLI_().height:0;if(e===y)E&&M.push("scroll-top"),x||L&&M.push("scroll-left"),o=m.width+g.width+(E?u.width:0),a=m.height+(T?0:v.height)+(L?u.height:0),i=(x?m.width:m.contentWidth)+g.width,l=m.contentHeight+(T?0:v.height),P=F+(T?b.height+v.height:0);else{L&&M.push("scroll-left");var A=c[e];o=A.width+g.width,a=A.height+(L?u.height:0),i=m.contentWidth+g.width,l=A.height,P=F+v.height+(T?b.height:0)+m.height}var O=(u.height||15)+1,G=(u.width||15)+1,k=[];return h.each(M,function(e){var t,c="scroll-top"===e;k.push({isVertical:c,outerDivCssClass:D+" "+e,outerDivStyle:(t={position:_},r(t,n.rightToLeft?N:W,(c?o-G:0)+s),r(t,"top",c?P:P+a-O),r(t,"height",c?a+(L?-1*u.height:0):O),r(t,"width",c?G:o+(E?-1*u.width:0)),r(t,"overflow",I),t),innerDivStyle:{position:w,height:c?l:1,width:c?1:i}})}),k}},gRCHI_:function(e){var t,n=this,r=n.options;t=e===H?n.ch_:e===b?n.pch_:n.prch_,t||(t=n.getTemplate_(!0,!1,e),e===b?n.pch_=t:e===T?n.prch_=t:n.ch_=t);var o=0,i=r.headerRow;return i&&i.visible&&"above"===i.position&&(o=i.height),{key:m.createID(n.grid.uid,e),isRowRole:!1,renderInfo:{cssClass:"gc-column-header ch",style:{width:r.colHeaderHeight,height:"100%",left:o,position:w},renderedHTML:t}}},gGCHRI_:function(e,t,n,r,o,i,a){var l,c,u,d,s,f,g,h,p=this,v=p.options.rightToLeft,_=p.grid,w=m.gCHL_([e]),I=_.colTree_,y=-1===t,R=y?0:a,b=(y?i-w+1:t-w)*n;if(1!==w){f=e.columns;var C=w*n;if((o!==k&&m.hPC_(f)||o===k)&&(l=m.gGCHW_(_,f,o),l>0)){for(h=I[e.caption],c=v?'<div style="position:absolute; width:'+C+"px;height:"+l+"px;right:"+R+"px;top:"+r+'px;" data-column-group><div class="gc-column-header-cell gc-cell-border-rtl" style="width:'+b+"px;height:"+l+"px;max-height:"+l+'px;" data-column-group-header="'+e.caption+'"><span>'+e.caption+"</span>"+((o!==k?o===W?h.pinnedStatus.showIcon:h.pinnedRightStatus.showIcon:h.status.showIcon)?' <span class="gc-icon gc-header-toggle '+((o!==k?o===W?h.pinnedStatus.isCollapsed:h.pinnedRightStatus.isCollapsed:h.status.isCollapsed)?"collapsed":"expand")+'"></span>':"")+"</div>":'<div style="position:absolute; width:'+C+"px;height:"+l+"px;left:"+R+"px;top:"+r+'px;" data-column-group><div class="gc-column-header-cell gc-cell-border" style="width:'+b+"px;height:"+l+"px;max-height:"+l+'px;" data-column-group-header="'+e.caption+'"><span>'+e.caption+"</span>"+((o!==k?o===W?h.pinnedStatus.showIcon:h.pinnedRightStatus.showIcon:h.status.showIcon)?' <span class="gc-icon gc-header-toggle '+((o!==k?o===W?h.pinnedStatus.isCollapsed:h.pinnedRightStatus.isCollapsed:h.status.isCollapsed)?"collapsed":"expand")+'"></span>':"")+"</div>",g=0,u=0,d=e.columns.length;d>u;u++)s=p.gGCHRI_(f[u],w,n,g,o,i,b),s&&(c+=s.html,g+=s.height);return c+="</div>",{html:c,height:l}}return null}return _.iCV_(e,o)&&e.pinned===o?{html:'<div style="position:absolute;width:'+b+"px;height:"+e.visibleWidth+"px;max-height:"+e.visibleWidth+"px;"+(v?N:W)+":"+R+"px;top:"+r+"px;"+(e.visible?"":"display:none")+'" data-column="'+e.id+'"></div>',height:e.visibleWidth}:void 0},gReRI_:function(e,t,n,r){var o=this,i=document.getElementById(e);if(i){var a=o.gRH_(t,n,r,!0);return r?{key:e,path:r,rowIndex:t,layout:{left:parseInt(i.style.left),width:a},area:M}:{key:e,index:t,left:parseInt(i.style.left),width:a}}},gHRS_:function(){var e,t=this.options,n=t.rightToLeft,o=t.headerRow,i=o.position,a=t.showColHeader&&"above"!==i?t.colHeaderHeight*m.gCHL_(this.grid.cC_):0;return e={position:"absolute"},r(e,n?N:W,a),r(e,"top",0),r(e,"height","100%"),r(e,"width",o.height),e},gTCP_:function(){var e='{{? it.node}}<div style="margin-top:{{=it.node.offset}}px;{{? it.node.children.length !== 0}}display:inline-block{{?}}">{{? it.node.children.length !== 0}}<div class="gc-node-indicator-container"><span class="gc-icon gc-node-indicator horizontal {{? it.node.collapsed}}collapsed{{??}}expanded{{?}}"></span></div>{{?}}</div>{{??}}""{{?}}';return e},gGHTI_:function(e,t){var n=this.options.rightToLeft,r="";if(v.isNull(e))r='<div class="gc-group-header gc-group-header-cell '+(n?"gc-cell-border-rtl":"gc-cell-border")+'" style="height:100%;"></div>';else{var o=t.groupDescriptor.header;r=o&&o.template||'<div class="gc-group-header gc-group-header-cell '+(n?"gc-cell-border-rtl":"gc-cell-border")+'"><span data-group={{=it.path}} class="gc-icon gc-grouping-toggle {{=it.groupStatus}}" style="margin-top:{{=it.margin}}px;"></span><div class='+(n?'"gc-grouping-header-text-rtl"':'"gc-grouping-header-text"')+' level="{{=it.level}}"></span>{{=it.name}}<span> '+e+"</span></div></div>"}return r},gDRT_:function(e,t){var n,r=this,o=r.grid,i=o.columns,a=r.options.autoRowHeight;n=v.isNumber(t)?t+"px":a?"100%":r.options.rowHeight+"px";var l="";return h.each(i,function(t){o.iCV_(t,e)&&t.pinned===e&&(l+=a?'<div style="display:inline-block; vertical-align:top;width:100%;height:'+t.visibleWidth+"px;"+(t.visible?"":"display:none")+'" data-column="'+t.id+'"></div>':'<div style="width:'+n+";height:"+t.visibleWidth+"px;"+(t.visible?"":"display:none")+'" data-column="'+t.id+'"></div>')}),l},hTIV_:function(e,t,n){var r,o,a,u,d,s,f,g,h,p,_,w,I,R,b,C,T,H,S=this,x=S.grid,L=!1,E=x.columns,P=E.length,D=S.gLI_()[e],M=x.uid+"-"+e,F=document.getElementById(M),A=F.getBoundingClientRect(),O=S.options.rightToLeft,G=x.gSO_(y),W=n-A.top+(e===y?G.top:0),N=O?D.width-t+A.left+G.left:t-A.left+G.left;if(m.hG_(x)){r=0;var V=S.getRowMargins_();for(N-=O?V.right:V.left,W-=V.top,o=N,d=0,s=x.data.groups.length;s>d;d++){if(u=x.gI_[d],a=i.call(S,u,o,r,N,W,e)){a.area=e;break}o-=u.height,r+=u.height}}else if(f=S.getRowInfoAt_(N)){R=f.index;var B=f.isHierarchyFooter;if(b=m.createID(x.uid,e,R,null,f.nodeInfo),!B){for(C=document.getElementById(b),d=0;P>d;d++)if(g=C.querySelector(".c"+d),g&&m.poIP_(x,t,n,g.getBoundingClientRect())){if(h=d,H=g.querySelector(".gc-node-indicator"),H&&m.poIP_(x,t,n,H.getBoundingClientRect(),!0)){L=!0;break}if(E[d].action)for(T=g.querySelectorAll("[data-action]"),p=0,_=T.length;_>p;p++)m.poIP_(x,t,n,T[p].getBoundingClientRect())&&(I=T[p].getAttribute("data-action"),w={name:I,handler:x.getActionInfo_(E[d].id,I,"handler")});break}v.isUndefined(h)&&(w=l.call(S,E,t,n,C))}if(a={area:e,row:R,column:h},L&&(a.onTreeExpandToggle=!0),f.nodeInfo&&(a.nodeInfo=f.nodeInfo),w&&(a.action=w),B){if(C=document.getElementById(b)){var q=C.getBoundingClientRect();a.column=c.call(S,C,t-q.left,n-q.top)}a.isHierarchyFooter=!0}}else a={area:k};return a},hTCH_:function(e,t,n){var r=this,o=r.grid,i=o.columns,a=i.length,l=!1,c=k;e===b?c=W:e===T&&(c=N);var u,d,s,f,g,h,v,_=p.gCSV;for(v=0;a>v;v++)if(o.iCV_(i[v],c)&&(u=document.querySelector("#"+o.uid+"-"+e+" .gc-column-header-cell.c"+v))){if(d=u.getBoundingClientRect(),f=p.getStyle(u),g=_(u,f,L),h=_(u,f,E),m.poIP_(o,t,n,u.getBoundingClientRect())){l=!0,s={area:e,row:-1,column:v,headerInfo:{inResizeMode:d.bottom-n<=x,resizeFromZero:!1}};break}if(u.clientWidth-g-h===0&&d.left<t&&d.top>=n&&n<=d.bottom&&d.top+x>n){l=!0,s={area:e,row:-1,column:v,headerInfo:{inResizeMode:!0,resizeFromZero:!0}};break}}for(v=0;a>v;v++)if(o.iCV_(i[v],c)&&(u=document.querySelector("#"+o.uid+"-"+e+" .gc-header-row-cell.c"+v),u&&(d=u.getBoundingClientRect(),f=p.getStyle(u),g=_(u,f,L),h=_(u,f,E),m.poIP_(o,t,n,u.getBoundingClientRect())))){l=!0,s={area:e,row:-1,column:v,headerInfo:{inHeaderRow:!0}};break}var w=document.querySelectorAll("#"+o.uid+"-"+e+" [data-column-group-header]");for(v=0;v<w.length;v++){var I=w[v],y=I.getAttribute("data-column-group-header");if(y&&m.poIP_(o,t,n,I.getBoundingClientRect())){d=I.getBoundingClientRect(),l=!0,s={area:e,row:-1,column:-1,columnGroupInfo:{caption:y},headerInfo:{inResizeMode:d.bottom-n<=x,resizeFromZero:!1}};var R=I.querySelector(".gc-header-toggle");R&&m.poIP_(o,t,n,R.getBoundingClientRect(),!0)&&(s.columnGroupInfo.onGroupExpandToggle=!0);break}}return l||(s={area:k}),s},hTIRH_:function(e,t){var n,r,o,a,l,c,u,d,s,f=this,g=f.grid,h=f.gLI_()[S],p=g.uid+"-"+S,v=document.getElementById(p),_=v.getBoundingClientRect(),w=f.options.rightToLeft,I=t-_.top,R=g.gSO_(y),b=w?h.width-e+_.left+R.left:e-_.left+R.left,C=f.options.autoRowHeight;if(m.hG_(g)){o=0;var T=f.getRowMargins_();for(b-=w?T.right:T.left,I-=T.top,a=b,n=0,r=g.data.groups.length;r>n&&(l=g.gI_[n],!(c=i.call(f,l,a,o,b,I,S)));n++)a-=l.height,o+=l.height}else u=f.getRowInfoAt_(b,C?y:S),u?(c={area:S,row:u.index,column:-1},u.isHierarchyFooter&&(c.isHierarchyFooter=!0),u.nodeInfo&&(c.nodeInfo=u.nodeInfo),f.options.allowHeaderSelect&&(d=m.gRE_(g.uid,S,u.index,null,u.nodeInfo),s=d.querySelector(".gc-header-select-icon"),s&&m.poIP_(g,e,t,s.getBoundingClientRect(),!0)&&(c.checked=!0))):c={area:k};return c},hTGC_:function(e,t,n,r,o){if(!e.isBottomLevel||0>n||0>r)return null;var i,a,l,d,s=this,f=s.grid.uid,g=e.data,h=e.path;o&&(n+=o.scrollLeft?o.scrollLeft:0,r+=o.scrollTop?o.scrollTop:0);var p=function(e,t,n,r){return m.gRE_(f,e,t,{area:M,path:h},n&&{area:r?G:O,path:n.path})},v=function(e,o,i){var a,f,g=o;return f=i?s.gHFH_(g,y,h):s.gRH_(g,y,h),s.gS_&&s.gS_.mappingFromViewIndex_&&(g=s.gS_.mappingFromViewIndex_(o,h)),f>=n?(s.iRA_(t)?(a={area:S,row:-1,column:-1,groupInfo:{area:M,path:h,row:g,column:-1}},s.options.allowHeaderSelect&&(l=p(t,g,e,i),d=l.querySelector(".gc-header-select-icon"),d&&m.poI_(s.grid,n,r,d,l,!0)&&(a.groupInfo.checked=!0)),i&&(a.groupInfo.isHierarchyFooter=!0)):(l=p(t,g,e,!1),!l||i?(a={area:y,row:-1,column:-1,groupInfo:{area:M,path:h,row:g,column:-1}},i&&(l=p(t,g,e,!0),l&&(a.groupInfo.column=c.call(s,l,n,r)),a.groupInfo.isHierarchyFooter=!0)):a=u.call(s,h,g,l,n,r)),e&&(a.nodeInfo={area:i?G:O,path:e.path}),a):void(n-=f)},_=null;if(s.grid.data.isHierarchical){if(_=m.tN_(g.rootNode,v,m.hHF_(s.grid)))return _}else for(i=0,a=g.expandedItemCount;a>i;i++)if(_=v(null,i,!1))return _;return null},iGIH_:function(){var e=this;if(e.gS_)return e.gS_.iGIH_();var t,n,r=e.grid.gI_,i=e.grid,a=e.options.autoRowHeight,l=0,c=o.call(e),u=i.gSO_(y),d=(u?u.left:0)+c+A;for(t=0,n=r.length;n>t;t++)if(r[t].height=e.gGH_(r[t]),a&&(l+=r[t].height,l>d))return},gGHH_:function(e){var t=e.groupDescriptor.header,n=this.options;return t&&t.visible?t.height||("*"===n.colWidth?n.rowHeight:n.colWidth):0},getInnerGroupWidth:function(e,t){if(!e.isBottomLevel)return 0;var n,r,o,i,a,l=0,c=this,u=c.options.autoRowHeight;if(u){for(o=e.data,i=e.path,n=0,r=o.expandedItemCount;r>n;n++)l+=c.gRH_(n,y,i);a=l}else a=this.gRH_()*e.data.expandedItemCount;return t&&t.additionalWidth&&(a+=t.additionalWidth),a},gIGH_:function(e,t){return e.isBottomLevel?f.call(this):0},gIEL_:function(e,t,n){var r,o,i=this,a=i.grid,l=m.gRE_,c=e.groupInfo,u=e.nodeInfo,d=p.gER(l(a.uid,y,t,c,u)),s=p.gER(document.getElementById(a.uid+"-viewport")),f=a.gCI_().contentRect;i.sPV_(W)&&(o=p.gER(l(a.uid,R,t,c,u)),r=p.gER(document.getElementById(a.uid+"-"+R)));var g;i.sPV_(N)&&(g=p.gER(document.getElementById(a.uid+"-"+C)));for(var h,v={innerDiv:{top:o?o.top-r.top:d.top-s.top,left:0},outerDiv:{top:(r?r.top:s.top)-f.top,height:(r?r.height:0)+s.height+(g?g.height:0)}},_=n.querySelectorAll(".gc-inline-editor-container"),w=-(1/0),I=1/0,b=0,T=_.length;T>b;b++)h=p.gER(_[b]),I=Math.min(I,h.left),w=Math.max(w,h.left+h.width);var H=Math.abs(w-I);v.outerDiv.width=H;var S=a.options.rightToLeft,x=0,L=p.gSS(a),E=m.hVS(i)?L.width:0;return x=d.left+H>s.left+s.width?S?f.left+f.width-H-(a.options.showColHeader?a.options.colHeaderHeight:0):f.width-H-E:d.left-s.left<0?s.left-f.left:d.left-f.left,v.outerDiv.left=x,v},inIE_:function(e,t,n){var r,o=this,i=o.grid,a=i.options.rightToLeft,l=p.gER(m.gRE_(i.uid,y,t,e.groupInfo,e.nodeInfo)),c=p.gER(document.getElementById(i.uid+"-"+y)),u=0,d=p.gER(n).width;if(a?(r=l.left+l.width-c.left,d>r?u=r-d:l.left+l.width>c.left+c.width&&(u=l.left+l.width-c.left-c.width)):(r=c.left+c.width-l.left,d>r?u=r-d:l.left<c.left&&(u=c.left-l.left)),u){var s=i.gSI_(y).horizontalScrollArea,f=o.gVLI_().contentWidth,g=i.scrollOffset[y].left-u;i.sA_(y,{left:Math.min(g,f-c.width)},function(e){return e},function(){h.each(s,function(e){i.refresh(e)})})}},gEL_:function(e,t,n){var r=this,o=r.grid,i=p.gSS(o),a=o.options.rightToLeft,l=o.options.showRowHeader?o.options.rowHeaderWidth:0,c=r.gLI_(),u=c[y],d=c[R],s=c[C],f=c[F],g=o.gCI_().contentRect,h=u.contentWidth>u.width?i.height:0,v=d?d.top:u.top,_=s?s.top+s.contentHeight:u.top+u.contentHeight,w=Math.min(_-v+l,g.height-h-(f?f.contentHeight:0)),I=p.gER(m.gRE_(o.uid,y,t,e.groupInfo,e.nodeInfo)),b=p.gER(document.getElementById(o.uid+"-viewport")),T=a?I.left-b.left:b.width-I.width-(I.left-b.left),H=p.gER(n).width,S=H>T?H-T:0;return{left:(a?Math.ceil(I.left-H+S):Math.ceil(I.left+I.width-S))-g.left,top:v+g.top-l-g.top,height:w,width:H}},inEFE_:function(e,t,n){var r,o,i,a,l,c,u,d=this,s=d.grid,f=s.lRR_,g=f.viewport,h=f.rowHeader,v=f.pinnedLeftViewport,_=f.pinnedRightViewport,w=m.createID(s.uid,e.area,t,e.groupInfo,e.nodeInfo),I=g.indexOf(w),R=p.gER(n).width,b=p.gER(m.gRE_(s.uid,y,t,e.groupInfo,e.nodeInfo)),C=p.gER(document.getElementById(s.uid+"-viewport")),T=s.options.rightToLeft;if(I>=0){var H=T?b.left-C.left:C.left+C.width-b.left-b.width,S=T?N:W;if(R>H)a=H-R,l=0,c=I;else if(c=g.length-1,a=R,l=I+1,0>a)return;for(var x=l;c>=x;x++)r=document.getElementById(g[x]),u=Math.ceil(parseInt(r.style[S]))+a,r.style[S]=u+"px",h&&(o=document.getElementById(h[x]),o.style[S]=u+"px"),v&&(i=document.getElementById(v[x]),i.style[S]=u+"px"),_&&(i=document.getElementById(_[x]),i.style[S]=u+"px")}},gDET_:function(){var e=this,t=e.grid,n=t.data,r=e.options.rightToLeft,o=t.editingHandler,i=h.filter(t.columns,function(e){return o.isColumnEditable(t,e)}),a=1;if("editForm"===t.options.editMode){for(var l=e.gLI_(),c=l[y],u=l[R],d=l[C],s=l[F],f=t.gCI_().contentRect,g=c.contentWidth>c.width?p.gSS(t).height:0,v=u?u.top:c.top,m=d?d.top+d.contentHeight:c.top+c.contentHeight,_=t.options.showRowHeader?t.options.rowHeaderWidth:0,w=Math.min(m-v+_,f.height-g-(s?s.contentHeight:0)),I="",b=0,T=i.length;T>b;b++)I+='<div><div class="gc-editing-template-label"><label>MeasureHeight</label></div><div class="gc-editing-template-field"><input /></div></div>';var H=p.createElement('<div><div class="gc-editing-content">'+I+'</div><div class="gc-editing-footer"><div class="gc-editing-cancel gc-editing-button gc-float-left"><span class="cancel-text">Cancel</span></div><div class="gc-editing-update gc-editing-button gc-float-left"><span class="update-text">Update</span></div></div></div>');document.body.appendChild(H);var S=p.gER(H),x=p.gER(H.querySelector(".gc-editing-footer"));document.body.removeChild(H),a=Math.min(Math.ceil(S.height/(w-x.height)),3)}for(var L=[],E=0;a>E;E++)L.push('<div class="gc-editing-template-column">');var P,D="<div>";h.each(i,function(e,t){P=e.id,L[t%a]+='<div class="gc-editing-col-'+P+'"><div class="gc-editing-template-label'+(r?" rtl":"")+'"><label>'+(e.caption||P)+'</label></div><div class="gc-editing-template-field'+(r?" rtl":"")+'"><input type="'+o.getEditorType(n.isCalculatedColumn(P)?null:e.dataType)+'" data-column="'+P+'"></div></div>'});for(var M=0;a>M;M++)L[M]+="</div>";return D+=L.join("")+"</div>"},cCTP_:function(e){var t,n=this,r=n.sS_,o=r.row,i=r.actionType,a=r.columns,l=o.id+"-"+i+"-actionPanel",c=n.gLI_()[y],u=o.className+" actionPanel",d=e,s="top"===i?c.contentHeight-d:0,f="left:"+o.style.left+"; width:"+o.style.width+"; top:"+s+"px; height:"+d+"px;position:absolute",g='<div id="'+l+'" style="'+f+'" class="'+u+'">',v="top"===i?0:d;return h.each(a,function(e){var n,o=e.perferredSize/r.columnsTotalWidth*d;"bottom"===i&&(v-=o),t="bottom"===i?"position:absolute;left:0px;width:100%;height:"+e.perferredSize+"px; top:"+(o-e.perferredSize)+"px;":"height:100%;",n='<div style = "width:100%;top:'+v+"px;height:"+o+'px;position:absolute;overflow:hidden;">',n+='<div style="'+t+'" class="gc-actioncolumn'+e.index+'">'+e.persenter+"</div>",n+="</div>","top"===i&&(v+=o),g+=n}),g+="</div>",p.createElement(g)},cSS_:function(e,t){return Math.abs(e)<=5&&Math.abs(t)>=10},gTP_:function(){var e=this.sS_;return e.row?document.getElementById(e.row.id+"-top-actionPanel")||document.getElementById(e.row.id+"-bottom-actionPanel"):void 0},lT_:function(e){var t={width:"height",height:"width",left:"top",right:"bottom",top:"left",bottom:"right",contentWidth:"contentHeight",contentHeight:"contentWidth",clientWidth:"clientHeight",clientHeight:"clientWidth",offsetLeft:"offsetTop",offsetTop:"offsetLeft",initOffsetLeft:"top",initOffsetTop:"left"};return t[e]||e},rtlLT_:function(e){var t={width:"height",height:"width",left:"bottom",right:"top",top:"right",bottom:"left",contentWidth:"contentHeight",contentHeight:"contentWidth",offsetLeft:"offsetTop",offsetTop:"offsetLeft",initOffsetLeft:"top",initOffsetTop:"left"};return t[e]},sDT_:function(e){var t={left:"up",right:"down"};return t[e]},swDT_:function(e){var t={vertical:"horizontal",horizontal:"vertical",left:"top",right:"bottom"};return t[e]},gCRC_:function(){return"row-resize"},gReO_:function(e,t,n){var r=this,o=e.pageY-r.rLP_.top;return o},gAGR_:function(e,t,n){var r=30,o=30,i=this.grid.container,a=p.gER(i),l=p.gER(e),c=[],u=Math.max(t.pageX-a.left,0),d=Math.max(l.top+l.height-a.top-50,0);c.push({left:u,top:d,width:r*n,height:o});for(var s=0;n>s;s++)c.push({width:r,height:o,left:r*s,top:0});return c},gIRGR_:function(e){var t=24,n=24,r=this.grid.container,o=p.gER(r),i=p.gER(e);return{width:t,height:n,left:i.left-o.left+i.width/2-t/2,top:i.top-o.top+i.height-n/2}},gSoCC_:function(e,t){var n;return n=e?v.isNil(e.ascending)?!0:!!e.ascending:!0,n?"gc-icon gc-sorting horizontal ascending c"+t:"gc-icon gc-sorting horizontal descending c"+t},gGIn_:function(){return p.createElement('<div class="horizontal-layout gc-drag-group-indicator"><span class="gc-icon top"></span><span class="gc-icon bottom"></span></div>')},gReI_:function(){return p.createElement('<div class="horizontal-layout gc-drag-clue-indicator"><span class="gc-icon left"></span><span class="gc-icon right"></span></div>')},pI_:function(e,t){},gHIDT_:function(e){var t,n=this,r=n.options.rightToLeft,o=e.area;return n.iCA_(o)?t={left:0,top:o===H?-e.offsetTop||0:0}:n.iRA_(o)&&(t={left:r?e.offsetLeft:-e.offsetLeft,top:0}),t},gAS_:function(e){var t=this,n=t.options,r=t.grid,o=r.gCI_(),i=o.contentRect,a=i.height-(n.showRowHeader?n.rowHeaderWidth:0)-e.groupDragPanelHeight,l=n.showColHeader?n.colHeaderHeight*m.gCHL_(r.cC_):0,c=n.headerRow;c&&c.visible&&(l+=c.height);var u=i.width-e.toolPanelWidth-l,s=d.call(t,y,u),f=t.getRowMargins_();return s+=f.left+f.right,s>i.width-l&&(a-=p.gSS(r).height),a},gGIA_:function(e,n){var r,o,i=this,a=0,l=i.getRowMargins_(),c=i.options.rightToLeft;e-=c?l.right:l.left;var u=i.grid.data.groups.length;for(o=0;u>o;o++){r=[o];var d=i.grid.gGI_(r),s=d.height,f=t.call(i,r,e,a,n);if(f)return f;if(o===u-1){var g=d.data,h=g.groupDescriptor.footer;return h&&h.visible?{path:[o],itemIndex:-1,area:"groupFooter",startPosition:a,endPosition:a,isLastItem:!0}:(r=[o],f=m.gLGIP_(i.grid,g),f.startPosition=a,f.endPosition=a,f.isLastItem=!0,f)}e-=s,a+=s}return null},getRowInfoAt_:function(e,t){var n,r,o,i=this,a=i.grid,l=a.data,c=0,u=a.data.expandedItemCount,d=i.cRO_,s=0,f=i.getRowMargins_(),g=i.options.rightToLeft,h=1e4;if(e-=g?f.right:f.left,l.isHierarchical){var p,v,_=function(o,a,l){return v=o,n=l?i.gHFH_(a,t):i.gRH_(a,t),n>=e?(p={index:a,startPosition:c,endPosition:c+n,isLastItem:r===u-1,isHierarchyFooter:l},!0):(e-=n,c+=n,!1)};if(m.tN_(l.rootNode,_,m.hHF_(a)),!p){if(!l.isHierarchical){var w=u-1;return n=i.gRH_(w,t),c-=n,{index:w,startPosition:c,endPosition:c+n,isHierarchyFooter:!1}}for(;v&&v.parent!==l.rootNode;)v=v.parent;if(v){var I=-1,y=function(e,t){return e===v?(I=t,!0):!1};m.tN_(l.rootNode,y,m.hHF_(a)),I>=0&&(n=i.gHFH_(I,t),c-=n,p={index:I,startPosition:c,endPosition:c+n,isHierarchyFooter:!0})}}return v&&(p.nodeInfo={path:v.path,area:p.isHierarchyFooter?G:O}),p}if(d)for(r=d.length-1;r>=0;r--)if(o=d[r],e>=o){s=r*h,e-=o,c=o;break}for(r=s;u>r;r++){if(n=i.gRH_(r,t),n>=e)return{index:r,startPosition:c,endPosition:c+n,isLastItem:r===u-1};r%h===0&&(i.cRO_=d||[],i.cRO_[r/h]=c),e-=n,c+=n}return r===u&&u>0?(c-=n,{index:u-1,startPosition:c,endPosition:c+n,isLastItem:!0}):null},getSpanRowInfo_:function(e,t,n,r){return e}};h.assign(V.prototype,B),e.exports=V}()},,function(e,t){},,,,,function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){function t(e){var t=this;t.name="",t.defaultOptions_=Mn.assign({rowHeaderWidth:40,colHeaderHeight:24,headerRow:{visible:!1,height:24,separateColumn:!0,position:"below"},footerRow:{visible:!1,height:40},rowHeight:24,colWidth:"*",colMinWidth:gr,showRowHeader:!0,showColHeader:!0,allowEditing:!1,allowGrouping:!1,allowSorting:!1,selectionMode:Wr.SINGLE,selectionUnit:Nr.ROW,
allowHeaderSelect:!1,allowColumnReorder:!0,allowColumnResize:!0,allowFocus:!0,allowSwipe:!1,rightToLeft:!1,editMode:"inline",editUnit:Nr.ROW,showToolPanel:!1,allowCellMerging:!1,cellMergingSettings:{mode:"free",alwaysShowText:!1,onlyShowFirstRow:!1,groupedColumn:{showIcon:!1}},localeResource:{groupDragText:"Drag a column header here and drop it to group by that column",toolPanelGroupPanelText:"Drag columns from above to create groups",toolPanelGroupPanelTitle:"Group Columns",toolPanelColPanelTitle:"columns",addColPanelTitle:"Add column",addColPanelText:"Insert column or column array JSON object",addColPanelErrorText:"input is not a valid JSON object",addText:"Add",cancelText:"Cancel",updateText:"Update",buildInActionSave:"save",buildInActionEdit:"edit",buildInActionCancel:"cancel",editFormTitle:"Edit Form"},allowAsyncRender:!1},t.defaultOptions_),e&&Mn.isNumber(e.rowHeight)&&Mn.isNil(e.colHeaderHeight)&&(e.colHeaderHeight=e.rowHeight||24),e&&e.headerRow&&Mn.isNil(e.headerRow.height)&&(e.headerRow.height=e.colHeaderHeight||24),t.defaultOptions_.localeResource=Mn.defaultsDeep(An.getResource(t.defaultOptions_.localeResource)||{},t.defaultOptions_.localeResource),t.options=Mn.defaultsDeep(e||{},t.defaultOptions_),t.l_=null,t.cIS_=[],t.sS_={},t.sMS_=!0}function o(e){var t=this,n=t.options.rightToLeft,r=e===zn;return{key:t.grid.uid+(r?"-footer-header":e===jn?"-pl-footer-row":e===Un?"-pr-footer-row":"-footer-row"),isRowRole:!1,renderInfo:{cssClass:"gc-row"+(r?" gc-row-header":"")+" gc-footer-panel-row",style:r?{height:"100%"}:null,renderedHTML:r?'<div class="gc-row-header-cell '+(n?" gc-cell-border-rtl":" gc-cell-border")+'"></div>':t.gFPT_(e)}}}function i(e,t){e.container.focus(),t.preventDefault()}function a(){var e=this;return e.options.allowFocus&&!e.gS_&&e.gLI_()[Vn]}function l(e){var t=this.grid;return t.options.allowCellMerging&&e(t.columns,function(e){return e.allowCellMerging===!0})}function c(e,t){t.preventDefault();var n=e.layoutEngine;if(!n.uFRAI_()){var r=s.call(n,t),o=n.cRoI_;(r||o&&o.sourceIndex===n.selectStartIndex_)&&(n.previousOrder_="moveThenSelect",n.nextOrder_="selectThenMove"),"selectThenMove"===n.previousOrder_&&d.call(n,t);var i,a;n.options.selectionUnit===Nr.CELL?(i=Hn.bind(n),a=[t,n.gLT_()(mr)]):(i=vn.bind(n),a=[t,!0]),r=n.uFR_(i,a,t),r&&"moveThenSelect"===n.previousOrder_&&d.call(n,t)}}function u(e,t){t.preventDefault();var n=e.layoutEngine;if(!n.uFRAI_()){var r=s.call(n,t),o=n.cRoI_;(r||o&&o.sourceIndex===n.selectStartIndex_)&&(n.nextOrder_="moveThenSelect",n.previousOrder_="selectThenMove"),"selectThenMove"===n.nextOrder_&&d.call(n,t);var i,a;n.options.selectionUnit===Nr.CELL?(i=Hn.bind(n),a=[t,n.gLT_()(yr)]):(i=vn.bind(n),a=[t,!1]),r=n.uFR_(i,a,t),r&&"moveThenSelect"===n.nextOrder_&&d.call(n,t)}}function d(e){var t=this,n=t.options.selectionMode;n===Wr.MULTIPLE&&e.shiftKey&&ot.call(t.grid,e,!0)}function s(e){var t=this,n=t.options.selectionMode;return n===Wr.MULTIPLE&&e.shiftKey&&t.sMS_?(t.clearSelection_(),ot.call(t.grid,e,!0),t.selectStartIndex_=t.cRoI_.sourceIndex,t.sMS_=!1,!0):!1}function f(e,t){var n,r,o=e.layoutEngine,i=o.name===fr&&o.options.rightToLeft;o.options.selectionUnit===Nr.CELL?(n=Hn.bind(o),r=[t,o.gLT_()(_r)]):(n=vn.bind(o),r=[t,!i]),o.uFR_(n,r,t),t.preventDefault()}function g(e,t){var n,r,o=e.layoutEngine,i=o.name===fr&&o.options.rightToLeft;o.options.selectionUnit===Nr.CELL?(n=Hn.bind(o),r=[t,o.gLT_()(wr)]):(n=vn.bind(o),r=[t,!!i]),o.uFR_(n,r,t),t.preventDefault()}function h(e,t){t.preventDefault();var n,r,o=e.layoutEngine;o.uFRAI_()||(o.options.selectionUnit===Nr.CELL?(n=Hn.bind(o),r=[t,br]):(n=vn.bind(o),r=[t,!0,!0]),o.uFR_(n,r,t))}function p(e,t){t.preventDefault();var n,r,o=e.layoutEngine;o.uFRAI_()||(o.options.selectionUnit===Nr.CELL?(n=Hn.bind(o),r=[t,Rr]):(n=vn.bind(o),r=[t,!1,!0]),o.uFR_(n,r,t))}function v(e,t){var n=this,r=n.grid,o=r.options.editUnit,i='<div id="'+r.uid+'-inline-editing-area-inner" style="position:absolute;"></div>';n.editDialog_=new On.popup({contentTemplate:i,showOverlay:!1,draggable:!1,parent:document.getElementById(r.uid),setTabOrder:function(e,t){var r=In.call(n),o=0,i=void 0;return Mn.each(e,function(e){var n=Fn.closest(e,"[data-column]"),a=n&&n.dataset.column,l=Mn.find(r,function(e){return e.col===a});l&&l.tab>=0&&(i=l.tab+t,o=Math.max(o,i),e.setAttribute("tabindex",i))}),o}});var a=n.editDialog_,l=a.container,c=l.querySelector(".gc-popup-content");c.appendChild(r.editingHandler.inlineFragment),a.open(),l.id=r.uid+"-inline-editing-area",l.className+=" gc-inline-editing-area gc-editing-area",m.call(n,e),n.inIE_(e,t,l),a.mount("gc-popup-content",Er,function(e){var t=An.Key;switch(e.keyCode){case t.Enter:r.hasEditAction_||(r.stopEditing(),setTimeout(function(){n.uFR_(Hn,[e,yr],e)},0));break;case t.Escape:r.hasCancelAction_||r.cancelEditing();break;case t.Tab:var i=o===Nr.CELL;i&&e.preventDefault();var a=r.editingHandler;!i||a.editingInfo_&&a.editingInfo_.isNewRow||(r.stopEditing(),setTimeout(function(){for(var t,o,i=r.columns,l=!1;!(l||o&&t&&o.viewIndex===t.viewIndex&&o.col===t.column);)o=n.cRoI_,n.uFR_(Ln,[e,e.shiftKey,function(e,t){return l=a.isColumnEditable(r,i[t])}],e),t=I.call(n);l&&a.startEditing(r,t)},0))}}),a.mount("gc-popup-dialog","keyup",function(e){var t=An.Key;switch(e.keyCode){case t.Tab:if(o===Nr.ROW){var r=n.cRoI_,i=Fn.closest(document.activeElement,"[data-column]"),a=i&&i.dataset.column;if(a){var l=Fn.getElement("#"+r.rowID+' [data-column="'+a+'"]');Sn.call(n,l,r.area)}}}}),a.mount("gc-popup-dialog",Hr,function(e){if(!(r.hasEditAction_||r.hasSaveAction_||r.hasCancelAction_)){var t=Fn.closest(e.target,".gc-inline-editor-container");t&&t.dataset.editing||r.stopEditing()}}),a.mount("gc-popup-dialog",Lr,function(e){var t=n.hT_(e);if(t){var o=t.groupInfo,i=o?o.action:t.action;i&&(Mn.assign(t,{uid:r.uid}),i.handler({event:e,dataView:r,hitInfo:t,rowID:On.createID(t),dataItem:dt.call(n,t),closeActionColumnPanel:Ve.bind(n)}))}})}function m(e){var t=this,n=t.editDialog_.container,r=e.groupInfo,o=r?r.row:e.row,i=t.gIEL_(e,o,n),a=n.querySelector(".gc-popup-content"),l=i.outerDiv,c=i.innerDiv;Fn.setCss(n,{top:l.top,left:l.left,width:l.width,height:l.height,border:Ir}),Fn.setCss(a,{left:c.left,top:c.top})}function _(e,t,n){var r=this,o=r.grid,i=r.options.rightToLeft,a=r.options.localeResource,l='<div class="gc-editing-footer"  style="'+(i?"text-align:left":"text-align:right")+'"><button class="gc-editing-update gc-editing-button"><span class="update-text">'+a.updateText+'</span></button><button class="gc-editing-cancel gc-editing-button"><span class="cancel-text">'+a.cancelText+"</span></button></div>",c='<div class="gc-editing-content">'+n+"</div>";r.editDialog_=new On.popup({footerTemplate:l,contentTemplate:c,draggable:!1,showOverlay:!1,parent:document.getElementById(o.uid)});var u=r.editDialog_;u.open();var d=u.container;d.id=o.uid+"-form-editing-area",d.className+=" gc-form-editing-area gc-editing-area";var s=r.gEL_(e,t,d);Fn.setCss(d,{direction:i?"rtl":"ltr",overflow:"hidden",left:s.left,top:s.top,width:s.width,height:s.height}),r.inEFE_(e,t,d),u.mount("gc-editing-cancel",Lr,function(){o.cancelEditing()}),u.mount("gc-editing-cancel",Er,function(e){var t=An.Key;switch(e.keyCode){case t.Enter:o.cancelEditing()}}),u.mount("gc-editing-update",Lr,function(){o.stopEditing()}),u.mount("gc-editing-update",Er,function(e){var t=An.Key;switch(e.keyCode){case t.Enter:o.stopEditing()}}),u.mount("gc-popup-dialog",Lr,function(e){e.stopPropagation()})}function w(e){var t=this,n=t.grid,r=t.options.rightToLeft,o=t.options.localeResource,i='<div class="gc-editing-header"><span class="header-text">'+o.editFormTitle+'</span><div class="gc-editing-close '+(r?"gc-float-left":"gc-float-right")+'"><span class="gc-icon close-icon"></span></div></div>',a='<div class="gc-editing-content">'+e+"</div>",l='<div class="gc-editing-footer" style="'+(r?"text-align:left":"text-align:right")+'"><button class="gc-editing-update gc-editing-button"><span class="update-text">'+o.updateText+'</span></button><button class="gc-editing-cancel gc-editing-button"><span class="cancel-text">'+o.cancelText+"</span></button></div>";t.editDialog_=new On.popup({headerTemplate:i,footerTemplate:l,contentTemplate:a,draggable:!0});var c=t.editDialog_;c.open();var u=c.container;u.id=n.uid+"-popup-editing-area",u.className+=" gc-popup-editing-area gc-editing-area";var d=Fn.gER(u);Fn.setCss(u,{direction:r?"rtl":"ltr",height:"auto",left:"50%",top:"50%",marginTop:-d.height/2,marginLeft:-d.width/2}),c.mount("gc-editing-close",Lr,function(){n.cancelEditing()}),c.mount("gc-editing-cancel",Lr,function(){n.cancelEditing()}),c.mount("gc-editing-cancel",Er,function(e){var t=An.Key;switch(e.keyCode){case t.Enter:n.cancelEditing()}}),c.mount("gc-editing-update",Lr,function(){n.stopEditing()}),c.mount("gc-editing-update",Er,function(e){var t=An.Key;switch(e.keyCode){case t.Enter:n.stopEditing()}})}function I(){var e=this,t=e.grid,n=t.options,r=e.cRoI_;if(r){var o=r.row,i=r.col,a=r.viewIndex,l=r.rowID,c=t.columns[i],u=e.spanRelations_,d=void 0,s=void 0;if(n.allowCellMerging&&c&&c.allowCellMerging&&u&&!n.cellMergingSettings.onlyShowFirstRow){var f=u[a];if(f){a=Mn.find(f,function(e){return e.field===c.id}).anchorRow;var g=t.getItem(a);o=g.row,g.group&&(d={path:g.group.path,area:g.groupArea,row:o,column:i}),g.node&&(s={area:g.nodeArea,path:g.node.path})}}var h={row:o,column:i,viewIndex:a,area:r.area,isNewRow:-1!==l.indexOf("autorow")};return r.group&&(d=d||{path:r.group.path,area:r.groupArea,row:o,column:i},h.groupInfo=d),r.node&&(s=s||{path:r.node.path,area:r.isHierarchyFooter?sr:dr},h.nodeInfo=s),h}}function y(e,t){var n=this,r=n.lT_(vr);if(t&&t[r])return t[r];var o=n.options,i=o.showRowHeader?o.rowHeaderWidth:0,a=n.grid.gCI_().contentRect,l=a.width-n.gTPLI_().width-i,c=0,u=0;return n.gantt_&&(l-=n.gGaW_()),n.sPV_(_r)&&(c=n.gPVPW_(_r)),n.sPV_(wr)&&(u=n.gPVPW_(wr)),e===Xn?c:e===$n?u:(e===Vn&&(l-=c,l-=u),l-=Fn.gSS(n.grid).width,n.gVCW_(l))}function R(e,t,n,r,o,i,a){var l,c,u=this,d=u.grid,s=d.uid,f=u.gLT_(),g=f(mr),h={};h[g]=i?i[g]:"";var p,v=n.node;p=o?v?ln.call(u,{path:o.path,itemIndex:e,area:r,node:v,isHierarchyFooter:!1},o,r,!1,i):oe.call(u,e,o,r,!1,i,a):v?P.call(u,v,e,r,i):u.cRRI_(e,null,0,r,s,h);var m=Fn.createElement(d.rR_(p)),_=a&&a.ownerCssClass;if(m){var w;if(w=o?{row:-1,sourceRowIndex:t,area:r,groupInfo:{row:e,path:o.path,area:ur},node:v&&{area:dr,path:v.path}}:{row:e,sourceRowIndex:t,area:r,node:v&&{area:dr,path:v.path}},c=u.pI_(m,w))return c;var I=m.style,R=y.call(u,r,a&&a.style),b=I.width?I.width:R+"px",C=m.className,T='<div style="position:relative; display:inline-block; left:'+I.left+";top:"+I.top+";width:"+b+";height:"+I.height+'" class="'+C+'">';T+=m.innerHTML,T+="</div>";var H='<div style="position:absolute;height:5000px;width:5000px" class ="gc-grid '+_+'">';H+=T+"</div>";var S=Fn.createElement(H);document.body.appendChild(S),l=Fn.gER(S.children[0]),document.body.removeChild(S)}c={key:t,size:l};var x=u.cIS_[t];return x?x.size=c.size:u.cIS_[t]=c,c}function b(){var e,t,n=this,r=n.grid,o=n.dSI_.hitTestInfo,i=o.columnGroupInfo?o.columnGroupInfo.caption:null,a=o.area;n.iCA_(a)?o.column>=0?(e="#"+r.uid+"-"+a+" .gc-column-header-cell.c"+o.column,t=r.columns[o.column].caption):i&&(e="#"+r.uid+"-"+a+' [data-column-group-header="'+i+'"]',t=i):a===er&&o.groupingPanelInfo&&(e="#"+r.uid+"-grouping-indicator-"+o.groupingPanelInfo.field,t=r.gCBI_(o.groupingPanelInfo.field).caption);var l=document.querySelector(e);if(l){var c=Fn.getBodyStyle(),u=Fn.offset(l),d=n.dSI_.pointOffset;n.dSI_.pointOffset={left:u.left-d.left,top:u.top-d.top};var s=l.clientWidth,f=l.clientHeight;l=Fn.createElement('<div class="gc-drag-clue" style="z-index:999"><span class="gc-icon gc-drag-clue-icon add"></span><span class="gc-drag-clue-text"> '+t+"</span></div>"),l.id="";var g=l.style;g.top=u.top-c.top+"px",g.left=u.left-c.left+"px",g.width=s+"px",g.height=f+"px",g.position=Wn,g["line-height"]=f+"px",document.body.appendChild(l),n.dDE_=l;var h=n.gReI_(),p=n.gGIn_();document.body.appendChild(h),document.body.appendChild(p);var v=Fn.getStyle(l),m=Fn.gCSV,_=m(l,v,tr),w=m(l,v,nr),I=l.querySelector(".gc-drag-clue-icon"),y=Fn.getStyle(I),R=m(I,y,rr),b=m(I,y,or);return s=s-_-w-(R+b+I.offsetWidth)-3,l=l.querySelector(".gc-drag-clue-text"),l.style.width=s+"px",0>=s&&(l.style.display=Ir),n.dDIE_=h,n.dDIGE_=p,!0}return!1}function C(e){var t=this,n=t.lT_,r=t.gLI_()[Vn],o=n(_r),i=n(vr),a=n("contentWidth"),l=t.sS_.row.style;l[o]=e+"px",t.options.rightToLeft?0>e?l.border="1px solid rgba(0, 0, 0, 0.2)":(l.overflow="hidden",l.removeProperty("border")):e>0?(l.borderRight="1px solid rgba(0, 0, 0, 0.2)",l.overflow="hidden",l[i]=r[a]-e+"px"):(l.removeProperty("border-right"),l.removeProperty("overflow"),l.removeProperty(i))}function T(e,t,n,r){var o=this,i=o.sS_;if(i.row)if(n){var a=o.lT_,l=a(_r),c=a(vr),u=parseFloat(i.row.style[l]),d=document.getElementById(i.row.id+"-"+i.actionType+"-actionPanel"),s=d?parseFloat(d.style[c]):0,f=e-u,g=t-s,h=.25*(1/r);h=h>.1?.1:h,On.ani.play(h,function(e){C.call(o,f*e+u),Be.call(o,g*e+s)})}else C.call(o,e),Be.call(o,t)}function H(e){var t,n,r=this,o=r.swDT_,i=o(_r),a=o(wr),l=r.sS_;return Mn.each([i,a],function(e){t=document.getElementById(l.row.id+"-"+e+"-actionPanel"),t&&(n=e)}),n||(n=e>0?i:a),n}function S(){var e=this,t=e.swDT_,n=e.sS_;return t(n.moveDistance>0?_r:wr)!==n.actionType}function x(e,t,n,o,i,a,l){var c,u=this,d=e.indexOf("autorow")>0,s=L.call(u,a,l,d),f=u.options.rightToLeft,g=u.gLT_(),h=(c={},r(c,g(mr),n),r(c,g(pr),o),r(c,g(vr),u.options.rowHeaderWidth),c),p="gc-row gc-row-header";a&&(a.area===lr?p="gc-row gc-group-header-row gc-row-header":a.area===lr&&(p="gc-row gc-group-footer-row gc-row-header"));var v,m,_=u.grid,w="";if(_.dataSource_.batchEdit){var I,y=_.data;if(a){var R=_.gGI_(a.path).data;I=R.getSourceRowIndex(a.itemIndex)}else I=y.getSourceRowIndex_(i);v=y.isNewAddedRow(I),m=y.isModifiedRow(I)}return m&&(w='<div class="gc-icon gc-end-editing"></div>'),v&&(w='<div class="gc-icon gc-add-item"></div>'),s&&(w=E(e+"-select")),{key:e,isRowRole:t,renderInfo:{cssClass:p,style:h,renderedHTML:'<div class="'+(d?"gc-autorow-header-cell ":"gc-row-header-cell ")+(f?"gc-cell-border-rtl":"gc-cell-border")+'">'+w+"</div>"}}}function L(e,t,n){return this.options.allowHeaderSelect&&(e&&!e.isHierarchyFooter&&e.area!==cr||!e&&(!t||!t.isHierarchyFooter))&&!n}function E(e){return'<input type="checkbox" id="'+e+'" class="gc-header-select-icon" onclick="return false;" />'}function P(e,t,n,r,o){var i=this,a=i.options.rightToLeft,l=i.gLT_(),c=l(mr),u=l(a?wr:_r),d=l(pr),s={},f=i.getRowMargins_();s[c]=r?r[c]:"",s[d]=r?r[d]:"",s[c]+=f[c],s[u]=f[u];var g=On.createID(i.grid.uid,n,t,{area:"groupContent",path:o&&o.path},{area:sr,path:e&&e.path}),h={key:g,isRowRole:!1,selected:!1,renderInfo:{cssClass:"gc-node-footer node-level"+e.level+" r"+t,style:s,renderedHTML:i.getHierarchyFooterTemplate_(t,n)(nn.call(i,e))}};return h}function D(e,t,n,r,o){var i=this,a=i.gGFH_(e.data),l=i.gLT_(),c=l(mr),u=l(pr),d={};d[c]=t,d[u]=a;var s=r?r.style:"",f=r?r.CSSClass:"";return d=s?Mn.assign(d,s):d,{cssClass:"gc-row gc-group-footer-row g"+e.path.join("_")+(f?" "+f:""),style:d,renderedHTML:i.getGroupFooterTemplate_(e,n)(ue.call(i,e,o))}}function M(e,t,n,r,o,i,a){var l=this,c=l.grid,u=c.columns,d=l.options,s=l.gLT_(),f=s(mr),g=s(pr),h={};h[f]=o?o[f]:"",h[g]=o?o[g]:"";var p=i?i.style:"",v=i?i.CSSClass:"";h=p?Mn.assign(p,h):h;var m=n.data;m.groupDescriptor.footer;t||(t=c.formatDataItem(m.getItem(e,!0)));var _="";W(c)&&(_=" gc-node node-level"+t.node.level);var w=l.hSC_();if(w){var I,y,R,b,C,T,H=d.cellMergingSettings,S=H.groupedColumn,x=H.onlyShowFirstRow,L=S.showIcon,E=c.data.groupDescriptors,P=H.alwaysShowText,D=c.gSO_(Vn)[f],M=D+l.gVLI_()[g];Mn.each(u,function(e){I=e.id,y=a&&a[I],R=Mn.findIndex(E,function(e){return e.field===I}),b=R>=0&&l.gCP_(e,Ar),L&&b&&y&&(t["showIcon_"+I]=L,t.groupStatus=m.collapsed?"collapsed":"expand",t["groupPath_"+I]=Mn.take(m.path,R+1).join("_")),x?(t["show_"+I]=!0,t["hideText_"+I]=!y):y&&(t["show_"+I]=!0,t[I+"_height"]=y.height,P&&(C=Math.min(M,h[f]+y.height)-Math.max(D,h[f]),C>d.rowHeight&&(T=D-h[f],t[I+"_outsideHeight"]=T>0?T:0,t[I+"_intersectHeight"]=C)))})}return{cssClass:"gc-row"+(e%2===0?" even ":" odd ")+" r"+e+" "+_+(v?" "+v:""),style:h,renderedHTML:l.gRT_(r)(t)}}function F(e,t,n,r){var o=this;if(r){var i={key:he.call(o,e),top:t,info:e},a=o.gLT_();return i[a(mr)]=t,i[a(pr)]=n,i}return pe.call(o,t,n,e)}function A(e,t,n,r,o,i){var a=this,l=a.gLT_(),c={overflow:"hidden"};c[l(mr)]=r,c[l(vr)]=n,c[l(pr)]=a.gGHH_(t.data);var u=i?i.style:"",d=i?i.CSSClass:"";return c=u?Mn.assign(c,u):c,{cssClass:"gc-row gc-group-header-row g"+e.join("_")+(d?" "+d:""),style:c,renderedHTML:ce.call(a,t,o)}}function O(e,t,n,r,o,i){var a,l,c=this,u=c.grid,d=u.gGI_(e.path),s=d.data.groupDescriptor.header,f=c.gLT_();if(s&&s.visible)if(l=c.gGHH_(d.data),t)a=F.call(c,e,r,l,o);else{var g=On.createID(u.uid,i,null,e);o?(a={key:g,info:e,area:lr},a[f(vr)]=n,a[f(mr)]=r,a[f(pr)]=l):a=le.call(c,g,e,d,n,r,i)}var h={row:a};return h[f(pr)]=l,h}function G(e,t,n,r,o,i){var a,l,c=this,u=c.grid,d=u.gGI_(e.path),s=c.gLT_();if(l=e.isHierarchyFooter?c.gHFH_(e.itemIndex,o,e.path):c.gRH_(e.itemIndex,o,e.path),t)a=W(u)?an.call(c,e,n,l,r):F.call(c,e,n,l,r);else{var f={};f[s(pr)]=l,f[s(mr)]=n,a=W(u)?ln.call(c,e,d,o,r,f,null,i):oe.call(c,e.itemIndex,d,o,r,f,null,i)}var g={row:a};return g[s(pr)]=l,g}function W(e){return!(!e.data||!e.data.hierarchyDescriptor)}function N(e,t,n,r,o,i){var a,l,c=this,u=c.grid,d=u.gGI_(e.path),s=d.data,f=c.gLT_();if(c.hasGroupFooter_(s))if(l=c.gGFH_(s),t)a=F.call(c,e,n,l,r);else{var g=On.createID(u.uid,o,null,{area:cr,path:e.path});r?(a={key:g,info:e,area:cr,spanInfo:i},a[f(pr)]=l,a[f(mr)]=n):a=z.call(c,g,e,d,n,o,i)}var h={row:a};return h[f(pr)]=l,h}function k(){var e=this;if(!e.options.allowGrouping)return 0;var t=e.grid.gCI_().contentRect.width,n=Fn.createElement('<div class="gc-grouping-container"><div>');document.body.appendChild(n);var r=Fn.getStyle(n),o=Fn.gCSV,i=o(n,r,tr),a=o(n,r,nr);document.body.removeChild(n),t=t-i-a;var l='<div class="gc-grouping-container"><div style="width:'+t+'px;">'+j.call(e,!1)+"</div></div>",c=Fn.createElement(l);document.body.appendChild(c);var u=c.offsetHeight;return document.body.removeChild(c),u}function V(e,t,n,r,o,i){function a(){var t=[];t.push(R.call(l,e,d,s,Vn,u,o,i)),l.sPV_(_r)&&t.push(R.call(l,e,d,s,Xn,u,o,i)),l.sPV_(wr)&&t.push(R.call(l,e,d,s,$n,u,o,i));var n=l.lT_(pr);if(1===t.length)return t[0].size[n];var r=Mn.max(t,function(e){return e.size[n]}).size;return l.cIS_[d]={key:d,size:r},r[n]}var l=this,c=l.grid,u=n?c.gGI_(n):null,d=u?u.data.getSourceRowIndex(e):c.data.getSourceRowIndex_(e),s=c.data.getItemBySourceIndex_(d),f=q.call(l,d,r);return r?{oldHeight:f,newHeight:a()}:An.isNil(f)?a():f}function B(e){var t=this,n=On.gUERT_(e,t.options),r=t.lT_;if(n){var o='<div class="gc-grid" style="position:absolute;top:-10000px;left:-10000px;width:5000px;height:5000px;">'+n+"</div>",i=Fn.createElement(o);document.body.appendChild(i);var a;Mn.each(t.grid.columns,function(e){a=i.querySelector('[data-column="'+e.id+'"]'),a&&(e.visibleWidth=Fn.gER(a)[r(vr)])}),document.body.removeChild(i)}}function q(e,t){var n,r,o=this,i=o.lT_;return An.isNil(e)||(n=o.cIS_[e],n&&(r=n.size[i(pr)],t&&(o.cIS_[e]=null))),r}function j(e){var t,n,r,o=this,i=o.grid,a=i.data.groupDescriptors,l=i.uid+"-grouping-indicator-",c=a.length,u=o.options.rightToLeft,d="";if(0===c)d+='<div class="gc-grouping-help-content">'+o.options.localeResource.groupDragText+"</div>";else for(t=0;c>t;t++)n=a[t].field,r=i.gCBI_(n,!0,!0),d+="<div"+(e?' id="'+l+n+'"':"")+' class="gc-grouping-indicator'+(u?"-rtl":"")+'"><span class="gc-grouping-title">'+(r?r.caption:"")+'</span><span class="gc-icon gc-icon-grouping-delete"></span></div>';return d}function U(e,t){var n,r,o,i,a=this,l=e,c=t,u=a.grid,d=u.data.groupDescriptors,s=d.length,f=0,g=a.hTI_.groupingPanelInfo,h=g?g.field:"",p=0,v=0,m=0,_=a.options.rightToLeft,w=_?function(e,t,n){return n?e>=t:e>t}:function(e,t,n){return n?t>=e:t>e};if(h){for(n=0;s>n;n++)if(d[n].field===h){f=n;break}}else for(f=s,n=0;s>n;n++){r=document.getElementById(u.uid+"-grouping-indicator-"+d[n].field),i=r.clientHeight,o=Fn.offset(r);var I=o.left;if(_&&(I=Math.floor(I)+r.clientWidth-1),w(l,I)&&c>=o.top&&c<=o.top+i){f=n;break}if(w(I,p)&&c>=v&&v+m>=c){f=n;break}p=I,v=o.top,m=i}return f}function z(e,t,n,r,o,i){var a=this;return{key:e,isRowRole:!1,renderInfo:D.call(a,n,r,o,null,i)}}function X(e,t,n){if(!t){if(n===Vn)return e.cachedTmplFn_;if(n===Xn)return e.cachedPinedTmplFn_;if(n===$n)return e.cachedRightPinedTmplFn_}return null}function Y(e,t,n){e.cachedGroupFooterFn_=e.cachedGroupFooterFn_||{};var r=e.cachedGroupFooterFn_;return r[n]=r[n]||[],r[n][t.path.length-1]}function $(e,t){return t===Vn?e.cachedHFooterTmplFn_:t===Xn?e.cachedPinedHFooterTmplFn_:t===$n?e.cachedRightPinedHFooterTmplFn_:null}function K(e,t){var n,r=this,o=r.grid.cC_,i=r.options,a=r.lT_(vr),l=0,c=t?i.headerRow.height:i.colHeaderHeight,u=On.gCHL_(o),d="";return Mn.each(o,function(t){n=r.gGCHRI_(t,-1,c,l,e,u),n&&(d+=n.html,l+=n[a])}),d}function J(e,t){var n=this,r=e.path,o=e.data;n.cachedGroupHeaderFn_=n.cachedGroupHeaderFn_||{};var i=n.cachedGroupHeaderFn_;if(i[t]=i[t]||[],i[t][r.length-1])return i[t][r.length-1];var a=Mn.find(n.grid.columns,function(e){return e.groupHeader&&o.groupDescriptor.field===e.id}),l=a?"("+a.groupHeader+")":"({{=it.count}} items)",c=n.sPV_(_r)?t===Xn:t===Vn,u=n.gGHTI_(c?l:null,o);return i[t][r.length-1]=Gn.template(u,null,null,!0),i[t][r.length-1]}function Z(e,t,n){var r,o=this,i=e.data.groupDescriptor.footer;if(r=i&&t===Xn?i.pinnedLeftTemplate:i&&t===$n?i.pinnedRightTemplate:i.template,r&&n){var a=Fn.createElement("<div>"+i.template+"</div>");Fn.inverseToRTL(a),r=Fn.getElementInnerText(a)}var l=jt(t);return r=r||On.gUERT_(l,o.options)||o.gDRT_(l)}function Q(e,t,n){var r=n.id;if(!t){if(e.data.isCalculatedColumn(r))return n.presenter||'{{=it["'+r+'"]}}';var o=n.dataField?n.dataField.split(","):[];if(1===o.length)return'{{=it["'+r+'"]}}';var i=[];return Mn.each(o,function(t,n){var o=e.gCBI_(t);o?i.push(o.presenter||'{{=it["'+o.id+'"]}}'):i.push('{{=it["'+r+'"]['+n+"]}}")}),i.join(" ")}return null}function ee(e,t){var n=e.gLT_(),r=e.options.rightToLeft,o="";return fe(e.grid)===t.id&&(o='<div style="margin-'+n(r?wr:_r)+':{{=it.offset}}px;display:inline-block;width:0px;"><div class="gc-node-indicator-container"><span class="gc-icon gc-node-indicator gc-float-'+(r?"right":"left")+" {{? it.node.collapsed}}collapsed"+(r?"-rtl":"")+'{{??}}expanded{{?}}" style="visibility:hidden;"></span></div></div>'),o}function te(e,t,n,r,o,i){var a,l,c=e.grid;if(n){var u=e.gCP_(r,Fr);a=u&&u.renderer,a&&An.isFunction(a)&&(a="")}var d=!!r.action;r.caption;return l=t?n?a||"":r.colHeaderPresenter||"":d?ct.call(e,r):i?"":r.presenter||o,!t&&W(c)&&r.id===fe(c)&&(l=e.gTCP_()+'<span class="gc-node-content-container">'+l+"</span>"),l}function ne(e,t){var n=this,r=n.grid.data.groupDescriptors;if(r&&r.length>t){var o=r[t],i=o.footer&&o.footer.columns;if(i){var a=Mn.find(i,function(t){return t.id===e});return a&&a.groupFooter}}return null}function re(e,t,n,r,o,i,a){var l,c=arguments.length<=7||void 0===arguments[7]?!1:arguments[7],u=this,d=!!o,s=!An.isNil(i),f=!d&!s,g=u.options,h=g.rightToLeft;if(!n&&!r&&(l=f?X(u,e,a):d?Y(u,o,a):$(u,a)))return l;var p,v=jt(a),m=!1;f?(p=On.gUERT_(v,g,e),p&&(m=!0),!p&&e&&(p=On.gUERT_(v,g,!1)),p||(p=e?K.call(u,v,t):u.gDRT_(v,u.iFA_(a)?g.footerRow.height:null))):p=d?Z.call(u,o,a,h):rn.call(u,i,a);var _,w,I,y,R,b,C,T,H,S=u.grid;S.data;p=ge.call(u,p,a);var x=Fn.createTemplateElement(p);p=Fn.getElementInnerText(x);var L,E=S.options.cellMergingSettings.alwaysShowText;if(e){var P=x.querySelectorAll(".gc-cell");Mn.each(P,function(e){e.hasAttribute("data-column")||(Fn.removeClass(e,"gc-cell"),Fn.addClass(e,"gc-column-header-cell"))}),p=Fn.getElementInnerText(x)}var D=x.querySelectorAll("[data-column]"),M=h?" gc-cell-border-rtl":" gc-cell-border";Mn.each(D,function(i){C=i.getAttribute("data-column"),T=S.gCBI_(C),L=!c&&!e&&!t&&!r&&!s&&u.gCP_(T,Ar),b=i,R=b.tagName,_=Fn.getElementOuterText(b),!m&&e?(Fn.removeClass(b,"gc-cell-border"),Fn.removeClass(b,"gc-cell"),Fn.removeClass(b,"gc-header-row-cell"),Fn.removeClass(b,"gc-column-header-cell"),w=Fn.getElementOuterText(b)):m?m&&t?(b.innerHTML="",w=Fn.getElementOuterText(b)):w=_:(Fn.removeClass(b,"gc-cell-border"),Fn.removeClass(b,"gc-cell"),w=Fn.getElementOuterText(b)),H=On.ci_(S,C);var a,l;n?(a=T.footer||"",l=a,y="gc-cell gc-footer-panel-cell"+M+" c"+H):f?(a=Q(S,e,T),l=te(u,e,t,T,a,r),l||!e||t||m||(l=T.caption),y=m?"":(e?t?"gc-header-row-cell":"gc-column-header-cell":"gc-cell")+M+" c"+H+(L?'{{? it["show_'+C+'"]}} gc-merging{{?}}':""),m&&-1===y.indexOf("c"+H)&&(y+="c"+H)):d?(a=ne.call(u,T.id,o.path.length-1)||T.groupFooter||"",l=a,y="gc-cell gc-group-footer-cell"+M+" c"+H+(L?'{{? it["showIcon_'+C+'"]}} gc-merging{{?}}':"")):(a=T.hierarchyFooter||"",l=ee(u,T)+a,y="gc-cell gc-node-footer-cell"+M+" c"+H),u.name!==hr||m||(y+=" "+lt.call(u,T.dataType));var h,v,x=R.length,P=w.slice(0,w.length-(x+3)),D=P.indexOf("class=");if(P=-1===D?P.slice(0,x+2)+' class="'+y+'" '+P.slice(x+2):P.slice(0,D+7)+y+" "+P.slice(D+7),m||e||(P=P.slice(0,x+2)+" data-taborder="+H+" "+P.slice(x+2)),f){L&&!n&&(l='{{?it["showIcon_'+C+'"]}}<span data-group={{=it.groupPath_'+C+'}} class="gc-icon gc-grouping-toggle {{=it.groupStatus}}"></span>{{?}}{{? !it["hideText_'+C+'"]}}'+l+"{{?}}",l=E?'{{? it["'+C+'_intersectHeight"] > '+g.rowHeight+'}}<div style="height:100%;position:relative;"><div style="position:absolute;left:0;top:{{=it["'+C+'_outsideHeight"]}}px;height:{{=it["'+C+'_intersectHeight"]}}px;line-height:{{=it["'+C+'_intersectHeight"]}}px;">'+l+"</div></div>{{??}}"+l+"{{?}}":l),h=e&&!t?st.call(u,T,H):"",h&&(v=Fn.createElement(l),v?(v.innerHTML=h+v.innerHTML,l=v.outerHTML):l=h+l);var F=T.cssClass;F&&(Mn.isString(F)?l='<div class="'+F+'">'+l+"</div>":Mn.isFunction(F)&&(l='<div class="{{=it.'+T.id+'_cssClass}}">'+l+"</div>")),I=P+l+"</"+R+">"}else if(d){if(I=P+a+"</"+R+">",L&&!n){var A=a?a:'{{=it["showText_'+C+'"]}}';I='{{? it["showIcon_'+C+'"]}}'+P+"<span data-group={{=it.groupPath_"+C+'}} class="gc-icon gc-grouping-toggle {{=it["groupStatus_'+C+'"]}}"></span>'+A+"</"+R+">{{??}}"+P+A+"</"+R+">{{?}}",I='{{?it["'+C+'_height"]}}'+I.replace(/line-height\s*:\s*(\d+)px;/g,"").replace(/height\s*:\s*(\d+)px;/g,'height:{{=it["'+C+'_height"]}}px;line-height:{{=it["'+C+'_height"]}}px;')+"{{??}}"+I+"{{?}}",I='{{? it["show_'+C+'"]}}'+I+"{{?}}"}}else I=P+l+"</"+R+">";-1===p.indexOf(_)&&(_=_.replace(/"/g,"'")),L&&!n&&(I='{{?it["'+C+'_height"]}}'+I.replace(/line-height\s*:\s*(\d+)px;/g,"").replace(/height\s*:\s*(\d+)px;/g,'height:{{=it["'+C+'_height"]}}px;line-height:{{=it["'+C+'_height"]}}px;')+"{{??}}"+I+"{{?}}",I='{{? it["show_'+C+'"]}}'+I+"{{?}}"),p=p.replace(_,I)}),x=null;var l;if(n){var F=g.footerRow.data;return An.isFunction(F)&&(F=F({dataView:S})),p=se.call(u,p,F),Gn.template(p)({})}if(d){var A=u.cachedGroupFooterFn_,O=o.path;return A[a][O.length-1]=Gn.template(p,null,null,!0),A[a][O.length-1]}if(s)return l=Gn.template(p,null,null,!0),a===Xn?u.cachedPinedHFooterTmplFn_=l:a===$n?u.cachedRightPinedHFooterTmplFn_=l:u.cachedHFooterTmplFn_=l,l;if(r)return Gn.template(p,null,null,!0);if(!e)return l=Gn.template(p,null,null,!0),a===Xn?u.cachedPinedTmplFn_=l:a===$n?u.cachedRightPinedTmplFn_=l:u.cachedTmplFn_=l,l;if(t&&(p=se.call(u,p)),e){var G={};return Mn.forEach(S.columns,function(e){G[e.id]=e.caption}),Gn.template(p)(G)}return Gn.template(p)({})}function oe(e,t,n,r,o,i,a){var l=this,c=On.createID(l.grid.uid,n,e,{area:"groupContent",path:t&&t.path});return r?{key:c,path:t.path,rowIndex:e,layout:o,area:ur,spanInfo:a}:ie.call(l,c,e,t,n,o,i,a)}function ie(e,t,n,r,o,i,a){var l=this;return{key:e,isRowRole:!0,renderInfo:M.call(l,t,null,n,r,o,i,a)}}function ae(e,t,n,r,o,i,a,l){var c=this;return{key:e,isRowRole:!0,renderInfo:M.call(c,t,n,r,o,i,a,l)}}function le(e,t,n,r,o,i){var a=this;return{key:e,isRowRole:!1,renderInfo:A.call(a,t.path,n,r,o,i)}}function ce(e,t){var n=this;return J.call(n,e,t)(ue.call(n,e))}function ue(e,t){var n=this,r=n.grid,o=e.data,i=o.groupDescriptor,a=(i.footer,r.options),l=r.columns,c={name:o.name,path:o.path.join("_"),count:o.itemCount,level:o.level,margin:18*o.level,groupStatus:o.collapsed?"collapsed":"expand",condition:i.field,eval:function(e,t){var r=o.evaluate(e);return de.call(n,r,t,e)}};if(a.allowCellMerging){var u,d,s,f,g=a.cellMergingSettings,h=g.groupedColumn,p=g.onlyShowFirstRow,v=r.data.groupDescriptors,m=o.path;Mn.each(l,function(e){if(n.gCP_(e,Ar)){var i,a=-1;d=e.id,s="show_"+d,f=t&&t[d];for(var l=0,g=v.length;g>l;l++)if(v[l].field===d){i=v[l],a=l;break}i&&f&&(u=r.gGI_(Mn.take(m,a+1)).data,a<=o.level&&(c["showText_"+d]=u.name),h.showIcon&&(a<=o.level?(c["showIcon_"+d]=!0,c["groupStatus_"+d]=u.collapsed?"collapsed":"expand",c["groupPath_"+d]=Mn.take(o.path,a+1).join("_")):c["showIcon_"+d]=!1)),p?(c[s]=!0,f&&!i&&(c[d+"_height"]=f.height)):(c[s]=f||!i,c[d+"_height"]=f&&f.height)}})}return c}function de(e,t,n,r){var o=this,i=An.findPlugin("Sparkline");if(i&&e instanceof i.BaseSparkline){if(r)return"<span data-formula='"+n+'\' class="gc-header-row-sparkline" style="position:relative;display:inline-block;vertical-align:middle;width:100%;height:100%;"></span>';var a=o.options.rowHeight;return"<span data-formula='"+n+'\' class="gc-group-sparkline" style="position:relative;display:inline-block;vertical-align:middle;width:'+4*a+"px;height:"+a+'px;"></span>'}if(An.isFunction(t))return t(e);if(!An.isNil(window.GC.Spread)){var l=o.grid.ExcelFormatter_;if(l){var c=new l(t);return c.format(e)}}return e}function se(e,t){var n=this;if(e&&e.indexOf("{{")>=0){var r={eval:function(e,t){var r=n.grid.data.evaluate(e);return de.call(n,r,t,e,!0)}},r=t?Mn.defaults(t,r):r;e=Gn.template(e,null,null,!0)(r)}return e}function fe(e){var t=e.options.hierarchy,n=e.columns;if(t&&t.column){var r=Mn.find(n,Mn.mP("id",t.column));return r?r.id:n[0].id}return n[0].id}function ge(e,t){var n=this,r=n.grid,o=document.createElement("div");o.innerHTML=e;var i,a,l=o.querySelectorAll("[data-column]"),c=jt(t);return Mn.each(l,function(e){i=e.getAttribute("data-column"),a=r.gCBI_(i),On.iTAC_(a)&&e.style.setProperty("display",Ir),r.iCV_(a,c)||e.style.setProperty("display",Ir)}),Fn.getElementInnerText(o)}function he(e){var t=this,n=t.grid,r=e.itemIndex;r===n.data.itemCount&&(r=-1);var o=e&&e.path?e:null,i=e&&e.node,a=i?{area:e.isHierarchyFooter?sr:dr,path:i.path}:null;return On.createID(n.uid,Zn,r,o,a)}function pe(e,t,n){var r=this,o=he.call(r,n);return x.call(r,o,!1,e,t,null,n)}function ve(e,t){return t.left>=e.left&&t.top>=e.top&&t.left<=e.left+e.width&&t.top<=e.top+e.height}function me(e,t,n,r){var o=Fn.gER(n),i=Fn.gER(r),a=o.left-i.left,l=o.top-i.top,c=a+o.width,u=l+o.height;return e>=a&&c>=e&&t>=l&&u>=t}function _e(e){var t=this;Ve.call(t),xt.call(t,"resize");var n=t.grid,o=t.dSI_,i=o.hitTestInfo,a=o.pointOffset,l=t.hTI_=t.hT_(e),c=t.dDE_,u=Fn.getBodyStyle();c.style.top=e.pageY+a.top-u.top+"px",c.style.left=e.pageX+a.left-u.left+"px",c.querySelector(".gc-drag-clue-icon").className="gc-icon gc-drag-clue-icon forbidden";var d=t.dDIE_,s=t.dDIGE_,f=d.style,g=s.style;f.display=Ir,g.display=Ir;var h,p,v,m=n.data.groupDescriptors;if(Vt.call(t,i,l)){h=g,c.querySelector(".gc-drag-clue-icon").className="gc-icon gc-drag-clue-icon add";var _,w=U.call(t,e.pageX,e.pageY);p=m.length;var I=t.options.rightToLeft,y=I?u.right:u.left,R=document.getElementById(n.uid+"-groupingPanel"),b=Fn.gER(R);if(p>0){_=w===p?m[p-1].field:m[w].field;var C=document.getElementById(n.uid+"-grouping-indicator-"+_);v=Fn.offset(C),Mn.assign(h,{left:I?(p>w?v.left+C.clientWidth:v.left-15)-y+"px":(p>w?v.left-15:v.left+C.clientWidth)-y+"px",top:v.top-u.top+"px",height:b.height-16+"px"})}else{var T;Mn.assign(h,(T={},r(T,I?wr:_r,b.left+(I?y:-y)+"px"),r(T,"top",b.top+8-u.top+"px"),r(T,"height",b.height-16+"px"),T))}h.display="block"}else if(qt.call(t,i,l)){c.querySelector(".gc-drag-clue-icon").className="gc-icon gc-drag-clue-icon add";
var H=n.container.querySelector("#"+n.uid+"-"+l.area+" .gc-column-header ["+(-1!==l.column?"data-column":"data-column-group-header")+'="'+(-1!==l.column?n.columns[l.column].id:l.columnGroupInfo.caption)+'"]'),S=n.container.querySelector("#"+n.uid+"-"+i.area+" .gc-column-header ["+(-1!==i.column?"data-column":"data-column-group-header")+'="'+(-1!==i.column?n.columns[i.column].id:i.columnGroupInfo.caption)+'"]'),x=Fn.offset(S),L=Fn.gER(H);h=f,h.display="block";var E=t.lT_,P=E(mr),D=E(_r),M=E(vr),F=E(pr),A=E("clientHeight"),O=!0;O=x[D]!==L[D]?x[D]>L[D]:x[P]>L[P];var G=L[D]+(O?0:L[M])-u[D];if(l.area===Jn){var W=n.container.querySelector("#"+n.uid+"-columnHeader"),N=Fn.gER(W);G=Math.min(G,N[D]+N[M]-u[D])}h[D]=G+"px",h[P]=L[P]-u[P]+"px",h[F]=H[A]+"px"}}function we(e,t,n){var r,o=e,i=this,a=o.options;t||"[object MouseEvent]"!==Object.prototype.toString.call(e)||(t=e);var l,c=i.mdHI_,u=c&&c.area,d=i.hTI_=i.hT_(t);if(i.iRC_)gn.call(i,t,n,!0);else if(i.iDD_)_e.call(i,t);else if(i.dSC_||i.dSG_)i.iDDIP_||(d.columnListInfo&&(r={status:"beforeColumnReorder",oldIndex:On.ci_(o,d.columnListInfo.column),cancel:!1},o.columnReorder.raise(o,r)),r&&r.cancel?(i.iDDIP_=!1,i.dSC_=null):i.iDDIP_=!0),i.iDDIP_&&zt.call(i,t,n);else{l=i.mdP_;var s="default";d&&d.area;if(c){if(a.allowColumnResize&&Ie(i,c)){i.iRC_=!0;var f=c.column;i.rCI_={index:f>=0?f:c.columnGroupInfo.caption,oldValue:f>=0?o.columns[f].visibleWidth:On.gGCHW_(o,On.gGCBC_(o,o.cC_,c.columnGroupInfo.caption),jt(d.area))},i.rLP_=l,n&&(i.muFn_||(i.muFn_=Ce.bind(i),An.regist(document,Sr,i.muFn_)),i.mvFn2_||(i.mvFn2_=Re.bind(i),An.regist(document,xr,i.mvFn2_)),St.call(i));var g,h=a.rightToLeft,p=i.name===hr,v=p?_r:mr,m=p?vr:pr,_=p?pr:vr,w=document.querySelector(Et.call(i)),I=Fn.gER(w),y=o.gCI_().contentRect,R=jt(u),C=R===Ir?a.rowTemplate:R===_r?a.pinnedLeftRowTemplate:a.pinnedRightRowTemplate,T=R===Ir?a.colHeaderTemplate:R===_r?a.pinnedLeftColHeaderTemplate:a.pinnedRightColHeaderTemplate,H='<div class="gc-column-resizer"></div>',S=Fn.createElement(H),x=S.style;if(C||T){var L=un.call(i,R),E=L.isColumnHeader?u:R===Ir?"viewport":R===_r?"pinnedLeftViewport":"pinnedRightViewport";g=Fn.gER(document.querySelector("#"+o.uid+"-"+E+' [data-column="'+o.columns[L.index].id+'"]')),!L.isColumnHeader&&"top"===v}var P=h&&p;P?x[v]=(C?g[v]:I[v])-y[v]+I[m]+"px":x[v]=(C?g[v]:I[v])-y[v]+"px",x[_]=y[_]+"px",i.lR_=S;var D=Fn.createElement(H);x=D.style,P?x[v]=I[v]-y[v]+"px":x[v]=I[v]-y[v]+I[m]+"px",i.rX_=I[v]-y[v],x[_]=y[_]+"px",i.lR_=S,i.riR_=D,i.rEW_=I[m],i.tO_=0,document.getElementById(o.uid).appendChild(S),document.getElementById(o.uid).appendChild(D)}}else if(i.dSI_&&!i.iDD_&&(l&&t.pageX!==l.left||l&&t.pageY!==l.top)){var M=b.call(i);if(M){if(c||(c=i.hT_({pageX:l.left,pageY:l.top}),u=c&&c.area),(u===Jn||u===Yn||u===Kn)&&(r={status:"beforeColumnReorder",oldIndex:c.column>=0?c.column:c.columnGroupInfo.caption,cancel:!1},o.columnReorder.raise(o,r),r&&r.cancel))return i.dSI_=null,He.call(i,n),!1;i.iDD_=!0,n&&(i.muFn_||(i.muFn_=Ce.bind(i),An.regist(document,Sr,i.muFn_)),i.mvFn2_||(i.mvFn2_=Re.bind(i),An.regist(document,xr,i.mvFn2_))),document.body.className=document.body.className+" no-select"}}else n&&(s="default",i.cursor_=i.cursor_||"default",d&&d.headerInfo&&d.headerInfo.inResizeMode&&i.options.allowColumnResize&&Ie(i,d)&&(s=i.gCRC_()),i.cursor_!==s&&(i.cursor_=s,o.container.querySelector(".gc-grid").style.cursor=s))}}function Ie(e,t){var n,r=e,o=r.grid;return t.column>=0?(n=o.columns[t.column],r.gCP_(n,Mr)):Pt(o,t.columnGroupInfo.caption,jt(t.area),!0)>0}function ye(e,t){we.call(this,e,$e(t),!1)}function Re(e,t){we.call(this,e,t,!0)}function be(e,t){Te.call(this,$e(t),!1)&&(t.handled=!0)}function Ce(e){Te.call(this,e,!0)}function Te(e,t){var n,r,o,i,a,l,c=this,u=c.grid,d=c.options,s=u.container,f=u.uid,g=u.data.groupDescriptors.slice(),h=!1,p=c.hTI_;if(c.iDD_){r=c.dSI_.hitTestInfo;var v;if(He.call(c,t),Vt.call(c,r,p)){var m=U.call(c,e.pageX,e.pageY);if(r.area===er){var _=r.groupingPanelInfo.field,w=c.hTI_.groupingPanelInfo;v=w?w.field:"",i=g.length;var I;for(o=0;i>o;o++)if(g[o].field===_){I=o;break}var y=m;m>I&&(m-=1),m!==I&&(a={action:"reorder",oldIndex:I,newIndex:y,cancel:!1},u.grouping.raise(u,a),a&&a.cancel||(g.splice(m,0,g.splice(I,1)[0]),u.data.groupDescriptors=g))}else{var R=u.columns[r.column],b=R.id,C=Mn.defaults({field:b},c.gGID_());a={action:"insert",newIndex:m,cancel:!1,newGroupDescriptor:C},u.grouping.raise(u,a),a&&!a.cancel&&a.newGroupDescriptor&&a.newGroupDescriptor.field&&(g.splice(m,0,C),u.data.groupDescriptors=g)}}else if(qt.call(c,r,p)){r=c.dSI_.hitTestInfo;var T=jt(p.area),H=jt(r.area),S=s.querySelector("#"+f+"-"+p.area+" .gc-column-header ["+(-1!==p.column?"data-column":"data-column-group-header")+'="'+(-1!==p.column?u.columns[p.column].id:p.columnGroupInfo.caption)+'"]'),x=s.querySelector("#"+f+"-"+r.area+" .gc-column-header ["+(-1!==r.column?"data-column":"data-column-group-header")+'="'+(-1!==r.column?u.columns[r.column].id:r.columnGroupInfo.caption)+'"]'),L=Fn.offset(x),E=Fn.offset(S),P=c.lT_(_r),D=c.lT_(mr),M=!0;if(M=P===_r&&c.options.rightToLeft?L[P]!==E[P]?L[P]<E[P]:L[D]>E[D]:L[P]!==E[P]?L[P]>E[P]:L[D]>E[D],a={status:"endColumnReorder",oldIndex:r.column>=0?r.column:r.columnGroupInfo.caption,newIndex:p.column>=0?p.column:p.columnGroupInfo.caption,insertBefore:M,cancel:!1},u.columnReorder.raise(u,a),!a||!a.cancel){var F=On.gUERT_(H,d),A=On.gUERT_(T,d),O=On.gUERT_(H,d,!0),G=On.gUERT_(T,d,!0),W=r.columnGroupInfo&&r.columnGroupInfo.caption,N=p.columnGroupInfo&&p.columnGroupInfo.caption;T!==H&&(l={type:"pinned",index:W||r.column,oldValue:H,newValue:T}),F||A||O||G?r.column>=0&&p.column>=0?Yt.call(c,{column:r.column,template:F,colHeaderTemplate:O,groupCaption:W,pinnedArea:H},{column:p.column,template:A,colHeaderTemplate:G,groupCaption:N,pinnedArea:T},M):console&&console.error&&console.error("Don't support reorder on no data column"):Jt.call(c,W,r.column,N,p.column,T,M),h=!0}}else r.area===er&&r.groupingPanelInfo&&(v=r.groupingPanelInfo.field),v&&(a={action:"remove",oldIndex:Wt(u.data.groupDescriptors,v),cancel:!1},u.grouping.raise(u,a),a&&a.cancel||(u.data.groupDescriptors=Mn.remove(u.data.groupDescriptors,function(e){return e.field!==v})));h&&u.invalidate(),l&&u.columnChanged.raise(u,l),n=!0}else c.iRC_?(c.lR_.parentNode.removeChild(c.lR_),c.lR_=null,c.riR_.parentNode.removeChild(c.riR_),c.riR_=null,c.rEW_=0,gn.call(c,e,t,!1),c.tO_=0,c.rX_=0,u.invalidate(),c.rLP_=null,u.saSO_(c.mdHI_.area),t?(An.unRegist(document,xr,c.mvFn2_),c.mvFn2_=null):(xt.call(c,"resize"),bt.call(c,c.mdHI_)),Mn.each(u.columns,function(e){e.width=e.visibleWidth}),a={type:"resized",index:c.rCI_.index,oldValue:c.rCI_.oldValue,newValue:An.isNumber(c.rCI_.index)?u.columns[c.rCI_.index].visibleWidth:On.gGCHW_(u,On.gGCBC_(u,u.cC_,c.rCI_.index),jt(p?p.area:c.mdHI_.area))},u.columnChanged.raise(u,a)):(c.dSC_||c.dSG_)&&p.area===Bn&&(Qt.call(c,p),n=!0);return t&&(An.unRegist(document,Sr,c.muFn_),c.muFn_=null),c.dSC_=null,c.dSG_=null,c.cRI_=null,c.cL_=null,c.iRC_=!1,c.rCI_=null,c.mdHI_=null,c.mdMW_=null,c.mdP_=null,c.iDD_=!1,c.iDDIP_=!1,c.dSI_=null,c.hTI_=null,n}function He(e){var t=this;document.body.removeChild(t.dDE_),document.body.removeChild(t.dDIE_),document.body.removeChild(t.dDIGE_),t.dDE_=null,t.dDIE_=null,t.dDIGE_=null,e&&(An.unRegist(document,xr,t.mvFn2_),An.unRegist(document,Sr,t.muFn_),t.mvFn2_=null,t.muFn_=null),document.body.className=document.body.className.replace("no-select","")}function Se(e,t){var n,r=this,o=r.lT_(_r),i=r.sS_;if("swipestart"===t.swipeStatus){var a=r.hT_($e(t));if(a&&a.area===Vn){var l=a.groupInfo;n=On.gRE_(r.grid.uid,Vn,l?l.row:a.row,l,a.nodeInfo),e.stopEditing(),i.row&&n!==i.row&&Ve.call(r),i=r.sS_={},i.row=n,i.row&&(i.actionType=H.call(r,t.moveDistance),i.columns=ut.call(r),i.columnsTotalWidth=0,Mn.each(i.columns,function(e){i.columnsTotalWidth+=e.perferredSize})),r.gTP_()&&(i.beginWithTouchPanel=!0)}}else if("swipemoving"===t.swipeStatus)i.row&&(i.moveDistance=t.moveDistance+(i.beginWithTouchPanel?(i.actionType===o?1:-1)*i.columnsTotalWidth:0),S.call(r)?T.call(r,-i.moveDistance,0):Math.abs(i.moveDistance)>i.columnsTotalWidth?T.call(r,-i.moveDistance):T.call(r,-i.moveDistance,Math.abs(i.moveDistance)));else if(i.row){i.moveDistance=t.moveDistance+(i.beginWithTouchPanel?(i.actionType===o?1:-1)*i.columnsTotalWidth:0);var c=Math.abs(t.velocity);S.call(r)?T.call(r,0,0,!0,c):c>kr?i.beginWithTouchPanel?T.call(r,0,0,!0,c):xe.call(r,t):Math.abs(i.moveDistance)<i.columnsTotalWidth/2?T.call(r,0,0,!0,c):T.call(r,(i.moveDistance>0?-1:1)*i.columnsTotalWidth,i.columnsTotalWidth,!0,c)}}function xe(e){var t,n,r=this,o=r.grid,i=r.sS_,a=Le.call(r);a&&a.actionHandler?(T.call(r,(i.moveDistance>0?-1:1)*i.columnsTotalWidth,i.columnsTotalWidth,!1,e.velocity),r.hTI_=r.hT_($e(e,!0)),t=r.hTI_,n=function(){Mn.assign(t,{uid:o.uid}),a.actionHandler({event:e,dataView:o,hitInfo:t,rowID:On.createID(t),dataItem:dt.call(r,t),closeActionColumnPanel:Ve.bind(r)})},setTimeout(n,100)):T.call(r,(i.moveDistance>0?-1:1)*i.columnsTotalWidth,i.columnsTotalWidth,!0,e.velocity)}function Le(){for(var e,t,n,r,o,i=this,a=i.grid,l=i.sS_,c=0,u=a.columns.length;u>c;c++)if(n=a.columns[c],r=a.columnActions_[n.id]){for(var d=0,s=r.length;s>d;d++)if(o=r[d],o.flickAction===l.actionType){e=o.presenter||'<button class="gc-action" data-action="'+o.name+'">'+o.name+"</button>",t=a.getActionInfo_(n.id,o.name,"handler");break}if(e)break}return""!==e?{presenter:'<div class="gc-action-area">'+e+"</div>",actionHandler:t}:null}function Ee(e,t){var n=this,r=n.grid;Pe(r)&&r.stopEditing(),Ve.call(n),St.call(n)}function Pe(e){return e.editingHandler.isEditing_}function De(e,t){var n=e;if(!Pe(n)){var r=n.layoutEngine;t.preventDefault();var o=r.hT_(t),i=o&&o.area,a=n.gSA_(i),l=n.gSPO_(a);n.sSPO_(a,{top:l.top+t.deltaY,left:l.left+t.deltaX})}}function Me(e,t){var n=e,r=t.keyCode;if(An.isPrintableKey(t)||113===r||8===r){var o=I.call(n.layoutEngine);n.editingHandler.startEditing(n,o)}}function Fe(e,t){We(e,t)}function Ae(e,t){We(e,$e(t),!0)&&(t.handled=!0)}function Oe(e,t){var n,r,o=e.layoutEngine,i=o.options.localeResource;o.mdP_=null,o.mdHI_=null,o.mdMW_=null,o.iDD_=!1,o.iDDIP_=!1,o.dSI_=null,o.hTI_=o.hT_(t);var a=o.hTI_;if(a&&(!An.isNumber(t.button)||0===t.button)){var l,c=e.columns,u=e.data.groupDescriptors,d=a.area,s=a.groupingPanelInfo,f=a.groupInfo,g=f?f.column:a.column,h=o.grid;if(Tt.call(o,t,"touchMenu")){var p=document.getElementById(h.uid+"-touchMenuGraphic");Tt.call(o,t,"sort",p)&&ke.call(o,g,d)}else if(Ht.call(o,"touchMenu"))xt.call(o,"touchMenu");else if(d===er)s&&"delete"===s.action&&(r=Wt(h.data.groupDescriptors,s.field),n={action:"remove",oldIndex:r,cancel:!1},h.grouping.raise(h,n),n&&n.cancel||(h.data.groupDescriptors=Mn.remove(h.data.groupDescriptors,function(e){return e.field!==s.field}))),xt.call(o,"resize");else if(d===Jn||d===Yn||d===Kn){if(a.columnGroupInfo&&a.columnGroupInfo.onGroupExpandToggle){var v=h.colTree_[a.columnGroupInfo.caption];n={type:"groupCollapsed",index:a.columnGroupInfo.caption},d===Jn?(n.oldValue=v.status.isCollapsed,v.status.isCollapsed=!v.status.isCollapsed):d===Yn?(n.oldValue=v.pinnedStatus.isCollapsed,v.pinnedStatus.isCollapsed=!v.pinnedStatus.isCollapsed):(n.oldValue=v.pinnedRightStatus.isCollapsed,v.pinnedRightStatus.isCollapsed=!v.pinnedRightStatus.isCollapsed),n.newValue=!n.oldValue;var m=On.gGCBC_(h,h.cC_,a.columnGroupInfo.caption),_=m.collapsedInfo;d===Jn?_.viewport=n.newValue:d===Yn?_.pinnedLeftViewport=n.newValue:d===Kn&&(_.pinnedRightViewport=n.newValue),_.viewport===_.pinnedLeftViewport&&_.pinnedLeftViewport===_.pinnedRightViewport&&(m.isCollapsed=_.viewport),h.invalidate(),h.columnChanged.raise(h,n)}else if(a.headerInfo&&a.headerInfo.inHeaderRow);else{var w=Ne.call(o,g);"touch"===t.deviceType?Ht.call(o,"resize",g)&&w&&ke.call(o,g):w&&ke.call(o,g)}xt.call(o,"resize"),Ge.call(o,a,t)&&bt.call(o,a)}else if(o.iVA_(d)){var I=function(e){var t=h.gGI_(e).data;t.collapsed=!t.collapsed,h.invalidate()};if(f&&(f.area===lr?f.onGroupExpandToggle&&I(f.path):f.area===ur&&(l=f.action||null),f.onAutoMergeExpandToggle)){var y=Mn.findIndex(u,function(e){return e.field===c[g].id});I(Mn.take(f.path,y+1))}f||(l=a.action||null);var R={event:t,hitInfo:a,item:dt.call(o,a),idList:On.getIdList(h,a)};(a.onTreeExpandToggle||f&&f.onTreeExpandToggle)&&(je.call(o),h.invalidate(),h.rowClick.raise(e,R)),h.rowClick.raise(e,R),(l&&!a.isNewRow||a.isNewRow&&l&&"delete"!==l.name)&&(Mn.assign(a,{uid:h.uid}),l.handler({event:t,dataView:h,hitInfo:a,rowID:On.createID(a),dataItem:dt.call(o,a),closeActionColumnPanel:Ve.bind(o)})),xt.call(o,"resize")}else if(o.iRA_(d)||d===Qn)xt.call(o,"resize");else if(d===Bn){var b=a.columnListInfo&&a.columnListInfo.column,C=a.groupListInfo&&a.groupListInfo.group;if(b&&"visible"===a.columnListInfo.action){var T=h.gCBI_(b),H=T.visible;n={type:"visible",index:On.ci_(h,b),oldValue:H,newValue:!H},T.visible=!H,h.invalidate(),h.columnChanged.raise(h,n)}else if(a.columnListInfo&&"showAddColumnWindow"===a.columnListInfo.action){var S=o.options.rightToLeft,x='<div class="gc-editing-header"><span class="header-text">'+i.addColPanelTitle+'</span><div class="gc-editing-close '+(S?"gc-float-left":"gc-float-right")+'"><span class="gc-icon close-icon"></span></div></div>',L='<div class="gc-editing-content"><textarea style="width:100%" rows="3" placeholder="'+i.addColPanelText+'"></textarea><span class="error-text"><span></div>',E='<div class="gc-editing-footer" style="'+(S?"text-align:left;":"text-align:right;")+'"><button class="gc-editing-update gc-editing-button"><span class="update-text">'+i.addText+'</span></button><button class="gc-editing-cancel gc-editing-button"><span class="cancel-text">'+i.cancelText+"</span></button></div>",P=new On.popup({headerTemplate:x,contentTemplate:L,footerTemplate:E,draggable:!0});P.open();var D=P.container;D.className+=" gc-popup-add-column",D.id=h.uid+"-popup-addColumn";var M=Fn.gER(D);Fn.setCss(D,{left:"50%",top:"50%",marginLeft:-M.width/2,marginTop:-M.height/2,direction:S?"rtl":"ltr"}),P.mount("gc-editing-close",Lr,function(){P.close()}),P.mount("gc-editing-cancel",Lr,function(){P.close()}),P.mount("gc-editing-update",Lr,function(){try{var e=document.querySelector("#"+o.grid.uid+"-popup-addColumn textarea"),t=JSON.parse(e.value);P.close(),h.inC_(t)}catch(n){var r=document.querySelector("#"+o.grid.uid+"-popup-addColumn .error-text");r&&(r.textContent=i.addColPanelErrorText)}})}else if(C&&"removeGroup"===a.groupListInfo.action){var F=h.data.groupDescriptors.slice();r=Wt(F,C),n={action:"remove",oldIndex:r,cancel:!1},h.grouping.raise(h,n),n&&n.cancel||(F.splice(r,1),h.data.groupDescriptors=F,h.invalidate())}var A=h.container.querySelector(".gc-tool-panel-container .selected");A&&(A.className=A.className.replace(" selected","")),o.dSC_=null,o.dSG_=null,xt.call(o,"resize")}}}function Ge(e,t){var n=this;return n.options.allowColumnResize&&(e.headerInfo&&!e.headerInfo.inHeaderRow&&e.column>-1||e.columnGroupInfo)&&"touch"===t.deviceType}function We(e,t,n){var r=e,o=r.layoutEngine;o.hTI_=o.hT_(t);var i,a=o.hTI_,l=r.editingHandler,c=t.target;if(n||0===t.button){if(Pe(r)){var u=Fn.hasClass(c,"gc-grid-viewport-scroll-panel");if(!u||u&&(o.name===hr&&!Fn.hasClass(c,"scroll-left")||o.name===fr&&!Fn.hasClass(c,"scroll-top")))return void l.stopEditing(r,a)}if(a){o.mdP_={left:t.pageX,top:t.pageY};var d,s=a.area,f=a.groupInfo;Tt.call(o,t,"resize")&&n?o.mdHI_=o.touchDownHitInfo_:o.iCA_(s)||s===er?(o.dSI_=null,a.headerInfo&&a.headerInfo.inResizeMode&&!n?o.mdHI_=a:(Bt.call(o,a,t)||kt.call(o,a,t))&&(o.dSI_={hitTestInfo:Mn.cloneDeep(a),pointOffset:{left:t.pageX,top:t.pageY}})):s===Bn&&o.options.allowColumnReorder&&a.columnListInfo&&a.columnListInfo.column?(d=r.container.querySelector('.gc-tool-panel-container .column-list [data-col-id="'+a.columnListInfo.column+'"]'),d.className=d.className+" selected",o.dSC_=a.columnListInfo.column):s===Bn&&a.groupListInfo&&a.groupListInfo.group?(d=r.container.querySelector('.gc-tool-panel-container .group-list [data-group-id="'+a.groupListInfo.group+'"]'),d.className=d.className+" selected",o.dSG_=a.groupListInfo.group):o.iRA_(s)||s===Qn?(o.uFR_(ze,[!0]),Xe.call(o,t,a,!0)):o.iVA_(s)&&(i=f?f.action:a.action,o.uFR_(ze,[!0]),Xe.call(o,t,a,!0,!!i))}}}function Ne(e){var t=this,n=t.grid,r=n.columns;if(e>=0){var o=r[e];return!o.action&&!!t.gCP_(o,Dr)}}function ke(e){var t=this,n=t.grid,r=n.columns,o=r[e],i=null;n.data.sortDescriptors&&(i=Mn.find(n.data.sortDescriptors,An.mP("field",o.id,!0)));var a;n.options.sorting&&(a=Mn.find(n.options.sorting,An.mP("field",o.id,!0))||Mn.find(n.options.sorting,An.mP("field",o.caption,!0)),a&&!a.hasOwnProperty("ascending")&&(a.ascending=!0)),a||(a={field:o.id,ascending:!0}),i?i.ascending===!1?i=null:i.ascending=!1:i=Mn.clone(a),n.options.sorting=i}function Ve(){var e=this;On.ani.stop(),T.call(e,0,0),e.sS_={}}function Be(e){var t=this;if(An.isNumber(e)){var n=t.sS_,r=document.getElementById(t.grid.uid+"-viewport-inner"),o=document.getElementById(n.row.id+"-"+n.actionType+"-actionPanel");o&&r.removeChild(o),e>0&&r.appendChild(t.cCTP_(e))}}function qe(e){if(An.isString(e)&&e.length>0&&"*"===e.slice(-1)){var t=1===e.length?1:1*e.slice(0,-1);if(t>0&&!isNaN(t))return t}return null}function je(){var e,t=this,n=t.hTI_,r=n.groupInfo;if(r){var o=t.grid.gGI_(r.path).data;e=Ue(o.rootNode,r.row)}else e=Ue(t.grid.data.rootNode,n.row);e&&(e.collapsed=!e.collapsed)}function Ue(e,t){function n(e){if(r===t)return o=e,!0;if(r>t)return!0;var i=e.children.length;if(!e.collapsed&&e.children&&i)for(var a=0;i>a;a++){r++;var l=n(e.children[a]);if(l)return!0}return!1}var r=-1,o=null;return n(e),o}function ze(e,t){var n=this,r=n.grid;if(t=t||n.hTI_){var o=t.groupInfo,i=o?o.row:t.row,a=t.area,l=a===Vn||a===Xn||a===$n;if(l){var c=On.createID(r.uid,a,i,o,t.nodeInfo),u=document.getElementById(c);if(u){var d=o?o.column:t.column,s=u.querySelector(".c"+d),f=s&&~~s.dataset.taborder;return En.call(n,d,c,f,!1),!0}}return!1}}function Xe(e,t,n,r){var o=this;if(!t.isNewRow){o.sR_=o.sR_||[];var i=Mn.cloneDeep(o.sR_);o.options.allowHeaderSelect?Ke.call(o,t):Ye.call(o,t,n,r),Qe.call(o,e,i,o.sR_)}}function Ye(e,t,n,r){var o=this,i=o.options,a=i.selectionMode,l=i.selectionUnit,c=l===Nr.ROW,u=o.sR_;if(a===Wr.NONE)u.length=0;else{var d=o.grid,s=d.columns,f=e.groupInfo;if(!On.iEOSA_(e,!c))return;var g=f?d.gGI_(f.path):null,h=f?f.row:e.row,p=f?f.column:e.column,v=s[p]&&s[p].id,m=Ze(d,h,f,e.nodeInfo),r=An.isNil(r)?g?g.data.getSourceRowIndex(h):d.data.getSourceRowIndex_(h):r;if(a===Wr.MULTIPLE){if(c)if(u[r]){if(n)return;u[r]=0}else u[r]=m;else if(u[r]=u[r]||[],v){var _=u[r].indexOf(v);-1===_?u[r].push(v):u[r].splice(_,1)}}else a===Wr.SINGLE&&(u.length=0,c?u[r]=m:u[r]=[v])}o.uSU_()}function $e(e,t){var n=t?Mn.pick(e.changedTouches[0],Vr):Mn.pick(e.targetTouches[0],Vr);return n.preventDefault=function(){e.cancelable&&e.preventDefault()},n.deviceType="touch",n}function Ke(e,t){var n=this,r=n.sR_,o=e.groupInfo;if(o?o.checked:e.checked){var t,i,a,l=n.grid,c=l.columns,u=o?l.gGI_(o.path):null,d=o?o.area===ur?o.row:-1:e.row;d>=0&&(t=An.isNil(t)?u?u.data.getSourceRowIndex(d):l.data.getSourceRowIndex_(d):t);var s=function(e,t){var n=Mn.filter(t,function(t){return e.iCV_(t,t.pinned)});return Mn.map(n,"id")};if(e.area===Qn){var f=l.data.getIndexMapping_();Mn.filter(r,function(e){return e}).length===f.length?n.sR_.length=0:(a=s(l,c),Mn.each(f,function(e){n.sR_[e]=a}))}else if(n.iRA_(e.area))if(o&&o.area===lr){var g=u.data.getIndexMapping_(),h=Mn.filter(g,function(e){return!r[e]});h.length?(a=s(l,c),Mn.each(h,function(e){r[e]=a})):Mn.each(g,function(e){r[e]=0})}else i=Ze(l,d,o,e.nodeInfo),r[t]?r[t]=0:isNaN(t)||(r[t]=i);n.uSU_()}}function Je(e,t){var n=e.data.gBSI_(t),r=n.groupInfo,o=n.nodeInfo;return Ze(e,n.row,r?{area:ur,path:r.path}:null,o?{area:dr,path:o.path}:null)}function Ze(e,t,n,r){var o=e.layoutEngine,i=e.columns,a=[],l=o.spanRelations_,c=On.vi(e,t,n,r),u=void 0,d=e.options.cellMergingSettings.onlyShowFirstRow;return Mn.each(i,function(t){if(e.iCV_(t,t.pinned))if(u=t.id,l){var n=l[c],r=Mn.find(n,function(e){return e.field===u});(!t.allowCellMerging||r&&(r.anchorRow===c||d))&&a.push(u)}else a.push(u)}),a}function Qe(e,t,n){var r=this,o=(r.grid.columns,[]),i=r.options.selectionUnit,a=function(e){var t="";return Mn.each(e,function(e,n){e&&(t+=n+":"+e.toString()+";")}),t};if(a(t)!==a(n)){Mn.each(n,function(e,t){i===Nr.CELL&&e&&e.length&&o.push({sourceRow:t,columns:Mn.cloneDeep(e)}),i===Nr.ROW&&e&&o.push({sourceRow:t})});var l={event:e,rows:o};r.grid.selectionChanged.raise(r.grid,l)}}function et(e){if(e){var t=this,n=t.grid.container,r=n.querySelectorAll(".gc-focused");Mn.each(r,function(e){Fn.removeClass(e,"gc-focused")}),Mn.each(e,function(e){Fn.addClass(e,"gc-focused")})}}function tt(e,t,n){if(!e||!t)return null;var r,o=e.top,i=e.left,a=e.width,l=e.height,c=t.top,u=t.left,d=t.width,s=t.height,f=Math.max(o,o+l,c,c+s),g=Math.min(o,o+l,c,c+s),h=Math.max(i,i+a,u,u+d),p=Math.min(i,i+a,u,u+d);return r="vertical"===n?l+s>f-g&&a+d>=h-p:"horizontal"===n?l+s>=f-g&&a+d>h-p:l+s>f-g&&a+d>h-p,r?{left:p,top:g,width:h-p,height:f-g}:null}function nt(e,t){t.preventDefault(),ot.call(e,t)}function rt(e,t){for(var n,r,o,i=e.layoutEngine,a=i.gFE_(),l=0,c=a.cols.length;c>l&&(n=a.cols[l],!(r=n.querySelector(".gc-grouping-toggle")));l++);if(r){var u=e.gGI_(r.getAttribute("data-group").split("_"));u&&(u.data.collapsed=!u.data.collapsed,o=!0)}else{var d=On.vi(e,n.parentElement.id),s=e.getItem(d),f=s.node,g=s.nodeArea===sr;f&&f.children.length&&!g&&(f.collapsed=!f.collapsed,o=!0)}o&&i.grid.invalidate(),t.preventDefault()}function ot(e,t){var n=this,r=n.layoutEngine,o=r.options.selectionMode;r.sR_=r.sR_||[];var i=Mn.clone(r.sR_),a=r.cRoI_,l=a.groupArea===lr,c=a.groupArea===cr,u=a.isHierarchyFooter;if(!(u||c||t&&l)){var d,s=a.sourceIndex,f=r.options.allowHeaderSelect;if(o!==Wr.NONE){var g=On.hG_(r.grid),h=a.row,p=a.group;d=g?{row:-1,area:f?Zn:Vn,groupInfo:{path:p.path,area:l?lr:ur,row:h,column:a.col,checked:f}}:{row:h,column:a.col,area:f?Zn:Vn,checked:f}}f?Ke.call(r,d,s):Ye.call(r,d,!1,!1,s),Qe.call(r,e,i,r.sR_)}}function it(e,t){t.preventDefault();var n=e.layoutEngine;n.uFR_(Ln,[t,!1],t)}function at(e,t){t.preventDefault();var n=e.layoutEngine;n.uFR_(Ln,[t,!0],t)}function lt(e){var t=this.options.rightToLeft;return"number"===e||"date"===e?t?"align-left":"align-right":"boolean"===e?"align-center":t?"align-right":"align-left"}function ct(e){var t=this,n=t.options.localeResource,r="";if(!t.grid.columnActions_)return r;for(var o,i,a=t.grid.columnActions_[e.id],l=0,c=a.length;c>l;l++)o=a[l],i=o.name,"edit"===o.name?i=n.buildInActionEdit:"save"===o.name?i=n.buildInActionSave:"cancel"===o.name&&(i=n.buildInActionCancel),r+=o.presenter?o.presenter:'<button class="gc-action" data-action="'+o.name+'">'+i+"</button>";return""!==r&&(r='<div class="gc-action-area">'+r+"</div>"),r}function ut(){var e=this,t=[],n=0,r=e.sS_.actionType;return Mn.each(e.grid.columns,function(o){if(On.iTAC_(o)&&o.swipeDirection===r){var i=ct.call(e,o);t.push({persenter:i,perferredSize:o.visibleWidth,index:n})}n++}),t}function dt(e){var t,n,r,o=this.grid;return e.groupInfo&&e.groupInfo.area===ur?(n=e.groupInfo,r=o.gGI_(n.path).data,t=r.getItem(n.row,!0)):t=o.data.getItem(e.row,!0),t}function st(e,t){var n,r=this,o=r.grid;if(o.data.sortDescriptors&&(n=Mn.find(o.data.sortDescriptors,An.mP("field",e.id,!0))||Mn.find(o.data.sortDescriptors,An.mP("field",e.caption,!0))),n){if(o.options.sorting){var i=Mn.find(o.options.sorting,An.mP("field",e.id,!0))||Mn.find(o.options.sorting,An.mP("field",e.caption,!0));i&&(n=Mn.defaults(n,i))}var a=r.gSoCC_(n,t),l=ft(o,t);return'<span id="'+l+'" class="'+a+'"></span>'}return""}function ft(e,t){return e.uid+"-"+Jn+"-sorting-c"+t}function gt(){var e=this;ht(e,_r),ht(e,wr)}function ht(e,t){var n=e.grid,r=e.options,o=On.gUERT_(t,r);o&&Mn.each(n.columns,function(e){e.pinned===t&&(e.pinned=Ir)}),pt(n,o,t)}function pt(e,t,n){if(t){var r=Fn.createTemplateElement(t),o=r.querySelectorAll("[data-column]");Mn.each(o,function(t){e.gCBI_(t.getAttribute("data-column")).pinned=n}),r=null}}function vt(){var e=this;return e.options.showToolPanel?(e.toolPanelInfo_=e.toolPanelInfo_||mt(),e.toolPanelInfo_.width):0}function mt(){var e={},t='<div class="gc-grid" style="position:absolute;top:-10000px;left:-10000px;width:5000px;height:5000px;">';t+='<div class="gc-tool-panel-container"></div></div>';var n=Fn.createElement(t);document.body.appendChild(n);var r=n.firstChild,o=Fn.getStyle(r),i=Fn.gCSV;return e.width=i(r,o,vr)||200,e.padding=i(r,o,"padding-top")+i(r,o,"padding-bottom"),document.body.removeChild(n),e}function _t(){var e=this,t=e.grid,n=t.columns,r=wt.call(e),o=e.gLI_()[Bn].height-r,i='<div class="column-list" style="height:'+(.6*o-20)+'px;"><div>';Mn.each(n,function(e){i+='<div data-col-id="'+e.id+'" class="column-list-item'+(e.visible?"":" not-visible")+'"><div class="check"><span class="gc-icon select-icon'+(e.visible?"":" not-visible")+'"></span></div><span class="content">'+e.caption+"</span></div>"}),i+="</div></div>";var a='<div style="text-align:center; height:20px;line-height:20px;overflow: hidden;">'+e.options.localeResource.toolPanelColPanelTitle;e.options.rowTemplate||(a+='<span class="gc-icon insert-column-icon"><span>'),a+="</div>"+i,a+='<div style="text-align:center; height:20px;">'+e.options.localeResource.toolPanelGroupPanelTitle,i='<div class="group-list" style="height:'+(.4*o-20)+'px;"><div>';var l,c=t.data.groupDescriptors,u=c.length;return u>0?Mn.each(c,function(e){l=t.gCBI_(e.field),i+='<div data-group-id="'+l.id+'" class="group-list-item"><span class="content">'+l.caption+'</span><div class="remove"><span class="gc-icon remove-icon"></span></div></div>'}):i+='<div><span class="group-clue">'+e.options.localeResource.toolPanelGroupPanelText+"</span></div>",i+="</div></div>",a+="</div>"+i,{isRowRole:!1,renderInfo:{cssClass:"",style:{height:"100%"},renderedHTML:a}}}function wt(){var e=this;return e.options.showToolPanel?(e.toolPanelInfo_=e.toolPanelInfo_||mt(),e.toolPanelInfo_.padding):0}function It(e,t){var n,r,o,i,a,l,c=this,u=c.grid,d={area:Bn,row:-1,column:-1},s=document.querySelector("#"+u.uid+"-"+Bn),f=s.querySelector(".column-list"),g=s.querySelector(".group-list");if(On.poIP_(u,e,t,f.getBoundingClientRect())){for(d.columnListInfo={},n=s.querySelectorAll(".column-list-item"),a=0,l=n.length;l>a;a++)if(r=n[a],On.poIP_(u,e,t,r.getBoundingClientRect())){d.columnListInfo.column=r.getAttribute("data-col-id"),o=r.querySelector(".check"),On.poIP_(u,e,t,o.getBoundingClientRect(),!0)&&(d.columnListInfo.action="visible");break}}else if(On.poIP_(u,e,t,g.getBoundingClientRect())){for(d.groupListInfo={},n=s.querySelectorAll(".group-list-item"),a=0,l=n.length;l>a;a++)if(r=n[a],On.poIP_(u,e,t,r.getBoundingClientRect())){d.groupListInfo.group=r.getAttribute("data-group-id"),i=r.querySelector(".remove"),On.poIP_(u,e,t,i.getBoundingClientRect(),!0)&&(d.groupListInfo.action="removeGroup");break}}else{var h=s.querySelector(".insert-column-icon");h&&On.poIP_(u,e,t,h.getBoundingClientRect(),!0)&&(d.columnListInfo={},d.columnListInfo.action="showAddColumnWindow")}return d}function yt(e,t){var n,r,o,i=this,a=i.grid,l={area:er,row:-1,column:-1},c=a.data.groupDescriptors;for(r=0,o=c.length;o>r;r++)if(n=document.getElementById(a.uid+"-grouping-indicator-"+c[r].field),n&&On.poIP_(a,e,t,n.getBoundingClientRect())){l.groupingPanelInfo={field:c[r].field},On.poIP_(a,e,t,n.querySelector(".gc-grouping-title").getBoundingClientRect())&&(l.groupingPanelInfo.action="reorder"),On.poIP_(a,e,t,n.querySelector(".gc-icon-grouping-delete").getBoundingClientRect())&&(l.groupingPanelInfo.action="delete");break}return l}function Rt(e,t,n,r,o,i){var a=this,l=a.options,c=a.grid.columns,u=c[t],d=a.cRI_,s=d[t],f=s.affectedCols,g=s.shiftCols,h=s.affectedAnonymouseCols,p=s.shiftAnonymouseCols,v=a.cL_;o&&(f=s.affectedColHeaders,g=s.shiftColHeaders,h=s.affectedAnonymouseColHeaders,p=s.shiftAnonymouseColHeaders,v=a.colHeaderLayouts_);var m,_,w,I,y,R=r-n,b=document.createElement("div");b.innerHTML=On.gUERT_(e,a.options,o);var C,T,H,S,x=b,L=a.lT_,E=L(vr),P=L(_r);for(m=0,_=f.length;_>m;m++)w=f[m],u=c[w],C=x.querySelector('[data-column="'+u.id+'"]'),w===t&&(T=C),C&&(i?(u.visibleWidth+=R,u.width=u.visibleWidth,C.style[E]=u.visibleWidth+"px"):(r=C.style[E],r&&r.indexOf("px")>0&&(C.style[E]=parseInt(r)+R+"px")));for(var D=T&&T.parentElement;D;)r=D.style[E],r&&r.indexOf("px")>0&&(D.style[E]=parseInt(r)+R+"px"),D=D.parentElement;if(h)for(m=0,_=h.length;_>m;m++)w=h[m],H=T.parentElement.children[w],H&&(r=H.style[E],r&&r.indexOf("px")>0&&(H.style[E]=parseInt(r)+R+"px"));if(p)for(m=0,_=p.length;_>m;m++)w=p[m],H=T.parentElement.children[w],H&&(S=H.style[P],S&&S.indexOf("px")>0&&(H.style[P]=parseInt(S)+R+"px"));var M,F=[];for(m=0,_=g.length;_>m;m++)if(w=g[m],u=c[w],C=x.querySelector('[data-column="'+u.id+'"]'))if(S=C.style[P])S.indexOf("px")>0&&(C.style[P]=parseInt(S)+R+"px");else if(!F[w])for(D=C.parentElement;D;){if(D.hasAttribute("data-column-group"))for(S=D.style[P],S&&S.indexOf("px")>0&&(D.style[P]=parseInt(S)+R+"px"),F[w]=!0,M=d[w].affectedCols,I=0,y=M.length;y>I;I++)F[M[I]]=!0;D=D.parentElement}a.suspendTmplUpdate_=!0;var A=x.innerHTML;e===Ir?o?l.colHeaderTemplate=A:l.rowTemplate=A:e===_r?o?l.pinnedLeftColHeaderTemplate=A:l.pinnedLeftRowTemplate=A:e===wr&&(o?l.pinnedRightColHeaderTemplate=A:l.pinnedRightRowTemplate=A),a.suspendTmplUpdate_=!1}function bt(e){var t=this,n=Lt.call(t,e);if(n){t.touchDownHitInfo_=e;var r=e.column,o=Ct.call(t,n,t.gIRGR_(n),"resize",r,e);if(o){var i=document.getElementById(t.grid.uid);i.appendChild(o)}}}function Ct(e,t,n,r,o){var i=this,a=i.grid,l=Fn.gER(e),c=i.hT_({pageX:l.left+l.width-1,pageY:l.top+l.height-1});if(c&&o.area===c.area&&o.column===c.column){var u,d,s;return n+="Graphic",d="gc-"+n,n+="-col"+r,u=a.uid+"-"+n,s="<div id ="+u+' class ="gc-icon '+d+'" style="position:absolute;height:'+t.height+"px;width:"+t.width+"px;left:"+t.left+"px;top:"+t.top+'px;"></div>',Fn.createElement(s)}}function Tt(e,t,n){var r=this,o=r.grid,i=document.querySelector(".gc-"+t+"Graphic");if(i){n=n?n:document.getElementById(o.uid);var a=Fn.gER(n),l=e.pageX-a.left,c=e.pageY-a.top;return me.call(r,l,c,i,n)}return!1}function Ht(e,t){var n=this,r=n.grid,o=document.getElementById(r.uid+"-"+e+"Graphic-col"+t);return null!==o}function St(){xt.call(this,"resize"),xt.call(this,"touchMenu")}function xt(e){var t=this.grid,n=document.querySelector(".gc-"+e+"Graphic");n&&n.parentNode.removeChild(n),t.touchDownHitInfo_=null}function Lt(e){var t=this,n=Et.call(t,e);return document.querySelector(n)}function Et(e){var t=this,n=t.grid,r=e?e:t.mdHI_;if(r){var o=r.area,i="#"+n.uid+"-"+o;return i+=r.column>=0?' [data-column="'+n.columns[r.column].id+'"]':' [data-column-group-header="'+r.columnGroupInfo.caption+'"]'}}function Pt(e,t,n,r){var o=[],i=e.layoutEngine,a=e.colTree_;Mn.each(a,function(e,n){e.parent===t&&o.push(n)});var l,c=0,u=!1;return Mn.each(o,function(t){l=e.gCBI_(t),l?e.iCV_(l,n)&&(r&&l.visibleWidth>=i.gCP_(l,Pr)||l.visibleWidth>i.gCP_(l,Pr))&&(u=i.gCP_(l,Mr),u&&(c+=1)):c+=Pt(e,t,n,r)}),c}function Dt(e,t,n,r){var o=[],i=e.layoutEngine,a=e.colTree_;Mn.each(a,function(e,n){e.parent===t&&o.push(n)});var l,c=0;return Mn.each(o,function(t){l=e.gCBI_(t),l?e.iCV_(l,n)&&(r&&l.visibleWidth>=i.gCP_(l,Pr)||l.visibleWidth>i.gCP_(l,Pr))&&(c+=i.gCP_(l,Pr)):c+=Pt(e,t,n,r)}),c}function Mt(e,t,n,r,o,i){var a,l,c=this,u=t,d=u.length,s=Fn.createTemplateElement(n),f=c.gLI_(),g=f[e===_r?Xn:e===wr?$n:Vn],h='<div class="gc-grid" style="position:absolute;top:-10000px;left:-10000px;width:'+g.contentWidth+'px;height:5000px;">';h+=s.innerHTML+"</div>";var p=Fn.createElement(h);document.body.appendChild(p);var v,a,m,_,w,I,y,R,b=c.gLT_();b(vr);for(a=0;d>a;a++)if(R=null,l=u[a],v=p.querySelector('[data-column="'+l.id+'"]'),v&&(m=Fn.gER(v),r[a]={offset:Fn.offset(v),rect:m,minWidth:c.gCP_(l,Pr)},_=v.parentElement))for(y=_.children,w=0,I=y.length;I>w;w++)R=y[w],R.getAttribute("data-column")||(r[a].anonymousSiblings=r[a].anonymousSiblings||[],m=Fn.gER(R),r[a].anonymousSiblings[w]={offset:Fn.offset(R),
rect:m,minWidth:gr});return i?p:(document.body.removeChild(p),p=null,null)}function Ft(e,t){var n,r,o,i=this,a=i.options,l=i.grid.columns,c=l.length;if(i.cL_=[],i.cRI_=[],i.colHeaderLayouts_=[],e||(e=[],i.sPV_(_r)&&e.push(_r),e.push(Ir),i.sPV_(wr)&&e.push(wr)),t)var u={};var d,s;Mn.each(e,function(e){var n=On.gUERT_(e,a,!0)||On.gUERT_(e,a,!1)||K.call(i,e,!1),r=On.gUERT_(e,a)||i.gDRT_(e);d=Mt.call(i,e,l,r,i.cL_,!1,t),s=Mt.call(i,e,l,n,i.colHeaderLayouts_,!0,t),t&&(u[e]={rowTemplate:d,colHeaderTemplate:s})});var f,g,h,p,v,m,_,w,I,y,R,b,C=i.lT_,T=C(vr),H=C(_r);for(n=0;c>n;n++)if(o=l[n],f=i.colHeaderLayouts_[n]){for(g=f.rect[T]+f.offset[H],m=[n],_=[],h=[],p=[],w=[],I=[],y=[],R=[],r=0;c>r;r++)r!==n&&o.pinned===l[r].pinned&&(v=i.colHeaderLayouts_[r],o.visibleWidth>0&&v&&(Math.floor(g)>Math.floor(v.offset[H])&&Math.floor(g)<=Math.floor(v.offset[H]+v.rect[T])?m.push(r):v.offset[H]>=g&&_.push(r)));for(r=0;c>r;r++)o.pinned===l[r].pinned&&(v=i.cL_[r],o.visibleWidth>0&&v&&(Math.floor(g)>Math.floor(v.offset[H])&&Math.floor(g)<=Math.floor(v.offset[H]+v.rect[T])?h.push(r):v.offset[H]>=g&&p.push(r)));var S=f.anonymousSiblings;if(S)for(r=0,b=S.length;b>r;r++)v=S[r],o.visibleWidth>0&&v&&(Math.floor(g)>Math.floor(v.offset[H])&&Math.floor(g)<=Math.floor(v.offset[H]+v.rect[T])?w.push(r):v.offset[H]>=g&&I.push(r));var x=i.cL_[n].anonymousSiblings;if(x)for(r=0,b=x.length;b>r;r++)v=x[r],o.visibleWidth>0&&v&&(Math.floor(g)>Math.floor(v.offset[H])&&Math.floor(g)<=Math.floor(v.offset[H]+v.rect[T])?y.push(r):v.offset[H]>=g&&R.push(r));i.cRI_[n]={affectedCols:h,shiftCols:p,affectedColHeaders:m,shiftColHeaders:_,affectedAnonymouseColHeaders:w,shiftAnonymouseColHeaders:I,affectedAnonymouseCols:y,shiftAnonymouseCols:R}}return u}function At(e,t,n,r){var o=[],i=e.layoutEngine,a=e.colTree_;Mn.each(a,function(e,n){e.parent===t&&o.push(n)});var l,c,u,d,s=0,f=[],g=[],h=o[0];Mn.each(o,function(t){l=e.gCBI_(t),!l&&(n>0||Pt(e,t,r,!1)>0)?(s+=1,t!==h?g.push(t):d=t):l&&e.iCV_(l,r)&&(0>n&&l.visibleWidth>i.gCP_(l,Pr)||n>0)&&(c=i.gCP_(l,Mr),c&&(s+=1,t!==h?f.push(t):u=t))});var p=Math.floor(n/s),v=n;Mn.each(f,function(t){l=e.gCBI_(t),0>n&&0>v?(v-=Math.max(p,i.gCP_(l,Pr)-l.visibleWidth),l.visibleWidth=Math.max(i.gCP_(l,Pr),l.visibleWidth+p)):v>0&&(l.visibleWidth=l.visibleWidth+p,v-=p),l.width=l.visibleWidth}),Mn.each(g,function(t){if(0>n&&0>v){var o=Dt(e,t,r,!0),i=On.gGCHW_(e,On.gGCBC_(e,e.cC_,t),r);v-=Math.max(p,o-i),At(e,t,p,r)}else v>0&&(At(e,t,p,r),v-=p)}),v=0>n?Math.min(v,0):Math.max(v,0),u?(l=e.gCBI_(u),l.visibleWidth=Math.max(i.gCP_(l,Pr),l.visibleWidth+v),l.width=l.visibleWidth):d&&At(e,d,v,r)}function Ot(){var e=this;e.cachedTmplFn_=null,e.cachedGroupFooterFn_=null,e.cachedGroupHeaderFn_=null,e.cachedHFooterTmplFn_=null,e.ch_=null,e.sPV_(_r)&&(e.cachedPinedTmplFn_=null,e.cachedPinedHFooterTmplFn_=null,e.pch_=null),e.sPV_(wr)&&(e.cachedRightPinedTmplFn_=null,e.cachedRightPinedHFooterTmplFn_=null,e.prch_=null)}function Gt(e){var t=this,n=document.querySelector(".gc-resizeGraphic");if(n){var r=t.lT_(_r);n.style[r]=parseFloat(n.style[r])+(r===_r&&t.options.rightToLeft?-e:e)+"px"}xt.call(t,"touchMenu")}function Wt(e,t){var n,r;for(n=0,r=e.length;r>n;n++)if(e[n].field===t)return n;return-1}function Nt(e,t){return t&&"touch"===t.deviceType&&"columnHeader"===e.area?Ht.call(this,"resize",e.column):!0}function kt(e,t){var n=this;if(!e)return!1;if(!Nt.call(n,e,t))return!1;var r=e.area;if(r===er&&e.groupingPanelInfo)return!0;if(n.iCA_(r)&&e.column>=0){var o=n.grid,i=o.data,a=o.columns[e.column],l=-1!==Wt(i.groupDescriptors,a.id);return l?!1:!!(a.hasOwnProperty("allowGrouping")?a.allowGrouping:o.options.allowGrouping)}return!1}function Vt(e,t){return t&&t.area===er&&kt.call(this,e)}function Bt(e,t){if(!e||e.headerInfo&&e.headerInfo.inHeaderRow)return!1;if(!Nt.call(this,e,t))return!1;var n=this,r=e.area;return n.options.allowColumnReorder&&n.iCA_(r)}function qt(e,t){var n=this,r=n.grid,o=r.columns;if(!Bt.call(n,e)||!Bt.call(n,t))return!1;var i,a;-1!==t.column?a=o[t.column].id:t.columnGroupInfo&&(a=t.columnGroupInfo.caption),-1!==e.column?i=o[e.column].id:e.columnGroupInfo&&(i=e.columnGroupInfo.caption);var l=e.area,c=t.area;return Ut(r,i,a,l,c,e.column,t.column)}function jt(e){return e===Xn||e===Yn||e===jn?_r:e===$n||e===Kn||e===Un?wr:Ir}function Ut(e,t,n,r,o,i,a){var l=e.container,c=e.options;if(r!==o){var u=On.gUERT_(jt(r),c),d=On.gUERT_(jt(o),c);if(!u&&d)return!1}if(t!==n||r!==o){var s="#"+e.uid,f=l.querySelector(s+"-"+r+" .gc-column-header ["+(-1!==i?"data-column":"data-column-group-header")+'="'+t+'"]'),g=l.querySelector(s+"-"+o+" .gc-column-header ["+(-1!==a?"data-column":"data-column-group-header")+'="'+n+'"]'),h=f;if(r!==o){var p=l.querySelectorAll(s+"-"+r+" [data-column]").length,v=0;if(i>=0)v=1;else{for(var m=f,_=l.querySelector(s+"-"+r);m&&m!==_&&!m.hasAttribute("data-column-group");)m=m.parentNode;v=m.querySelectorAll("[data-column]").length}if(p===v)return!1}if(null===f||null===g)return e.colTree_?e.colTree_[t].parent===e.colTree_[n].parent:!0;for(var w=-1===i;h&&h!==l;){if(h.hasAttribute("data-column-group")){if(!w)break;w=!1}h=h.parentNode}var I=g;for(w=-1===a;I&&I!==l;){if(I.hasAttribute("data-column-group")){if(!w)break;w=!1}I=I.parentNode}if(h===I)return!0;if(h.hasAttribute("data-column-group")&&I.hasAttribute("data-column-group")){var y;h=h.querySelector("[data-column-group-header]"),h&&(y=h.getAttribute("data-column-group-header"));var R;if(I=I.querySelector("[data-column-group-header]"),I&&(R=I.getAttribute("data-column-group-header")),y&&y===R)return!0}}return!1}function zt(e,t){var n=this;Ve.call(n);var r=n.grid,o=n.hTI_=n.hT_(e);t&&(n.muFn_||(n.muFn_=Ce.bind(n),An.regist(document,Sr,n.muFn_)));var i=n.dSC_?".column-list-item":".group-list-item",a=r.container.querySelector(".gc-tool-panel-container "+i+".drop-above");a&&(a.className=a.className.replace("drop-above","")),a=r.container.querySelector(".gc-tool-panel-container "+i+".drop-below"),a&&(a.className=a.className.replace("drop-below",""));var l=r.container.querySelector(".gc-tool-panel-container .group-list");if(l.className=l.className.replace("drag-over",""),o&&o.area===Bn)if(n.dSC_&&o.columnListInfo&&o.columnListInfo.column){var c=On.ci_(r,n.dSC_),u=o.columnListInfo.column,d=On.ci_(r,u);if(Ut(r,n.dSC_,u,en.call(n,n.dSC_),en.call(n,u),c,d)){var s=r.container.querySelector('.gc-tool-panel-container .column-list [data-col-id="'+u+'"]');s.className+=d>c?" drop-below":" drop-above"}}else if(o.groupListInfo)if(n.dSC_){l.className+=" drag-over";var f,g=r.container.querySelectorAll(".gc-tool-panel-container .group-list .group-list-item"),h=g.length;if(h>0)for(var p=0;h>p&&g[p].getAttribute("data-group-id")!==n.dSC_;p++)p===h-1&&(f=g[p]);f&&(f.className+=" drop-below")}else if(n.dSG_&&o.groupListInfo.group){var v=Wt(r.data.groupDescriptors,n.dSG_),m=o.groupListInfo.group,_=Wt(r.data.groupDescriptors,m);if(-1!==v&&v!==_){var w=r.container.querySelector('.gc-tool-panel-container .group-list [data-group-id="'+m+'"]');w.className+=_>v?" drop-below":" drop-above"}}}function Xt(e,t,n,r,o,i,a){var l,c,u,d=this,s=d.grid,f=s.columns,g=t.column,h=n.column;r&&(l='[data-column="'+f[g].id+'"]',c=r.querySelector(l)),o&&(l='[data-column="'+f[h].id+'"]',u=o.querySelector(l));var p,v;if(r&&o){var m=Fn.getStyle(c),_=m.width,w=(m.left,u?Fn.getStyle(u):null),I=w?w.left:0,y=w?w.width:0,R=e[g],b=R.shiftCols,C=R.shiftAnonymouseCols;a&&(b=R.shiftColHeaders,C=R.shiftAnonymouseColHeaders);var T,H,S,x;for(p=0,v=b.length;v>p;p++)l='[data-column="'+f[b[p]].id+'"]',T=r.querySelector(l),H=Fn.getStyle(T),S=H.left,T.style.left=parseInt(S)-parseInt(_)+"px";for(p=0,v=C.length;v>p;p++)T=r.children[C[p]],H=Fn.getStyle(T),S=H.left,T.style.left=parseInt(S)-parseInt(_)+"px";for(R=e[h],b=R.shiftCols,C=R.shiftAnonymouseCols,a&&(b=R.shiftColHeaders,C=R.shiftAnonymouseColHeaders),p=0,v=b.length;v>p;p++)l='[data-column="'+f[b[p]].id+'"]',T=o.querySelector(l),H=Fn.getStyle(T),S=H.left,x=H.width,T.style.left=parseInt(S)+parseInt(_)+"px";for(p=0,v=C.length;v>p;p++)T=o.children[C[p]],H=Fn.getStyle(T),S=H.left,T.style.left=parseInt(S)+parseInt(_)+"px";o&&(i?(c.style.left=parseInt(I)+"px",u.style.left=parseInt(I)+parseInt(_)+"px"):c.style.left=parseInt(I)+parseInt(y)-parseInt(_)+"px")}c&&c.parentNode.removeChild(c),u&&u.parentNode.insertBefore(c,i?u:u.nextSibling),d.suspendTmplUpdate_=!0;var L=a?Kt:$t;o&&L(d.options,n.pinnedArea,o.outerHTML),r&&t.pinnedArea!==n.pinnedArea&&L(d.options,t.pinnedArea,r.outerHTML),d.suspendTmplUpdate_=!1}function Yt(e,t,n){var r,o,i=this,a=i.grid,l=a.columns,c=e.column,u=t.column,d=[e.pinnedArea];t.pinnedArea!==e.pinnedArea&&d.push(t.pinnedArea);var s;i.cRI_||(s=Ft.call(i,d,!0)),(e.template||t.template)&&(r=e.template?s[e.pinnedArea].rowTemplate.children[0]:null,o=t.template?s[t.pinnedArea].rowTemplate.children[0]:null,Xt.call(i,i.cRI_,e,t,r,o,n,!1)),(e.colHeaderTemplate||t.colHeaderTemplate)&&(r=e.colHeaderTemplate?s[e.pinnedArea].colHeaderTemplate.children[0]:null,o=t.colHeaderTemplate?s[t.pinnedArea].colHeaderTemplate.children[0]:null,Xt.call(i,i.cRI_,e,t,r,o,n,!0)),l[c].pinned=t.pinnedArea,Jt.call(i,null,c,null,u,t.pinnedArea,n);var f;Mn.each(Mn.keys(s),function(e){f=s[e],f.rowTemplate&&document.body.removeChild(f.rowTemplate),f.colHeaderTemplate&&document.body.removeChild(f.colHeaderTemplate)}),i.cRI_=null,i.cL_=null,i.colHeaderLayouts_=null}function $t(e,t,n){n&&(t===_r?e.pinnedLeftRowTemplate=n:t===wr?e.pinnedRightRowTemplate=n:e.rowTemplate=n)}function Kt(e,t,n){n&&(t===_r?e.pinnedLeftColHeaderTemplate=n:t===wr?e.pinnedRightColHeaderTemplate=n:e.colHeaderTemplate=n)}function Jt(e,t,n,r,o,i){var a,l=this,c=l.grid,u=c.columns,d=[],s=c.colTree_;if(a=t>=0?u[t].id:e,c.colTree_)for(var f=s[a].parent;f;)d.push(f),f=s[f].parent;var g,h,p,v=c.cC_;if(d.length>0)for(g=d.length-1;g>=0;g--)for(v=v.columns||v,h=0,p=v.length;p>h;h++)if(v[h].caption===d[g]){v=v[h];break}v=v.columns||v;var m=Mn.findIndex(v,function(n){return t>=0?n.id===u[t].id:n.caption===e});a=v[m];var _=r>=0?u[r].id:"";v.splice(m,1);var w=Mn.findIndex(v,function(e){return r>=0?e.id===_:e.caption===n});w>=0?v.splice(i?w:w+1,0,a):v.push(a),Zt(a,o),c.columns=c.cC_}function Zt(e,t){if(!e.columns)return void(e.pinned=t);var n,r,o=e.columns;for(n=0,r=o.length;r>n;n++)Zt(o[n],t)}function Qt(e){var t,n,r=this,o=r.grid,i=r.options,a=r.dSC_,l=r.dSG_;r.dSC_=null,r.dSG_=null;var c=e.columnListInfo&&e.columnListInfo.column,u=e.groupListInfo&&e.groupListInfo.group;if(c){if(a&&a!==c){var d,s=o.container.querySelector('.gc-tool-panel-container .column-list [data-col-id="'+c+'"]'),f=s.className;if(f.indexOf("drop-above")>=0?d=!0:f.indexOf("drop-below")>=0&&(d=!1),!An.isUndefined(d)){var g=o.gCBI_(c),h=On.ci_(o,a),p=On.ci_(o,c),v=g.pinned,m=o.gCBI_(a).pinned,_=On.gUERT_(m,i),w=On.gUERT_(v,i),I=On.gUERT_(m,i,!0),y=On.gUERT_(v,i,!0);n={status:"endColumnReorder",oldIndex:On.ci_(o,a),newIndex:On.ci_(o,c),insertBefore:d,cancel:!1},o.columnReorder.raise(o,n),n&&!n.cancel&&(_||w||I||y?h>=0&&p>=0?Yt.call(r,{column:h,groupCaption:null,template:_,colHeaderTemplate:I,pinnedArea:m},{column:p,groupCaption:null,template:w,colHeaderTemplate:y,pinnedArea:v},d):console&&console.error&&console.error("Don't support reorder on no data column"):Jt.call(r,null,h,null,p,v,d));var R={type:"pinned",index:h,oldValue:m,newValue:v};o.invalidate(),o.columnChanged.raise(o,R)}}}else if(a&&e.groupListInfo){if(-1===Wt(o.data.groupDescriptors,a)){var b=Mn.defaults({field:a},r.gGID_());b.collapsed=!0,n={action:"insert",newIndex:o.data.groupDescriptors.length,cancel:!1,newGroupDescriptor:b},o.grouping.raise(o,n),n&&!n.cancel&&n.newGroupDescriptor&&n.newGroupDescriptor.field&&(t=o.data.groupDescriptors.slice(),t.push(n.newGroupDescriptor),o.data.groupDescriptors=t,o.invalidate())}}else if(l&&e.groupListInfo&&l!==u&&null!==u){var C=o.container.querySelector('.gc-tool-panel-container .group-list [data-group-id="'+u+'"]'),T=C.className;t=o.data.groupDescriptors.slice();var H=Wt(t,l),S=Wt(o.data.groupDescriptors,u);T.indexOf("drop-below")>=0&&(S+=1);var x=t.splice(Wt(t,l),1)[0],L=Wt(t,u);T.indexOf("drop-above")>=0?t.splice(L,0,x):T.indexOf("drop-below")>=0&&t.splice(L+1,0,x),n={action:"reorder",oldIndex:H,newIndex:S,cancel:!1},o.grouping.raise(o,n),n&&n.cancel||(o.data.groupDescriptors=t,o.invalidate())}var E=o.container.querySelector(".gc-tool-panel-container .selected");E&&(E.className=E.className.replace("selected",""));var P=o.container.querySelector(".gc-tool-panel-container .group-list");P.className=P.className.replace("drag-over","")}function en(e){var t,n,r,o,i=this,a=i.grid.container,l=a.querySelectorAll(".gc-columnHeader");for(t=0,n=l.length;n>t;t++)if(r=l[t],r.querySelector('[data-column="'+e+'"]'))return o=r.className,o.indexOf(Or)>=0?Yn:o.indexOf(Gr)>0?Kn:Jn;return null}function tn(e,t,n,r){var o=this,i=he.call(o,r),a=void 0!==n?n:e*t;return x.call(o,i,!0,a,t,e,null,r)}function nn(e){var t=this,n=Mn.property("options.hierarchy.offset")(t);return n=isFinite(+n)?+n:Mn.isFunction(n)?n(e,!0):(e.level+1)*e.offsetUnit,{node:e,offset:n,eval:function(n,r){var o=e.evaluate(n);return de.call(t,o,r,n)}}}function rn(e,t){var n=this,r=jt(t),o=n.gHFH_(e,t);return on.call(n,r)||n.gDRT_(r,o)}function on(e){var t=this,n=t.options,r=n.hierarchy.footer;if(r){var o;if(o=e===_r?r.pinnedLeftRowTemplate:e===wr?r.pinnedRightRowTemplate:r.template){var i;i=An.isString(o)&&o.length>1&&"#"===o[0]?document.getElementById(o.slice(1)).cloneNode(!0):Fn.createElement("<div>"+o+"</div>");var a=n.rightToLeft,l=a?Fn.inverseToRTL(i).innerHTML:i.innerHTML,c='<div class="gc-cell-border'+(a?"-rtl":"")+'" style="width:100%;height:100%;">',u='<div style="display:inline-block;height:100%">'+l+"</div>",d='<span class="gc-icon gc-node-indicator gc-float-'+(a?"right":"left")+' {{? it.node.collapsed}}collapsed{{??}}expanded{{?}}" style="visibility:hidden;margin-'+(a?"right":"left")+':{{=it.offset}}px"></span>',s="</div>";return c+(a?u+d:d+u)+s}}return null}function an(e,t,n,o){var i=this,a=i.gLT_();if(o){var l;return l={key:he.call(i,e)},r(l,a(pr),n),r(l,a(mr),t),r(l,"info",e),l}return pe.call(i,t,n,e)}function ln(e,t,n,r,o,i,a){var l,c=this,u=c.grid,d=e.itemIndex,s=e.isHierarchyFooter,f=e.node,g=t&&t.path,h=f&&f.path;return l=On.createID(u.uid,n,d,g?{area:"groupContent",path:g}:null,h?{area:s?sr:dr,path:h}:null),r?{key:l,path:t.path,rowIndex:d,layout:o,area:ur,node:f,isHierarchyFooter:s,spanInfo:a}:s?P.call(c,f,d,n,o,t):ae.call(c,l,d,f?u.formatDataItem(f.getItem()):null,t,n,o,i,a)}function cn(e){var t=this,n=document.querySelector("#"+t.grid.uid+"-"+Bn);return On.poIP_(t.grid,e.clientX,e.clientY,n.getBoundingClientRect())}function un(e){var t,n,r=this,o=r.mdHI_.column;r.cRI_||Ft.call(r,null,!1);var i,a,l=r.cRI_[o],c=r.cL_,u=r.colHeaderLayouts_[o],d=l.affectedColHeaders,s=r.lT_(_r),f=u.offset[s],g=o;for(t=0,n=d.length;n>t;t++)i=d[t],a=c[i],i!==o&&a&&u.offset[s]<a.offset[s]&&f<a.offset[s]&&(f=a.offset[s],g=i);var h=u.offset[s],p=o;for(d=l.affectedCols,t=0,n=d.length;n>t;t++)i=d[t],a=c[i],c[i]&&u.offset[s]<a.offset[s]&&h<a.offset[s]&&(h=a.offset[s],p=i);return f>=h?{index:g,isColumnHeader:!0}:{index:p,isColumnHeader:!1}}function dn(e,t){var n=this;if(n.mdMW_)return n.mdMW_;var r,o,i=n.grid,a=n.mdHI_,l=a.column,c=0,u=0;if(e){n.cRI_||Ft.call(n,null,!1);var d,s=n.cRI_[l],f=n.colHeaderLayouts_,g=n.colHeaderLayouts_[l],h=s.affectedColHeaders,p=n.lT_(_r);for(r=0,o=h.length;o>r;r++)d=h[r],d!==l&&g.offset[p]<f[d].offset[p]&&(c=Math.max(c,f[d].offset[p]-g.offset[p]+g.minWidth));for(u=Math.max(c,g.minWidth),c=0,f=n.cL_,h=s.affectedCols,r=0,o=h.length;o>r;r++)d=h[r],d!==l&&g.offset[p]<f[d].offset[p]&&(c=Math.max(c,f[d].offset[p]-g.offset[p]+g.minWidth));u=Math.max(c,g.minWidth)}else l>=0?u=n.gCP_(i.columns[l],Pr):a.columnGroupInfo&&(u=Dt(i,a.columnGroupInfo.caption,t,!0));return n.mdMW_=u,u}function sn(e,t){return t===Ir?e.rowTemplate:t===_r?e.pinnedLeftRowTemplate:e.pinnedRightRowTemplate}function fn(e,t){return t===Ir?e.colHeaderTemplate:t===_r?e.pinnedLeftColHeaderTemplate:e.pinnedRightColHeaderTemplate}function gn(e,t,n){var r=this;n&&Ve.call(r);var o,i,a=r.options,l=r.name===hr,c=r.grid,u=c.columns,d=r.mdHI_,s=d.area,f=d.column,g=jt(s),h=sn(a,g),p=fn(a,g),v=dn.call(r,h||p,g),m=document.querySelector(Et.call(r));if(n){o=r.gReO_(e,m,v),i=r.rEW_+o,v>i&&(i=v),r.tO_=o;var _=l?_r:mr,w=l?vr:pr,I=c.gCI_().contentRect,y=r.riR_.style,R=r.rX_+(a.rightToLeft&&l?r.rEW_-i:i);y.display=R>=I[_]+I[w]?Ir:"block",y[_]=R+"px"}else{o=r.tO_;var b,C;if(0!==o){if(h||p){if(f>=0){C=u[f].visibleWidth;var T=Math.max(v,C+o),H=!0;h&&(Rt.call(r,g,f,C,T,!1,H),H=!1),p&&Rt.call(r,g,f,C,T,!0,H)}}else f>=0?(b=u[f],C=b.visibleWidth,i=C+o,v>i&&(i=v,o=i-C),i=Math.max(i,v),b.visibleWidth=i,b.width=i,t&&(c.container.querySelector(".gc-grid").style.cursor=r.gCRC_())):d.columnGroupInfo&&At(c,d.columnGroupInfo.caption,o,g);Ot.call(r),Gt.call(r,o)}}}function hn(e,t){var n=this,r=n.grid;if(!r.data.isRefreshSuspended()){var o=t.action;if("setItem"!==o||!pn.call(n,t)){"removeDataItems"===o&&!function(){var e=t.removeAt,r=t.count;n.sR_=Mn.filter(n.sR_,function(t,n){return e>n||n>e+r-1})}();var i="addDataColumn"===o||"addCalculatedColumn"===o||"removeCalculatedColumn"===o||"removeDataItems"===o;n.grid.invalidate(i)}}}function pn(e){var t=this,n=t.grid,r=Mn.filter(n.columns,function(e){return!!e.cellRenderer});if(0!==r.length){var o=n.data.gBSI_(e.sourceIndex),i=o.groupInfo,a=o.nodeInfo;i&&(i.area=ur),a&&(a.area=dr);var l=[Xn,Vn,$n],c=n.container;return Mn.each(l,function(l){var u=On.createID(n.uid,l,o.row,i,a),d=c.querySelector("#"+u);d&&!function(){var o=n.formatDataItem(e.newItem),i=n.formatDataItem(e.oldItem),a=t.gRT_(l),c=Fn.createTemplateElement(a(o)),u=Fn.createTemplateElement(a(i));Mn.each(r,function(t){var n=t.id,r=d.querySelector('[data-column="'+n+'"]'),a=u.querySelector('[data-column="'+n+'"]'),l=c.querySelector('[data-column="'+n+'"]'),s=t.cellRenderer,f=Mn.isFunction(s)?s:Br[s];f&&f(r,a,l,e.oldItem[n],e.newItem[n],i[n],o[n])}),c=null}()}),!0}}function vn(e,t,n,o){var i,a=this,l=a.grid,c=a.gFE_().rows;if(0!==c.length){var u=a.gLT_(),d=u(pr),s=u(mr),f=c[0].row.style,g=parseInt(f[s]),h=parseInt(f[d]),p=mn.call(a,(i={},r(i,s,g),r(i,d,h),i),t,n);if(p.length){var v;if(n)v=p[p.length-1];else{var m=a.cRoI_,_=m.viewIndex+(t?-1:1);v=Mn.find(p,function(e){return On.vi(l,e.key)===_})}if(v){var w,I=v.layout;return _n.call(a,(w={oldTop:g},r(w,s,I?I[s]:v[s]),r(w,d,I?I[d]:v[d]),w),t,n),En.call(a,null,v.key,null,e.shiftKey,o),!0}return!1}}}function mn(e,t,n){var o,i=this,a=i.grid,l=i.gLT_(),c=l(pr),u=l(mr),d=l("offsetTop"),s=l("offsetLeft"),f=l("initOffsetLeft"),g=e[u],h=g+e[c],p=a.gSO_(Vn),v=i.gVLI_()[c],m=n?v:5,_=t?(n?h:g)-m:(n?g:h)+m;return i.gVRRI_((o={},r(o,d,_),r(o,s,p[f]),r(o,"area",Vn),o),!0,1).renderedRows}function _n(e,t,n){var o=this,i=o.grid,a=o.gLT_(),l=a(pr),c=a(mr),u=a("initOffsetTop"),d=a("initOffsetLeft"),s=o.gVLI_()[l],f=i.gSO_(Vn),g=i.data.groupDescriptors,h=0,p=Mn.filter(g,function(e){return e.header&&e.header.fixed});Mn.each(p,function(e){h+=e.height||o.options.rowHeight});var v=f[u]+h,m=v+s-h,_=0,w=5;if(n)_=e[c]-e.oldTop;else{var I=e[l],y=e[c],R=y+I;t?v>y&&(_-=v-y+w):R>m&&(_+=R-m+w)}if(_){var b;i.sSPO_(Vn,(b={},r(b,u,f[u]+_),r(b,d,f[d]),b))}}function wn(e,t){var n,o=this,i=o.grid,a=o.gLT_(),l=a("initOffsetTop"),c=a("initOffsetLeft"),u=i.gSO_(e),d=o.name===fr&&o.options.rightToLeft;t=d?-t:t,i.sSPO_(e,(n={},r(n,l,u[l]),r(n,c,u[c]+t),n))}function In(){var e=this,t=e.tabOrderMapping_=e.tabOrderMapping_||[];if(t.length)return t;var n,r,o=e.grid,i=o.columns,a=o.container,l=[];return Mn.each(i,function(e,t){o.iCV_(e,e.pinned)&&(n=a.querySelector(".c"+t),n&&(r=n.dataset,l.push({tab:~~r.taborder,col:r.column?r.column:-1})))}),l=Mn.sortBy(l,function(e){return e.tab})}function yn(e,t){var n=this,r=n.grid,o=r.columns,i=function(e,i){var a=n.spanRelations_,l=a&&a[i],c=void 0,u=void 0,d=void 0,s=void 0,f=e.querySelectorAll(".gc-cell");return f=Array.prototype.slice.call(f,0),Mn.each(l,function(e){c=Mn.find(o,function(t){return t.id===e.field}),Rn(c)===t[0]&&(u=e.anchorRow,u!==i&&(d=On.getRowIDByViewIndex(r,u,t),s=document.getElementById(d[0].id),s&&f.push(s.querySelector('[data-column="'+c.id+'"]'))))}),f},a=On.getRowIDByViewIndex(r,e,t),l=void 0,c=[],u=void 0,d=void 0,s=void 0;return Mn.each(a,function(t){l=document.getElementById(t.id),l&&(d=i(l,e),d=Mn.filter(d,function(e){return"none"!==e.style.display}),Mn.each(d,function(e,n){u=Fn.gER(e),s=e.dataset,c.push({left:u.left,top:u.top,width:u.width,height:u.height,taborder:~~s.taborder,area:t.area,cell:e})}))}),c}function Rn(e){return e.pinned===_r?Xn:e.pinned===wr?$n:Vn}function bn(e,t){var n=this,r=n.cRoI_,o=yn.call(n,r.viewIndex,[r.area]),i=Tn(n.gLT_()(e),t,o);if(!i){var n=this,r=n.cRoI_,a=r.viewIndex,l=r.area;l===Vn?e===wr&&n.sPV_("right")?i=Cn.call(n,t,$n,a,e):e===_r&&n.sPV_("left")&&(i=Cn.call(n,t,Xn,a,e)):l===$n&&e===_r?i=Cn.call(n,t,Vn,a,e):l===Xn&&e===wr&&(i=Cn.call(n,t,Vn,a,e))}return i}function Cn(e,t,n,r){var o=this,i=yn.call(o,n,[t]),a=Tn(o.gLT_()(r),e,i);if(a)return a;var l,c,u=o.gLT_(),d=u(_r),s=u(vr);return r===_r?(l=Number.MIN_VALUE,Mn.each(i,function(e){e[d]+e[s]>l&&(c=e,l=e[d]+e[s])})):(l=Number.MAX_VALUE,Mn.each(i,function(e){e[d]<l&&(c=e,l=e[d])})),c}function Tn(e,t,n){var r,o=[],i=function(e,t,n){var r=t.left,o=t.top,i=t.width,a=t.height,l=n.left,c=n.top,u=n.width,d=n.height;return e===_r?r>=l+u:e===wr?l>=r+i:e===mr?o>=c+d:c>=a+o},a=function(e,t,n){var r,o=Number.MAX_VALUE;return Mn.each(n,function(t){var n=t.left,i=t.top;t.width,t.height;e===_r||e===wr?o>i&&(o=i,r=t):o>n&&(o=n,r=t)}),r};return Mn.each(n,function(n){i(e,t,n)&&(r=e===_r||e===wr?"vertical":"horizontal",tt(t,n,r)&&o.push(n))}),o.length>=2?a(e,t,o):o[0]}function Hn(e,t){var n,o,i,a,l=this,c=l.grid,u=c.options,d=c.columns,s=l.cRoI_,f=s.viewIndex,g=s.col,h=l.gLT_(),p=h(pr),v=h(mr),m=l.gFE_().cols;if(m.length){var _=Fn.gER(m[0]),w=function(e,t){var n=l.spanRelations_;if(t&&n&&n[e]){var r=n[e],o=Mn.find(r,function(e){return e.field===t.id}),i=o&&o.anchorRow;return i!==e?(r=n[i],Mn.find(r,function(e){return e.field===t.id})):o}return null},I=function(e,t,n,r){if(An.isNil(r))return null;var o=e.container,i=o.querySelector('[data-taborder="'+r+'"]');return Mn.findIndex(t,function(e){return i&&i.dataset.column===e.id})};if(t===mr||t===yr){var y=t===mr,R=d[g],b=w(f,R);if(b){var C,T,H=b.anchorRow,S=H,x=f,L=Fn.closest(m[0],".gc-row"),E=parseInt(L.style[v]),P=u.cellMergingSettings.onlyShowFirstRow;if(P)y?x--:x++,T=w(x,R);else{for(;S===H;)y?x--:x++,T=w(x,R),S=T&&T.anchorRow;x=S}n=mn.call(l,(C={},r(C,v,E),r(C,p,P?u.rowHeight:b&&b.height),C),y);var D=Mn.find(n,function(e){return On.vi(c,e.key)===x});if(D){var M;_n.call(l,(M={},r(M,v,D.layout?D.layout[v]:D[v]),r(M,p,P?u.rowHeight:T.height),M),y),o=document.getElementById(D.key),i=o&&o.querySelector(".c"+g),En.call(l,g,D.key,i&&~~i.dataset.taborder)}}else{A=bn.call(l,t,_),A||(vn.call(l,e,y,!1,!0),A=bn.call(l,t,_)),a=A&&A.taborder;var F=l.cRoI_;En.call(l,I(c,d,F.rowID,a),null,a)}}else if(t===_r||t===wr){var A=bn.call(l,t,_);Sn.call(l,A.cell,A.area),a=A&&A.taborder,En.call(l,I(c,d,s.rowID,a),null,a)}else{var O=t===br;vn.call(l,{},O,!0)}return!0}}function Sn(e,t){var n=this,r=Fn.gER(e),o=xn.call(n,r,t);0!=o&&wn.call(n,t,o)}function xn(e,t){var n=this,r=document.getElementById(n.grid.uid+"-"+t),o=0;if(r){var i=n.gLT_(),a=i(_r),l=i(vr),c=Fn.gER(r),u=c[a],d=c[a]+c[l],s=e[a],f=e[a]+e[l];u>s&&d>=f?o=s-u:d>=s&&f>d?o=f-d:s>=d?o=f-d:u>=f&&(o=s-u)}return o}function Ln(e,t,n){var r=this,o=r.grid.columns,i=r.options.selectionUnit;if(i===Nr.ROW)return!1;var a=In.call(r);if(!a.length)return!1;var l=r.cRoI_,c=l.groupArea===lr,u=l.tabOrder,d=Mn.findIndex(a,function(e){return u===e.tab}),s=a.length,f=l.viewIndex;if(d=d>=0?t?d-1:d+1:0,t&&(0>d||c)?(d=s-1,f--):!t&&(d>=s||c)&&(d=0,f++),f!==l.viewIndex&&!vn.call(r,e,t,!1,!0))return!1;var g=a[d],h=Mn.findIndex(o,function(e){return e.id===g.col});En.call(r,h,null,g.tab,!1,n&&!n(f,h));var p=r.cRoI_,v=r.gFE_().cols[0],m=Mn.find(o,function(e){return p.colID===e.id});return Sn.call(r,v,Rn(m)),!0}function En(e,t,n,r,o){var i=this,a=i.grid,l=a.columns,c=i.cRoI_;t=An.isNil(t)?c.rowID:t;var u=On.vi(a,t),d=a.getItem(u),s=d&&d.item,f=An.isNil(n)?c&&c.tabOrder||0:n,g=An.isNil(e)?c&&c.col||0:e,h=s&&s.sourceIndex>=0?s.sourceIndex:-1,p=l[g],v={group:d&&d.group,node:d&&d.node,row:d.row,col:g,viewIndex:u,groupArea:d.groupArea,isHierarchyFooter:d.nodeArea===sr,sourceIndex:h,rowID:t,colID:p&&p.id,tabOrder:f,area:p?p.pinned===_r?Xn:p.pinned===wr?$n:Vn:null};r||(i.sMS_=!0),i.cRoI_=v}function Pn(e,t,n){var r=e.layoutEngine.options.selectionUnit,o=t&&t.sourceIndex>=0?t.sourceIndex:-1,i=t&&t.col,a=n&&n.sourceIndex>=0?n.sourceIndex:-1,l=n&&n.col;a===o&&l===i||e.focusChanged.raise(e,{sourceRow:a,column:r===Nr.ROW?-1:l})}function Dn(e,t,n,r,o){var i=e.layoutEngine,a=void 0,l=void 0,c=t,u=void 0,d=void 0,s=e.data,f=s.groupDescriptors,g=f&&f.length>0,h=W(e),p=i.gSC_(),v=void 0,m=void 0,_=void 0,w=void 0,I=i.spanRelations_=i.spanRelations_||{},y=void 0,R=void 0,b=void 0,C="restrict"===i.options.cellMergingSettings.mode,T=function(e,t,n){var r=e[t],o=-1;return r&&(An.isNumber(n)?!function(){var e=p[n].id,t=Mn.find(r,function(t){return t.field===e});o=t&&t.anchorRow}():o=Mn.map(r,"anchorRow")),o},H=function(e,t){return Mn.some(e,function(e){return e.field===t})};return Mn.each(p,function(r,s){for(b=r.id,c=t,C&&s>0&&(y=T(I,c,s-1));n>c;)if(l=o[c].item||(o[c].item=e.getItem(c)),v=l.groupArea,m=l.nodeArea,l.isNewRow||h&&m===sr||g&&v===lr)c++;else{for(d={anchorRow:c,height:o[c].rowHeight},u=c+1;n>u;){if(C&&s>0&&(R=T(I,u,s-1),y!==R)){y=R;break}if(a=o[u].item||(o[u].item=e.getItem(u)),_=a.groupArea,w=a.nodeArea,a.isNewRow||h&&w===sr||g&&_===lr)break;if(!i.hasSpanSameValue_(b,l,a))break;d.height+=o[u].rowHeight,H(I[u],b)||(I[u]=I[u]||[],I[u].push({field:b,anchorRow:c})),u++}H(I[c],b)||(I[c]=I[c]||[],I[c].push({field:b,anchorRow:d.anchorRow,height:d.height})),o[c].spanInfo=o[c].spanInfo||{},o[c].spanInfo[b]=d,c=u}}),r&&!function(){t=r[0],n=r[1];var e={},i=void 0;for(c=t;n>=c;c++)o[c]&&!e[c]&&(e[c]=o[c],i=T(I,c),Mn.each(i,function(t){o[t]&&!e[t]&&(e[t]=o[t])}));o=e}(),o}var Mn=n(8),Fn=n(10),An=n(11),On=n(12),Gn=n(14),Wn="absolute",Nn="relative",kn="hidden",Vn="viewport",Bn="toolPanel",qn="footerPanel",jn="pinnedLeftFooterPanel",Un="pinnedRightFooterPanel",zn="footerPanelRowHeader",Xn="pinnedLeftViewport",Yn="pinnedLeftColumnHeader",$n="pinnedRightViewport",Kn="pinnedRightColumnHeader",Jn="columnHeader",Zn="rowHeader",Qn="cornerHeader",er="groupingPanel",tr="padding-left",nr="padding-right",rr="margin-left",or="margin-right",ir="gantt",ar="ganttHeader",lr="groupHeader",cr="groupFooter",ur="groupContent",dr="nodeContent",sr="nodeFooter",fr="HorizontalLayout",gr=8,hr="GridLayout",pr="height",vr="width",mr="top",_r="left",wr="right",Ir="none",yr="bottom",Rr="pagedown",br="pageup",Cr="up",Tr="down",Hr="mousedown",Sr="mouseup",xr="mousemove",Lr="click",Er="keydown",Pr="minWidth",Dr="allowSorting",Mr="allowResizing",Fr="headerRow",Ar="allowCellMerging",Or="gc-pinned-left",Gr="gc-pinned-right",Wr={NONE:"none",SINGLE:"single",MULTIPLE:"multiple",RANGE:"range"},Nr={ROW:"row",CELL:"cell"},kr=.8,Vr=["pageX","pageY","clientX","clientY","target"];t.prototype={gCP_:function(e,t){var n=this.options;return t===Ar?n[t]&&e[t]:t===Pr?e[Pr]||n.colMinWidth:t===vr?e[vr]||n.colWidth:t===Mr?An.isNil(e[Mr])?n.allowColumnResize:e[Mr]:An.isNil(e[t])?n[t]:e[t]},init_:function(e){var t=this,n=t.options;t.iC_();var r=n.showToolPanel;Object.defineProperty(n,"showToolPanel",{get:function(){return r},set:function(e){r!==e&&(r=e,t.grid.invalidate())},enumerable:!0,configurable:!0})},iC_:function(){var e=this,t=e.grid,n=Mn.pullAt(t.columns,Mn.findIndex(t.columns,"ganttColumn"));e.gaC_=n?n[0]:null,Mn.each(t.columns,function(e){e=Mn.defaults(e,{visible:!0,pinned:Ir,caption:An.caC(e.dataField),id:e.dataField})}),gt.call(e)},iGaC_:function(){var e=this,t=e.grid,n=e.options,r=An.findPlugin("Gantt");if(r&&e.gaC_){0!==e.gaC_.width&&(e.hGC_=!0);var o={rowHeight:n&&n.rowHeight,data:t.data},i=n&&n.hierarchy;i&&(i.keyField&&(o.id=i.keyField),i.parentField&&(o.parentID=i.parentField));var a=Mn.defaults(o,e.gaC_.ganttColumn),l=e.gantt_=new r(t,a),c=l.getLabel().length;l.label_=null,l.options("headerHeight",(n.showColHeader?n.colHeaderHeight*On.gCHL_(t.cC_):0)/c)}},gLI_:function(){var e=this,t=e.options;if(e.gS_)return e.gS_.gLI_();if(e.l_)return e.l_;var n=e.l_={};t.showToolPanel&&(n[Bn]=e.gTPLI_());var r=Mn.every(e.grid.columns,function(e){return!e.visible}),o=e.hGC_,i=t.footerRow&&t.footerRow.visible,a=t.showColHeader,l=t.showRowHeader,c=t.headerRow,u=t.allowGrouping;if(!r||o){n[Vn]=e.gVLI_(),i&&(n[qn]=e.gFPL_());var d=e.sPV_(_r),s=e.sPV_(wr);d&&(n[Xn]=e.gPVLI_(_r),i&&(n[jn]=e.gFPL_(_r))),s&&(n[$n]=e.gPVLI_(wr),i&&(n[Un]=e.gFPL_(wr))),o&&(n[ir]=e.gGaLI_()),(a||c&&c.visible)&&l&&(n[Qn]=e.gCoHLI_()),l&&(n[Zn]=e.gRHLI_(),i&&(n[zn]=e.gFPRL_())),(a||c&&c.visible)&&(n[Jn]=e.gCHLI_(),d&&(n[Yn]=e.gPCHVLI_(_r)),s&&(n[Kn]=e.gPCHVLI_(wr)),o&&(n[ar]=e.gGaHLI_()))}return u&&(n[er]=e.gGDPLI_()),n},gGDPLI_:function(){var e=this;if(e.gDPLI_)return e.gDPLI_;var t=e.grid,n=t.gCI_().contentRect,r=e.options;if(r.allowGrouping){var o=k.call(e),i=n.width;e.gDPLI_={top:0,left:0,width:n.width>0?i:0,height:n.height>0?o:0,contentWidth:i,contentHeight:o}}else e.gDPLI_={top:0,left:0,width:0,height:0,contentWidth:0,contentHeight:0};return e.gDPLI_},gTPLI_:function(){var e=this,t=e.grid.gCI_().contentRect,n=e.gGDPLI_(),r=vt.call(e);return{top:n.height,left:Math.max(0,t.width-r),width:t.width>0?r:0,height:t.height>0?t.height-n.height:0,contentWidth:r,contentHeight:t.height-n.height}},gRI_:function(e){var t=this;if(t.gS_)return t.gS_.gRI_(e);var n=e&&e.area||"";return n?t.iVA_(n)||t.iRA_(n)||t.iFA_(n)||t.iFHA_(n)?t.gVRRI_(e):t.gORI_(e):null},gORI_:function(e,t){var n,r,o=this,i=o.grid.uid,a=o.options,l=e.offsetLeft,c=e.offsetTop,u=e.area,d=o.name===hr,s=o.iCA_(u),f=u===Qn,g=u===er,h=u===Bn,p=u===ir,v=u===ar,m=a.rightToLeft,_=o.gLI_(),w=_[u],I=o.gLT_(),y=m?wr:_r,R=w.left,b=w.top,C=w.width,T=w.height;if(t)r={};else{var H={position:Nn},S={position:Wn,top:b,height:T,width:C,overflow:kn};s?(n="gc-columnHeader",u!==Jn&&(n+=" gc-pinned-"+(u===Yn?"left":"right")+(m?"-rtl":"")),S[y]=R,H[I(vr)]=w[I("contentWidth")],H[I(pr)]=w[I(pr)]):f?(n="gc-cornerHeader",S[y]=R,S.zIndex=10,H.width=C,H.height=T):g?(n="gc-grouping-container no-select",S[y]=R,H.top=b,H[y]=R,H.width=C,H.height=T):h?(n="gc-tool-panel-container",S[y]=R,S[m?"border-right":"border-left"]="1px solid rgba(0, 0, 0, 0.2)",S.zIndex=20,H.height="100%"):(p||v)&&(n="gc-"+(p?ir:ar),S[y]=R,H.height=w[p?"contentHeight":pr],H.width=w.contentWidth),r={outerDivCssClass:n,outerDivStyle:S,innerDivStyle:H}}var x;if(s){t&&(d?(r.left=u===Jn?(m?l:-l)||0:0,r.top=0):(r.left=0,r.top=u===Jn?-c||0:0)),x=[];var L=a.headerRow,P=L&&L.visible,D=P?L.position:"";P&&"above"===D&&x.push(t?{key:On.createID(i,u+"Row")}:o.gRHRI_(u)),a.showColHeader&&x.push(t?{key:On.createID(i,u)}:o.gRCHI_(u)),P&&"above"!==D&&x.push(t?{key:On.createID(i,u+"Row")}:o.gRHRI_(u)),t||(r.innerDivTranslate=o.gHIDT_(e))}else f&&!t?x=[{key:i+"-corner",isRowRole:!1,renderInfo:{cssClass:"gc-corner-header-cell ch"+(m?" gc-cell-border-rtl":" gc-cell-border"),style:{height:"100%"},renderedHTML:a.allowHeaderSelect?E(i+"-corner-select"):""}}]:g&&!t?x=[{isRowRole:!1,renderInfo:{renderedHTML:j.call(o,!0)}}]:h&&!t?x=[_t.call(o)]:(p||v)&&(t?(r.left=-l,r.top=p?-c:0):r.innerDivTranslate={left:-e.offsetLeft,top:p?-c:0},x=p?[]:t?[o.getGanttRowHeaderCellRenderInfo_()]:[{key:On.createID(o.grid.uid,ar),isRowRole:!1,renderInfo:{cssClass:"gc-gantt-column-header",renderedHTML:o.gantt_.getHeaderRects_(_.width).join("")}}]);return r.renderedRows=x,r},gVRRI_:function(e,t,n){var i,a,l,c,u,d=this,s=d.grid,f=s.uid,g=s.data.itemCount,h=d.options,p=e.offsetLeft,v=e.offsetTop,m=d.name===hr,_=h.rightToLeft,w=d.gLT_(),I=w("offsetTop"),y=w("contentWidth"),R=w("contentHeight"),b=w(pr),C=w(vr),T=w(mr),H=e.area,S=d.iVA_(H),x=d.iFA_(H),L=d.iFHA_(H),E=d.gLI_(),P=E[H],D=P[C],M=P[b],F=An.isNil(e.includeRows)?!0:e.includeRows,A=h.autoRowHeight,O=(i={},
r(i,T,e[I]),r(i,b,t&&n?n:P[b]),i),G=d.gRaI_(x||L?H:A?Vn:H,O),N=G.start,k=G.end,V=G[I],B=G.startPosition,q=G.endPosition,j=G.viewRange,U=d.hSC_(),z=!1,X=e.offsetLeft,Y=e.offsetTop;if(t)a={},S||x?m?(a.left=H===Vn||H===qn?(_?p:-p)||0:0,a.top=S?-v:0):(a.left=S?_?p:-p:0,a.top=H===Vn||H===qn?-v||0:0):L?(a.left=0,a.top=0):(a.left=m?0:_?p:-p,a.top=m?-v:0);else{var $,K,J;S||x?(J=x?"gc-footer-panel":"gc-viewport",H===Xn||H===jn?J+=" "+(_&&m?Gr:Or):H!==$n&&H!==Un||(J+=" "+(_&&m?Or:Gr))):J=L?"gc-footer-panel-rowHeader":"gc-rowHeader",a={outerDivCssClass:J,outerDivStyle:($={position:Wn,top:P.top},r($,_?wr:_r,P.left),r($,C,D),r($,b,M),r($,"overflow",kn),$),innerDivStyle:(K={position:Nn},r(K,C,m||!S?P[y]:A?q:D-(0>V?V:0)),r(K,b,m||!S?A?q:M-(0>V?V:0):P[R]),K),innerDivTranslate:S||x?{left:m?H===Vn||H===qn?_?X:-X:0:x?0:_?X:-X,top:m?x?0:-Y:H===Vn||x?-Y||0:0}:d.gHIDT_(e)}}var Z=[];if(F){if(x||L)Z.push(o.call(d,H));else{var Q=On.hG_(s);if(N&&N.isNewRow&&(u=d.gRH_(-1,H),t?Z.push({key:On.createID(f,S?H:Zn,-1),index:-1,top:0,height:u}):Z.push(S?d.cRRI_(-1,null,u,H,f,{top:0,height:u},null):d.gNRHCRI_(-1,u,0)),N=Q?d.gGIA_(N.endPosition,H):d.getRowInfoAt_(N.endPosition,H),V=N.startPosition,B=N.startPosition,U&&S&&(N=d.getSpanRowInfo_(N,H,!0))),k&&k.isNewRow&&(k=Q?d.gGIA_(k.startPosition,H):d.getRowInfoAt_(k.startPosition,H),U&&S&&(k=d.getSpanRowInfo_(k,H,!1)),q=k.endPosition,z=!0),Q)Z=Z.concat(d.gGRI_(N,k,V,!S,!!t,!S&&A?Vn:H,j));else if(W(s))if(S){var ee=d.rHR_({start:N,end:k,startPosition:B},H,!0),te=d.bHRL_(ee,H,B);Mn.each(te,function(e){Z.push(t?e:d.rHRBU_(e,H))})}else Z=d.rHRH_({start:N,end:k,startPosition:B},t);else if(S){var ne,te=d.bRLI_(N,k,H,B,j);for(l=N;k>l;l++)if(ne=te[l])if(t){var re;Z.push((re={key:On.createID(f,H,l===g?-1:l),index:l},r(re,T,ne.startPosition),r(re,b,ne.rowHeight),r(re,"spanInfo",ne.spanInfo),re))}else{var oe,ie;Z.push(d.cRRI_(l,null,ne.rowHeight,H,f,m?(oe={},r(oe,T,ne.startPosition),r(oe,b,ne.rowHeight),oe):(ie={},r(ie,_?wr:_r,ne.startPosition),r(ie,"width",ne.rowHeight),ie),ne.spanInfo))}}else for(j&&d.hSC_()&&d.aARA_(mr)&&(j=[j[0]-1,j[1]-1]),l=N;k>l;l++)if(u=d.gRH_(l,Vn),t){var ae=On.createID(f,Zn,l===g?-1:l);if(A){var le;le={key:ae,index:l},r(le,b,u),r(le,m?mr:_?wr:_r,B),c=le,B+=u}else c=r({key:ae,index:l},b,u);(!j||l>=j[0]&&l<=j[1])&&Z.push(c)}else(!j||l>=j[0]&&l<=j[1])&&Z.push(d.gNRHCRI_(l,u,B)),B+=u;z&&(A=d.gRH_(-1,H),t?Z.push({key:On.createID(f,S?H:Zn,-1),index:-1,top:k.endPosition,height:A}):Z.push(S?d.cRRI_(-1,null,A,H,f,{top:q,height:A},null):d.gNRHCRI_(-1,A,q)))}S&&A&&G.isLastItem&&(d.scrollToEnd_=!0)}return a.renderedRows=Z,a},gRRI_:function(e,t){var n=this;if(n.gS_)return n.gS_.gRRI_(e,t);var r=n.options,i=n.grid,a=n.gLT_(),l=a(mr),c=a(pr),u=a(vr),d={},s=i.uid,f=On.hG_(i);if(n.iVA_(t)){if(f){if(r.allowAutoAddRow&&e.key.indexOf("autorow")>0)return d[l]=e[l],d[c]=e[c],n.cRRI_(e.index,null,e[c],t,s,d,e.spanInfo);var g=e.area,h=e.info,p=i.gGI_(g===ur?e.path:e.info.path);if(g===lr)return le.call(n,e.key,h,p,e[u],e[l],t);if(g===ur){var v=e.rowIndex;return e.isHierarchyFooter?P.call(n,e.node,v,t,e.layout,p):e.node?ae.call(n,e.key,v,i.formatDataItem(e.node.getItem()),p,t,e.layout,null,e.spanInfo):ie.call(n,e.key,v,p,t,e.layout,null,e.spanInfo)}return z.call(n,e.key,h,p,e[l],t,e.spanInfo)}return d[l]=e[l],d[c]=e[c],e.isHierarchyFooter?P.call(n,e.node,e.index,t,d):n.cRRI_(e.index,e.node?i.formatDataItem(e.node.getItem()):null,e[c],t,s,d,e.spanInfo)}if(n.iRA_(t))return f?r.allowAutoAddRow&&e.key.indexOf("autorow")>0?n.gNRHCRI_(e.index,e[c],e.top):pe.call(n,e[l],e[c],e.info):e.node?tn.call(n,e.index,e[c],e[l],{node:e.node,isHierarchyFooter:e.isHierarchyFooter}):n.gNRHCRI_(e.index,e[c],e.top);if(n.iCA_(t)){var m=On.createID(s,t);return m===e.key?n.gRCHI_(t):n.gRHRI_(t)}return t===ir||t===ar?t===ar?n.getGanttRowHeaderCellRenderInfo_():null:n.iFA_(t)||n.iFHA_(t)?o.call(n,t):void 0},gIGHRI_:function(e,t,n,r){var o,i,a=this,l=a.grid,c=e.path,u=0,d=l.uid+(r?"-gf":"-gh")+c.join("_");if(n){var s=a.gLT_();o=n(a,e),u=o.location?o.location[s(mr)]:u,i={style:o.style||{},CSSClass:o.cssClass}}return r?{key:d,isRowRole:!1,renderInfo:D.call(a,e,u,Vn,i)}:{key:d,isRowRole:!1,renderInfo:A.call(a,c,e,t,u,Vn,i)}},gIGRI_:function(e,t,n){if(e.isBottomLevel){for(var r,o,i,a,l,c,u,d=this,s=e.data,f=0,g=d.gLT_(),h=g(mr),p=g(pr),v=[],m={},_=0,w=s.expandedItemCount;w>_;_++)m={},u=d.gS_&&d.gS_.mappingFromViewIndex_?d.gS_.mappingFromViewIndex_(_,e.path):_,n?(r=n(e,_),i=r.cssClass,o=r.style||{},o.width=t.width,c={style:o,CSSClass:i,ownerCssClass:r.ownerCssClass},r.location?(l=d.gRH_(_,Vn,e.path,!1,{top:r.location.top},c),m[p]=l,m[h]=r.location[h],a=oe.call(d,u,e,Vn,!1,m,c)):(m[h]=f,l=d.gRH_(_,Vn,e.path,!1,m,c),m[p]=l,a=oe.call(d,u,e,Vn,!1,m,c),f+=l),v[u]=a):(o={width:t.width},m[h]=f,l=d.gRH_(_,Vn,e.path,!1,m,{style:o}),m[p]=l,a=oe.call(d,u,e,Vn,!1,m,{style:o}),f+=l,v[u]=a);return v}},gRHRI_:function(e){var t=this,n="",r=t.options.headerRow;r.separateColumn?n=t.getTemplate_(!0,!0,e):(e===Jn&&(n=r.renderer||"",An.isFunction(n)&&(n="")),n='<div style="height:100%;" class="gc-header-row-cell gc-cell-border">'+n+"</div>",n=se.call(t,n));var o=t.gHRS_();return{key:On.createID(t.grid.uid,e+"Row"),isRowRole:!1,renderInfo:{cssClass:"gc-header-row",style:o,renderedHTML:n}}},gRH_:function(e,t,n,r,o,i){var a=this;return t=t?t:Vn,a.options.autoRowHeight?(a.gS_&&a.gS_.mappingFromViewIndex_&&(e=a.gS_.mappingFromViewIndex_(e,n)),V.call(a,e,t,n,r,o,i)):r?{oldHeight:a.options.rowHeight,newHeight:a.options.rowHeight}:a.options.rowHeight},gHFH_:function(e,t,n,r){var o=this,i=o.grid,a=i.options.hierarchy,l=a&&a.footer?a.footer.height:void 0;return An.isNumber(l)?l:o.gRH_(e,t,n,r)},cRRI_:function(e,t,n,r,o,i,a){var l=this,c=l.grid,u=c.options,d=c.data,s=d.itemCount,f=c.columns;t||(t=e>=0&&s>e?c.formatDataItemInternal_(d.getItem(e),!0):{});var g=r===Xn?l.cachedPinedTmplFn_:r===$n?l.cachedRightPinedTmplFn_:l.cachedTmplFn_,h=l.gLT_(),p=h(mr),v=h(pr),m={};m[p]=i?i[p]:e*n,m[v]=i?i[v]:n;var _="",w=t.node;W(c)&&w&&(_=" gc-node node-level"+w.level),e===s&&(e=-1);var I,y=w&&w.path,R=On.createID(o,r,e,null,y?{area:dr,path:y}:null),b=l.hSC_();if(b){var C,T,H,S,x=u.cellMergingSettings,L=x.onlyShowFirstRow,E=x.alwaysShowText,P=c.gSO_(Vn)[p],D=P+l.gVLI_()[v];Mn.each(f,function(e){I=e.id,e.allowCellMerging&&(C=a&&a[I],L?(t["show_"+I]=!0,t["hideText_"+I]=!C):C&&(S=C.height,t["show_"+I]=!0,t[I+"_height"]=S,E&&(T=Math.min(D,m[p]+S)-Math.max(P,m[p]),T>u.rowHeight&&(H=P-m[p],t[I+"_outsideHeight"]=H>0?H:0,t[I+"_intersectHeight"]=T))))})}var M=-1===e;M&&(g=null);var F={key:R,isRowRole:!0,renderInfo:{cssClass:"gc-row"+(e%2===0?" even ":" odd ")+(M?"":"r"+e)+_,style:m,renderedHTML:(g||l.gRT_(r,M))(t)}};return F},rHRH_:function(e,t){var n=this,o=n.options.rowHeight,i=!1,a=e.start,l=e.end,c=e.startPosition,u=e.viewRange,d=[],s=n.gLT_(),f=function(e,f,g){var h=!1;if(f===a.index&&g===a.isHierarchyFooter?i=!0:f===l.index&&g===l.isHierarchyFooter&&(h=!0),i){o=g?n.gHFH_(f,Vn):n.gRH_(f,Vn);var p={node:e,isHierarchyFooter:g,itemIndex:f},v=On.vi(n.grid,f,null,{path:e.path,area:g?sr:dr});if(!u||v>=u[0]&&v<=u[1])if(t){var m;d.push((m={key:he.call(n,p),index:f},r(m,s(pr),o),r(m,s(mr),c),r(m,"node",e),r(m,"isHierarchyFooter",g),m))}else d.push(tn.call(n,f,o,c,p));c+=o}return h};return On.tN_(n.grid.data.rootNode,f,On.hHF_(n.grid)),d},rHR_:function(e,t,n){var r=this,o=r.grid.uid,i=r.options.rowHeight,a=r.gLT_(),l=a(mr),c=a(pr),u=e.start,d=e.end,s=e.startPosition,f=!1,g=[],h=function(e,a,h){var p=!1;if(a===u.index&&h===u.isHierarchyFooter&&(f=!0),a===d.index&&h===d.isHierarchyFooter&&(p=!0),f){i=h?r.gHFH_(a,t):r.gRH_(a,t);var v,m={};h?(v=On.createID(o,t,a,null,{area:sr,path:e&&e.path}),m={key:v,index:a,node:e,isHierarchyFooter:!0},m[c]=i,m[l]=s):(v=On.createID(o,t,a,null,{area:dr,path:e&&e.path}),m={key:v,index:a,node:e,isHierarchyFooter:!1},m[c]=i,m[l]=s),n?g.push(m):g.push(r.rHRBU_(m,t)),s+=i}return p};return On.tN_(r.grid.data.rootNode,h,On.hHF_(r.grid)),g},rHRBU_:function(e,t){if(e){var n=this,r=n.gLT_(),o=r(mr),i=r(pr),a=e.node,l={};return l[i]=e[i],l[o]=e[o],e.isHierarchyFooter?P.call(n,a,e.index,t,l):n.cRRI_(e.index,n.grid.formatDataItem(a.getItem()),e[i],t,n.grid.uid,l,e.spanInfo)}},gGHr_:function(e,t,n){var r=this;return O.call(r,{path:e,itemIndex:-1,area:"groupHeader"},!1,t,n,!1,Vn)},gRR_:function(e){var t=this;if(t.gS_)return t.gS_.gRR_(e);var n=e&&e.area||"";return n&&n!==Qn&&n!==Bn&&n!==er?t.iVA_(n)||t.iRA_(n)||t.iFA_(n)||t.iFHA_(n)?t.gVRRI_(e,!0):t.gORI_(e,!0):null},uR_:function(e,t,n,o,i){var a=this,l=a.grid,c=a.gLT_(),u=c(pr),d=c(mr),s=c(_r),f=n.layout?n.layout:n,g=a.gRRI_(n,o),h=document.createElement("div");h.innerHTML=l.rR_(g),e.replaceChild(h.childNodes[0],t);var p,v=l.lRR_[o],m=v.indexOf(n.key),_=m+1,w=v.length;if(_>=w){var I=f[d]+f[u],y=parseInt(t.style[d])+parseInt(t.style[u]),R=l.gSO_(o)[d]+a.gVLI_()[u];if(y>=R&&R>I){var b,C=l.gSO_(Vn);l.sSPO_(Vn,(b={},r(b,d,C[d]+20),r(b,s,C[s]),b))}}else for(var T=_;w>T;T++)p=document.getElementById(v[T]),p.style[d]=parseInt(p.style[d])+i+"px"},gGRI_:function(e,t,n,r,o,i,a){if(!e||!t)return[];var l,c,u,d,s,f,g=[],h=this,p=h.grid,v=[],m=!1,_=!1,w=h.gLT_(),I=h.gLI_()[i][w("contentWidth")];for(u=t.path[0],d=e.path[0];u>=d;--u)v.push({path:[u],itemIndex:-1,area:lr});var y,R,b=[],C=function(e,t,n){b.push({path:l.path,itemIndex:t,area:ur,node:e,isHierarchyFooter:n})},T=h.hSC_();T&&!r&&(y=h.bGRLI_(e,t,i,n,a));for(var H=p.data.groupDescriptors,S=null,x=[],L=Mn.map(H,function(e){return Mn.property("header.fixed")(e)&&Mn.property("header.visible")(e)}),E=Mn.some(L);v.length>0&&!_;)if(l=v.pop(),!m&&On.gIAS_(l,e)&&(m=!0),m&&On.gIAS_(l,t)&&(_=!0),m&&(T&&!r&&(f=On.vi(p,l.itemIndex,{area:l.area,path:l.path},l.node?{area:l.isHierarchyFooter?sr:dr,path:l.node.path}:null),R=y[f]),l.area===lr?(s=O.call(h,l,r,I,n,o,i),E&&L[l.path.length-1]&&x.push({groupInfo:l,rowInfo:s})):s=l.area===ur?G.call(h,l,r,n,o,i,R&&R.spanInfo):N.call(h,l,r,n,o,i,R&&R.spanInfo),E&&!S&&(S={groupInfo:l}),s.row&&((r||!T||R)&&g.push(s.row),n+=s[w(pr)])),l.area===lr){c=p.gGI_(l.path);var P=c.data,D=P.isBottomLevel,M=P.expandedItemCount,F=P.groupDescriptor,A=F.header,k=F.footer;if(P.collapsed)P&&(A.visible&&k&&k.collapseWithGroup||v.push({path:l.path,itemIndex:-1,area:cr}));else{var V={path:l.path,itemIndex:-1,area:cr};if(k.location===yr&&v.push(V),W(p)&&D)b=[],On.tN_(P.rootNode,C,On.hHF_(p)),d=b.length,v=v.concat(b.reverse());else{d=D?M:c.children.length;var B=v.length;for(u=d-1;u>=0;u--)v[B+d-u-1]=D?{path:l.path,itemIndex:u,area:ur}:{path:l.path.slice().concat([u]),itemIndex:-1,area:lr}}k.location===mr&&v.push(V)}}if(E&&S){var q=function(e){for(var t=e,n=[];t&&t.level>-1;){var r=t.level;L[r]&&n.unshift({groupInfo:p.gGI_(t.path),height:h.gGHH_(t)}),t=t.parent}return n},j=function(e,t){for(var n=e;n&&n.level>-1;){if(n===t)return!0;n=n.parent}return!1},U=S&&p.gGI_(S.groupInfo.path).data,z=q(U),X=Math.max(p.gSO_(i)[w("top")],h.aARA_("top")?h.options.rowHeight:0),Y=0;u=0;for(var $=0,K=[];u<z.length;){var J=z[u],Z=x[$],Q=J.height,ee=J.groupInfo.data,te=Z&&p.gGI_(Z.groupInfo.path).data,ne=Z?Mn.property(o?"rowInfo.row.top":"rowInfo.row.renderInfo.style.top")(Z)-X:h.gLI_()[i].height;if(ne-Y>=Q)K.unshift(O.call(h,{path:ee.path,itemIndex:-1,area:lr},r,I,Y+X,o,i).row),u++,Y+=J.height,h.fixedHeaderHeight_=Y;else{if(!j(te,ee)){K.unshift(O.call(h,{path:ee.path,itemIndex:-1,area:lr},r,I,ne-Q+X,o,i).row),h.fixedHeaderHeight_=ne;break}!function(){z=q(te);var e=Z.rowInfo.row.key;Mn.remove(g,function(t){return t.key===e}),$++}()}}g=g.concat(K)}return g},gNRHCRI_:function(e,t,n){var r=this,o=he.call(r,{itemIndex:e});return n=void 0!==n?n:e*t+(r.aARA_("top")?r.options.rowHeight:0),x.call(r,o,!0,n,t,e)},tcFn_:function(){var e=this;e.suspendTmplUpdate_||(Mn.each(e.grid.columns,function(t){t.visibleWidth=e.gCP_(t,vr)}),e.uSS_(),B.call(e,Ir),e.cRI_=null,e.cL_=null,e.sPV_(_r)&&B.call(e,_r),e.sPV_(wr)&&B.call(e,wr))},hT_:function(e){var t=this;if(t.gS_)return t.gS_.hT_(e);var n,r,o,i,a,l,c,u=t.options,d=u.rightToLeft,s=t.grid,f=t.gLI_(),g={width:0,height:0,contentWidth:0,contentHeight:0},h=f[Vn]||g,p=f[Jn]||g,v=f[Zn]||g,m=f[Qn]||g,_=f[Xn]||g,w=f[Yn]||g,I=f[$n]||g,y=f[Kn]||g,R=f[ir]||g,b=f[ar]||g,C=f[Bn]||g,T=u.allowGrouping?f[er]:null,H=s.gCI_().contentRect,S=e.pageX-H.left,x=e.pageY-H.top,L=e.pageX-window.pageXOffset,E=e.pageY-window.pageYOffset,P=null,D={left:d?H.width-S:S,top:x};return u.showToolPanel&&ve(C,D)?It.call(t,L,E):(o=ve(h,D))||t.sPV_(_r)&&(i=ve(_,D))||t.sPV_(wr)&&ve(I,D)?(c=o?Vn:i?Xn:$n,t.hTIV_(c,L,E)):(l=ve(p,D))||t.sPV_(_r)&&(a=ve(w,D))||t.sPV_(wr)&&ve(y,D)?(c=l?Jn:a?Yn:Kn,t.hTCH_(c,L,E)):ve(v,D)?t.hTIRH_(L,E):ve(m,D)?(P={area:Qn,row:-1,column:-1},u.allowHeaderSelect&&(n=document.getElementById(s.uid+"-corner"),r=n.querySelector(".gc-header-select-icon"),r&&On.poIP_(s,L,E,r.getBoundingClientRect(),!0)&&(P.checked=!0)),P):u.allowGrouping&&ve(T,D)?yt.call(t,L,E):(ve(R,D)?P={area:ir,row:-1,column:-1,element:t.gantt_.hT_(e)}:ve(b,D)&&(P={area:ar,row:-1,column:-1}),P)},gGID_:function(){var e=this.options.groupStrategy;return e?e.gGID_():Mn.defaultsDeep(this.options.defaultGroupingInfo||{},{footer:{visible:!0,collapseWithGroup:!0,location:yr},header:{visible:!0}})},gGH_:function(e){var t=this,n=t.grid;if(!e)return 0;if(!An.isUndefined(e.height))return e.height;var r=e.data,o=0,i=r.groupDescriptor.header;i&&i.visible&&(o+=t.gGHH_(r));var a,l,c,u;if(r.collapsed)c=r.groupDescriptor.footer,(!i.visible||c&&c.visible&&!c.collapseWithGroup)&&(o+=t.gGFH_(r));else{for(l=r.isBottomLevel?r.expandedItemCount:e.children.length,a=0;l>a;a++)r.isBottomLevel?o+=t.gRH_(a,Vn,e.path):(u=e.children[a],u.height=t.gGH_(u),o+=u.height);if(W(n)&&r.rootNode){var d=function(n,r,i){i&&(o+=t.gHFH_(r,Vn,e.path))};On.tN_(r.rootNode,d,On.hHF_(n))}o+=t.gGFH_(r)}return o},gGFH_:function(e){var t=this,n=e.groupDescriptor,r=n.footer;return t.hasGroupFooter_(e)?r.height||this.options.rowHeight:0},hasGroupFooter_:function(e){var t=e.groupDescriptor,n=e.collapsed,r=t.footer,o=t.header;return!o.visible&&n||r.visible&&!(n&&r.collapseWithGroup)},sE_:function(e,t,n){var r=this,o=r.options.editMode;"popup"===o?w.call(r,n):"editForm"===o?_.call(r,e,t,n):v.call(r,e,t,n)},stE_:function(e){var t=this,n=t.grid;t.editDialog_&&t.editDialog_.close(),n.editingHandler.clearEditCache(n),e&&(t.hGC_&&t.gantt_.reload_(),n.iI_(!1,{clearTouchCache:!0}));var r=n.container;r.focus()},gMVIC_:function(e,t){var n,r,o,i,a=this,l=a.options.autoRowHeight,c=0;if(!l)return Math.floor(e.height/a.gRH_());for(o=t.data,i=t.path,n=0,r=o.expandedItemCount;r>n;n++)if(c+=a.gRH_(n,Vn,i),c>e.height)return n},d_:function(){var e=this;e.gantt_&&(e.gantt_.destroy(),e.gantt_=null,delete e.gantt_),e.gS_?(e.gS_.d_(),e.gS_=null,delete e.gS_):e.uRE_()},sSP_:function(e){var t=this;if(t.gS_)return t.gS_.sSP_(e);var n,r=t.gLT_(),o=r(vr),i=r(pr),a=r("contentWidth"),l=r("contentHeight"),c=t.sPV_(wr),u={width:0,height:0,contentWidth:0,contentHeight:0};if(e===Vn){if(n=t.gLI_()[Vn]||u,!t.hGC_&&!c&&(n[i]<n[l]||n[o]<n[a]))return!0;if((t.hGC_||c)&&(n[o]<n[a]||t.sSP_(ir)))return!0}return e===$n&&(n=t.gLI_()[Vn]||u,n[i]<n[l])?!0:e===ir&&(n=t.gLI_()[ir]||u,n.height<n.contentHeight||n.width<n.contentWidth)},sFn2_:function(e){var t=this,n=t.grid,r=e.scrollDirection;if(t.gS_)t.gS_.sFn2_(e);else if(!t.iRC_){var o=Pe(n);o&&((t.name!==hr||r!==Cr&&r!==Tr)&&(t.name!==fr||r!==_r&&r!==wr)||n.cancelEditing());var i;if(n.scrollElementArea_)i=n.gSA_(n.scrollElementArea_);else{var a=e.target;a.className.indexOf("gc-grid-viewport-scroll-panel")>-1&&(i=a.id.replace(n.uid+"-","").replace("-scroll",""))}i=i||Vn,i=i.replace("-vertical","").replace("-horizontal","");var l=n.gSI_(i),c=r===Cr||r===Tr?"verticalScrollArea":r===_r||r===wr?"horizontalScrollArea":null;c&&Mn.each(l[c],function(e){return n.sRP_(e)});var u=t.gLI_()[ir];if(u){var d=n.gSO_(i),s=d.left,f=d.top;t.gantt_.drawArea(s,f,s+u.width,f+u.height)}if(o){var g=n.editingHandler,h=g.editingInfo_;m.call(t,h),g.updateInlineNodePos_(n,h)}}t.grid.oso_.raise(t.grid,{scrollDirection:r})},gISO_:function(){var e=this,t=e.gLI_();if(e.gS_&&e.gS_.gISO_)return e.gS_.gISO_();var n={};return n[Vn]={top:0,left:0},t[ir]&&(n[ir]={top:0,left:0}),n},gSe_:function(e){var t=this,n=t.grid,r=[],o=e?e:t.sR_;if(!o||!o.length)return r;for(var i,a,l,c=t.options.selectionUnit,u=0,d=o.length;d>u;u++)a=u,l=Mn.cloneDeep(o[u]),i=n.data.getItemBySourceIndex_(u),c===Nr.CELL&&l&&l.length&&i&&r.push({sourceRow:a,columns:l,item:i}),c===Nr.ROW&&l&&r.push({sourceRow:a,item:i});return r},clearSelection_:function(){var e=this;e.sR_=[],e.uSU_()},setSelections_:function(e,t){var n=this,r=n.options,o=r.selectionUnit,i=r.selectionMode;if(i!==Wr.NONE){var a=Mn.cloneDeep(e),l=Mn.cloneDeep(t),c=n.sR_=n.sR_||[];An.isNumber(a)&&(a=[a]);var u=i===Wr.SINGLE;u&&(c.length=0,a=Mn.take(a,1)),o===Nr.ROW?Mn.each(a,function(e){c[e]=Je(n.grid,e)}):Mn.each(a,function(e){An.isNil(l)?l=Je(n.grid,e):An.isString(l)&&(l=[l]),u&&(l=Mn.take(l,1)),c[e]=l}),n.uSU_()}},sSL_:function(e){var t=this;if(t.gS_)return t.gS_.sSL_(e);var n=t.gLT_(),r=t.grid,o=r.gSO_(Vn)[n(mr)],i=t.options,a=t.gLI_().viewport,l=a[n("contentHeight")]-a[n(pr)],c=50>l-o;return i.loadOnDemand?c:i.autoRowHeight?c&&!t.scrollToEnd_:void 0},sLI_:function(){var e=this;return e.gS_?e.gS_.sLI_():e.options.autoRowHeight||e.options.loadOnDemand},iSA_:function(e){var t=this;return t.gS_&&t.gS_.iSA_?t.gS_.iSA_(e):e===Vn},rE_:function(){var e=this,t=e.grid;e.gS_?e.gS_.rE_():(t.onMouseClick_.addHandler(Oe,e),t.omm_.addHandler(Re,e),t.omw_.addHandler(De,e),t.omd_.addHandler(Fe,e),t.otos_.addHandler(Ae,e),t.otm_.addHandler(ye,e),t.ote_.addHandler(be,e),t.osp_.addHandler(Se,e),t.ots_.addHandler(Ee,e),t.okd_.addHandler(Me,e),t.data.collectionChanged_.addHandler(hn,e))},uRE_:function(){var e=this,t=e.grid;e.gS_?e.gS_.uRE_():(t.onMouseClick_.removeHandler(Oe,e),t.omm_.removeHandler(Re,e),t.omw_.removeHandler(De,e),t.omd_.removeHandler(Fe,e),t.otos_.removeHandler(Ae,e),t.otm_.removeHandler(ye,e),t.ote_.removeHandler(be,e),t.osp_.removeHandler(Se,e),t.ots_.removeHandler(Ee,e),t.okd_.removeHandler(Me,e),t.data.collectionChanged_.removeHandler(hn,e))},cRC_:function(){var e=this,t=e.grid;e.rowMargins_=null,e.gS_&&e.gS_.cRC_(),t.scrollToRefresh_||(e.cIS_.length=0,e.scrollToEnd_=null,Ot.call(e)),e.hGC_&&(e.ganttWidth_=null,e.gantt_.clearCache()),e.toolPanelInfo_=null,e.gDPLI_=null,e.cVLI_=null,e.l_=null,e.spanRelations_=null,e.tabOrderMapping_=null,e.fixedHeaderHeight_=0,e.pvInfo_=null,e.prvInfo_=null,e.gvInfo_=null},cIC_:function(){this.cIS_.length=0},cLC_:function(){this.cVLI_=null,this.l_=null},cDS_:function(e){var t=this,n=t.grid;if(e===t.swDT_("vertical"))return!1;for(var r=!1,o=0,i=n.columns.length;i>o;o++){var a=n.columns[o];if(On.iTAC_(a)){r=!0;break}}return r},uCW_:function(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],t=this;Mn.each(t.grid.columns,function(n){var r=t.gCP_(n,vr);e?n.visibleWidth=r:n.visibleWidth=An.isNumber(r)?r:n.visibleWidth}),e&&t.uSS_(),B.call(t,Ir),t.sPV_(_r)&&B.call(t,_r),t.sPV_(wr)&&B.call(t,wr)},uSS_:function(){var e,t,n,r=this,o=r.grid,i=o.columns,a=0,l=[],c=!1,u=Mn.filter(i,function(e){return(o.colTree_&&o.colTree_[e.id].parent||o.iCV_(e,e.pinned))&&!e.hasOwnProperty("swipeDirection")});if(Mn.each(u,function(e,t){n=qe(r.gCP_(e,vr)),l[t]=n,n?c=!0:e.visibleWidth=Math.max(e.visibleWidth,r.gCP_(e,Pr))}),c){var d=r.gAS_({groupDragPanelHeight:k.call(r),toolPanelWidth:vt.call(r)});Mn.each(u,function(t,r){n=l[r],n?(a+=n,e=r):d-=t.visibleWidth}),d=Math.max(0,d),c&&(t=d,Mn.each(u,function(n,o){l[o]&&(o===e?n.visibleWidth=Math.max(t,r.gCP_(n,Pr)):(n.visibleWidth=Math.max(Math.max(0,Math.round(l[o]/a*d)),r.gCP_(n,Pr)),t-=n.visibleWidth))}))}},gCD_:function(){var e=this,t=e.options;return{width:t.colWidth,minWidth:t.colMinWidth,visible:!0,allowSorting:t.allowSorting,allowResizing:!0,pinned:Ir,allowEditing:t.allowEditing}},sPV_:function(e){return Mn.find(this.grid.columns,function(t){return t.pinned===e&&t.visible})},iCa_:function(){var e=this,t=e.grid;if(e.groupStrategy&&e.groupStrategy.iCa_)e.groupStrategy.iCa_();else{var n=t.commandManger_;n.register("movePrevious",c,38),n.register("moveNext",u,40),n.register("movePrevious",c,38,!1,!0),n.register("moveNext",u,40,!1,!0),n.register("moveLeft",f,37),n.register("moveRight",g,39),n.register("movePreviousPage",h,33),n.register("moveNextPage",p,34),n.register("selectRow",nt,32),n.register("activeDataView",i,65,!0,!0),n.register("tabKey",it,9),n.register("shiftTabKey",at,9,!1,!0),n.register("collapseExpand",rt,13)}},uFR_:function(e,t,n){var r=this;if(a.call(r)){n&&n.preventDefault();var o=Mn.clone(r.cRoI_),i=e.apply(r,t);if(i){var l,c=r.gFE_(),u=r.options.selectionUnit,d=c.rows,s=c.cols;l=u!==Nr.ROW||r.hSC_()?s.length&&s||Mn.map(d,"row"):Mn.map(d,"row"),et.call(r,l),Pn(r.grid,o,r.cRoI_)}return i}},uFRAI_:function(){var e=this,t=e.gFE_(),n=t.rows;return 0===n.length?(e.iFR_(),!0):!1},gFE_:function(){var e,t,n=this,r=n.options,o=r.selectionUnit,i=n.grid,a=i.columns,l=[],c=[],u=n.spanRelations_,d=n.cRoI_;if(d){var s=d.viewIndex,f=[Vn];n.sPV_(_r)&&f.push(Xn),n.sPV_(wr)&&f.push($n);var g=d.group,h=d.node,p=g&&d.groupArea,v=g?{area:p,path:g.path}:null,m=h?{area:d.isHierarchyFooter?sr:dr,path:h.path}:null;if(Mn.each(f,function(e){var n=On.createID(i.uid,e,d.row,v,m);t=document.getElementById(n),t&&c.push({row:t,area:e})}),o===Nr.CELL){var _=Mn.findIndex(a,function(e){return e.id===d.colID}),w=a[_];if(r.allowCellMerging&&w&&w.allowCellMerging&&u&&!r.cellMergingSettings.onlyShowFirstRow){var I=u[s];if(I){var y=Mn.find(I,function(e){return e.field===w.id}).anchorRow,R=i.getItem(y),b=w.pinned===_r?Xn:w.pinned===wr?$n:Vn,C=On.createID(i.uid,b,R.row,R.group?{area:R.groupArea,path:R.group.path}:null,R.node?{area:R.nodeArea,path:R.node.path}:null);e=document.querySelector("#"+C+" .c"+_),e&&l.push(e)}}else{var T;Mn.each(c,function(t){T=t.row,T&&(e=T.querySelector('[data-taborder="'+d.tabOrder+'"]'),e&&l.push(e))})}}else Mn.each(c,function(t){e=t.row&&t.row.querySelectorAll(".gc-cell"),e&&(l=l.concat(Array.prototype.slice.call(e)))});l.length||Mn.each(c,function(e){e.row&&l.push(e.row)})}return{rows:c,cols:l}},getRowMargins_:function(){var e=this;if(e.rowMargins_)return e.rowMargins_;var t=Fn.createElement('<div id="'+e.grid.uid+'"><div class="gc-row"></div></div>');document.body.appendChild(t);var n=Fn.gCSV(t.children[0]);return e.rowMargins_={top:n.marginTop,bottom:n.marginBottom,left:n.marginLeft,right:n.marginRight},document.body.removeChild(t),e.rowMargins_},iLFn_:function(){var e,t=this,n=t.grid;return t.gS_&&t.gS_.iLFn_?void t.gS_.iLFn_():void Mn.forEach(t.cIUL_,function(r){r&&(Mn.forEach(r,function(n){e=n.image,An.unRegist(e,"load",t.handleImageLoadedFn_),An.unRegist(e,"error",t.handleImageLoadedFn_)}),n.reR_(r[0]))})},sPTE_:function(e,t){var n=!0;return"start"===t&&(n=!1),n},toJSON_:function(){var e=this,t=e.options,n={};n.name=e.name;var r={},o=e.defaultOptions_;return Mn.each(t,function(e,t){"groupStrategy"===t&&e?r[t]=e.toJSON_():e&&-1!==t.toLowerCase().indexOf("template")?r[t]=On.gUT_(e):"grouping"===t&&Mn.get(e,"header.template")?(r[t]=Mn.cloneDeep(e),r[t].header.template=On.gUT_(e.header.template)):"grouping"!==t&&"hierarchy"!==t||!Mn.get(e,"footer.template")?Mn.isEqual(e,o[t])||Mn.isNil(e)||(An.isObject(e)?r[t]=An.serializeObject(An.extractObject(e,o[t])):r[t]=e):(r[t]=Mn.cloneDeep(e),r[t].footer.template=On.gUT_(e.footer.template))}),Mn.isEmpty(r)||(n.options=r),n},iFR_:function(){var e=this;if(a.call(e)){var t=e.grid,n=t.columns,r=t.lRR_[Vn],o=r.length;if(!o)return;var i,l,c,u=e.cRoI_,d=u&&u.viewIndex||0,s=e.gLT_(),f=s(mr),g=s(pr),h=document.getElementById(t.uid+"-"+Vn),p=Fn.gER(h),v=0,m=o-1;for(c=0;o>c;c++)if(i=document.getElementById(r[c]),l=Fn.gER(i),l[f]>=p[f]){v=c;break}for(c=o-1;c>=0;c--)if(i=document.getElementById(r[c]),l=Fn.gER(i),l[f]+l[g]<=p[f]+p[g]){m=c;break}var _,w=r[v],I=r[m],y=On.vi(t,w),R=On.vi(t,I),b=(y+R)/2>=d?w:I,C=On.parseID(b);if(C){var T=document.getElementById(b).querySelector('[data-taborder="0"]'),H=T&&T.dataset.column&&Mn.findIndex(n,function(e){return e.id===T.dataset.column});H=H>=0?H:u&&u.col||0;var S=C.groupInfo;if(S){var x=S.area;_={row:-1,column:-1,area:Vn,groupInfo:{path:S.path,row:x===lr||x===cr?-1:C.row,area:x,column:H},nodeInfo:C.nodeInfo}}else C.column=H,_=C;e.uFR_(ze,[!1,_])}}},cCS_:function(e){var t=this,n=t.grid,r=t.options;if(r.showToolPanel&&cn.call(t,e))return!1;if(!t.sSP_(Vn)&&!t.sSP_($n))return!1;var o=e.deltaY,i=e.deltaX;if(0!==o||0!==i){var a=t.hT_(e);if(!a)return!1;var l,c,u=a&&a.area,d=n.gSA_(u),s=t.gLI_()[d],f=Math.max(s.contentHeight-s.height,0),g=Math.max(s.contentWidth-s.width,0),h=n.gSO_(d),p=h.top,v=h.left;if(Math.abs(i)<=Math.abs(o))return l=Math.max(0,Math.min(p+o,f)),Math.round(l)!==Math.round(p);if(Math.abs(i)>Math.abs(o))return c=Math.max(0,Math.min(v+i,g)),Math.round(c)!==Math.round(v)}return!1},uSU_:function(){var e=this;if(e.sR_){var t=e.grid,n=t.container,r=t.lRR_,o=e.sR_,i=On.hG_(t),a=e.options,l=a.allowHeaderSelect,c=a.selectionUnit,u=t.columns,d=function(e){var n,i=[],a=r[e];return Mn.each(a,function(e,r){-1===e.indexOf("-gh")&&-1===e.indexOf("-gf")&&-1===e.indexOf("-nf")&&-1===e.indexOf("-autorow")&&(n=t.getItem(e).item,n&&o[n.sourceIndex]&&i.push({viewRow:r,sourceRow:n.sourceIndex}))}),i},s=function(t,n){var i=void 0,a=void 0,l=[],s=void 0,f=r[t],g=d(t);if(!f||!f.length)return[];if(n)l=Mn.map(g,function(e){return"#"+f[e.viewRow]});else if(c!==Nr.ROW||e.hSC_()){var h=void 0;for(i=0,a=g.length;a>i;i++){h=g[i],s=o[h.sourceRow];for(var p=function(e,t){l.push("#"+f[h.viewRow]+" .c"+Mn.findIndex(u,function(t){return t.id===s[e]}))},v=0,m=s.length;m>v;v++)p(v,m)}}else Mn.each(g,function(e){l.push("#"+f[e.viewRow])});return l},f=n.querySelectorAll(".gc-selected");Mn.each(f,function(e){Fn.removeClass(e,"gc-selected")});var g=s(Vn);if(g=g.concat(s(Xn)),g=g.concat(s($n)),Mn.each(g,function(e){var t=document.querySelector(e);Fn.addClass(t,"gc-selected")}),l){var h=n.querySelectorAll(".gc-header-select-icon.selected");Mn.each(h,function(e){Fn.removeClass(e,"selected"),e.checked=!1});for(var p=[],v=0,m=t.data.itemCount;m>v&&o[v];v++)v===m-1&&p.push(document.getElementById(t.uid+"-corner-select"));var _=s(Zn,!0);if(p=p.concat(Mn.map(_,function(e){return n.querySelector(e+" .gc-header-select-icon")})),i){var w;Mn.each(r[Zn],function(e){-1!==e.indexOf("-gh")&&!function(){w=t.getItem(e).group;var r=w.getIndexMapping_();Mn.each(r,function(t,i){return o[t]?void(i===r.length-1&&p.push(n.querySelector("#"+e+" .gc-header-select-icon"))):!1})}()})}Mn.each(p,function(e){Fn.addClass(e,"selected"),e.checked=!0})}}},hSC_:function(){return l.call(this,Mn.some)},gSC_:function(){return l.call(this,Mn.filter)},hasSpanSameValue_:function(e,t,n){var r=this.grid,o=On.hG_(r),i=t.item?r.formatDataItem(t.item):null,a=n.item?r.formatDataItem(n.item):null;if(o){for(var l=t.group.path,c=n.group.path,u=r.data.groupDescriptors,d=-1,s=-1,f=0,g=u.length;g>f;f++){var h=u[f];h.field===e&&(d=f),h.footer&&h.footer.template&&(s=f)}var p=d>=0?Mn.take(l,d+1).toString()===Mn.take(c,d+1).toString():l.toString()===c.toString();if(n.groupArea===cr||t.groupArea===cr){var v=n.groupArea===cr?c:l;return p&&d>=0&&d<=v.length-1&&s<v.length-1}return p&&Mn.isEqual(i[e],a[e])}return Mn.isEqual(i[e],a[e])},gSARI_:function(e,t){var n=this.grid,r=n.columns[t].id,o=On.vi(n,e),i=this.spanRelations_,a=-1;i&&i[o]&&(a=Mn.find(i[o],function(e){return e.field===r}).anchorRow);var l=a>=0?n.getItem(a):n.getItem(e),c={};return a>=0&&(c={viewIndex:a,relativeIndex:l.item?n.data.gBSI_(l.item.sourceIndex).row:-1}),l.group&&(c.groupInfo={path:l.group.path,area:l.groupArea}),l.node&&(c.nodeInfo={path:l.node.path,area:l.nodeArea}),c},bGRLI_:function(e,t,n,r,o){for(var i={},a=this,l=a.grid,c=void 0,u=void 0,d=e.viewIndex,s=t.viewIndex+1,f=void 0,g=void 0,h=void 0,p=l.options.rowHeight,v=d;s>v;v++)f=l.getItem(v),f.isNewRow||(g=f.group.groupDescriptor,h=f.groupArea,c=h===ur?a.gRH_(v,n,e.path):h===cr?g.footer.height||p:g.header.height||p),u={startPosition:r,rowHeight:c,item:f},r+=c,i[v]=u;return i=Dn(l,d,s,o,i)},bHRL_:function(e,t,n,r){var o=this,i=o.grid,a=o.hSC_(),l=0,c=e.length;a&&(l=On.vi(i,e[0].key),c=On.vi(i,e[c-1].key)+1);for(var u,d={},s=l;c>s;s++)u=s-l,d[s]=e[u],d[s].startPosition=n,d[s].rowHeight=e[u].height,n+=e[u].height;return a&&(d=Dn(i,l,c,r,d)),d},bRLI_:function(e,t,n,r,o){var i={},a=this,l=a.grid,c=void 0,u=void 0,d=void 0,s=a.hSC_(),f=a.aARA_(mr),g=f&&s?e+1:e,h=f&&s?t+1:t;for(c=g;h>c;c++)u=a.gRH_(c,n,null,!1,{top:r}),d={startPosition:r,rowHeight:u},r+=u,i[c]=d;return s&&(i=Dn(l,g,h,o,i),f&&!function(){var e={};Mn.each(i,function(t,n){e[n-1]=t}),i=e}()),i},aARA_:function(e){var t=this.options,n=t.autoAddRowPosition;return t.allowAutoAddRow?"top"===e?Mn.isNil(n)||n===e:n===e:!1},iVA_:function(e){return e===Vn||e===Xn||e===$n},iFA_:function(e){return e===qn||e===jn||e===Un},iFHA_:function(e){return e===zn},iCA_:function(e){return e===Jn||e===Yn||e===Kn},iRA_:function(e){return e===Zn},gLT_:function(){var e=this;return e.options.rightToLeft?e.rtlLT_:e.lT_},gFPT_:function(e){return re.call(this,null,null,!0,!1,null,null,e)},gRT_:function(e,t){return this.getTemplate_(!1,!1,e,!1,t)},getTemplate_:function(e,t,n,r,o){return re.call(this,e,t,!1,o,null,null,n,r)},getHierarchyFooterTemplate_:function(e,t){return re.call(this,null,null,!1,!1,null,e,t)},getGroupFooterTemplate_:function(e,t){return re.call(this,null,null,!1,!1,e,null,t)}};var Br={animateCellChange:function(e,t,n,r,o){if(e&&r!==o){var i=n.innerHTML,a=o-r;i='<span class="gc-animation-cellchange" '+(a>0?'style="margin-right:2px;color:red;">+'+a:'style="margin-right:2px;color:green;">'+a)+"</span>"+i,e.innerHTML=i,window.setTimeout(function(){e.children[0].style.color="transparent"},16)}},animateSlide:function(e,t,n,r,o){if(e&&r!==o){var i=t.innerHTML,a=n.innerHTML;a='<span class="gc-animation-slide" style="margin-right:2px;">'+i+"</span>"+a,e.innerHTML=a,window.setTimeout(function(){e.children[0].style.color="transparent",e.children[0].style.marginRight="10px"},16)}}};e.exports=t}()},function(e,t,n){(function(e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};(function(){function o(e,t){return e.set(t[0],t[1]),e}function i(e,t){return e.add(t),e}function a(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function l(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function c(e,t){for(var n=e?e.length:0;n--&&t(e[n],n,e)!==!1;);return e}function u(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(!t(e[n],n,e))return!1;return!0}function d(e,t){for(var n=-1,r=e?e.length:0,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function s(e,t){var n=e?e.length:0;return!!n&&_(e,t,0)>-1}function f(e,t,n){for(var r=-1,o=e?e.length:0;++r<o;)if(n(t,e[r]))return!0;return!1}function g(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function h(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function p(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function v(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function m(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function _(e,t,n){if(t!==t)return E(e,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function w(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function I(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function y(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function R(e){return function(t){return e(t)}}function b(e,t){return g(t,function(t){return e[t]})}function C(e,t){return e.has(t)}function T(e,t){for(var n=-1,r=e.length;++n<r&&_(t,e[n],0)>-1;);return n}function H(e,t){for(var n=e.length;n--&&_(t,e[n],0)>-1;);return n}function S(e){return e&&e.Object===Object?e:null}function x(e,t){
for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function L(e,t){return null==e?Vr:e[t]}function E(e,t,n){for(var r=e.length,o=t+(n?1:-1);n?o--:++o<r;){var i=e[o];if(i!==i)return o}return-1}function P(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function D(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function M(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function F(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==zr||(e[n]=zr,i[o++]=n)}return i}function A(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function O(e){return e.match(mi)}function G(){}function W(){}function N(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=fo,this.__views__=[]}function k(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function V(){this.__data__=oa?oa(null):{}}function B(e){return this.has(e)&&delete this.__data__[e]}function q(e){var t=this.__data__;if(oa){var n=t[e];return n===Ur?Vr:n}return Mi.call(t,e)?t[e]:Vr}function j(e){var t=this.__data__;return oa?t[e]!==Vr:Mi.call(t,e)}function U(e,t){var n=this.__data__;return n[e]=oa&&t===Vr?Ur:t,this}function z(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function X(){this.__data__=[]}function Y(e){var t=this.__data__,n=ve(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():zi.call(t,n,1),!0}function $(e){var t=this.__data__,n=ve(t,e);return 0>n?Vr:t[n][1]}function K(e){return ve(this.__data__,e)>-1}function J(e,t){var n=this.__data__,r=ve(n,e);return 0>r?n.push([e,t]):n[r][1]=t,this}function Z(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Q(){this.__data__={hash:new k,map:new(ea||z),string:new k}}function ee(e){return Ut(this,e)["delete"](e)}function te(e){return Ut(this,e).get(e)}function ne(e){return Ut(this,e).has(e)}function re(e,t){return Ut(this,e).set(e,t),this}function oe(e){var t=-1,n=e?e.length:0;for(this.__data__=new Z;++t<n;)this.add(e[t])}function ie(e){return this.__data__.set(e,Ur),this}function ae(e){return this.__data__.has(e)}function le(e){this.__data__=new z(e)}function ce(){this.__data__=new z}function ue(e){return this.__data__["delete"](e)}function de(e){return this.__data__.get(e)}function se(e){return this.__data__.has(e)}function fe(e,t){var n=this.__data__;return n instanceof z&&n.__data__.length==qr&&(n=this.__data__=new Z(n.__data__)),n.set(e,t),this}function ge(e,t,n,r){return e===Vr||Yn(e,Li[n])&&!Mi.call(r,n)?t:e}function he(e,t,n){(n===Vr||Yn(e[t],n))&&("number"!=typeof t||n!==Vr||t in e)||(e[t]=n)}function pe(e,t,n){var r=e[t];Mi.call(e,t)&&Yn(r,n)&&(n!==Vr||t in e)||(e[t]=n)}function ve(e,t){for(var n=e.length;n--;)if(Yn(e[n][0],t))return n;return-1}function me(e,t){return e&&Ct(t,Cr(t),e)}function _e(e,t){for(var n=-1,r=null==e,o=t.length,i=Array(o);++n<o;)i[n]=r?Vr:Rr(e,t[n]);return i}function we(e,t,n){return e===e&&(n!==Vr&&(e=n>=e?e:n),t!==Vr&&(e=e>=t?e:t)),e}function Ie(e,t,n,r,o,i,a){var c;if(r&&(c=i?r(e,o,i,a):r(e)),c!==Vr)return c;if(!ir(e))return e;var u=Ga(e);if(u){if(c=Zt(e),!t)return bt(e,c)}else{var d=Kt(e),s=d==Io||d==yo;if(Wa(e))return st(e,t);if(d==Co||d==po||s&&!i){if(P(e))return i?e:{};if(c=Qt(s?{}:e),!t)return Tt(e,me(c,e))}else{if(!wi[d])return i?e:{};c=en(e,d,Ie,t)}}a||(a=new le);var f=a.get(e);if(f)return f;if(a.set(e,c),!u)var g=n?Vt(e):Cr(e);return l(g||e,function(o,i){g&&(i=o,o=e[i]),pe(c,i,Ie(o,t,n,r,i,e,a))}),c}function ye(e){return ir(e)?ji(e):{}}function Re(e,t,n,r){var o=-1,i=s,a=!0,l=e.length,c=[],u=t.length;if(!l)return c;n&&(t=g(t,R(n))),r?(i=f,a=!1):t.length>=qr&&(i=C,a=!1,t=new oe(t));e:for(;++o<l;){var d=e[o],h=n?n(d):d;if(d=r||0!==d?d:0,a&&h===h){for(var p=u;p--;)if(t[p]===h)continue e;c.push(d)}else i(t,h,r)||c.push(d)}return c}function be(e,t){var n=!0;return va(e,function(e,r,o){return n=!!t(e,r,o)}),n}function Ce(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(null!=a&&(l===Vr?a===a&&!gr(a):n(a,l)))var l=a,c=i}return c}function Te(e,t,n,r){var o=e.length;for(n=mr(n),0>n&&(n=-n>o?0:o+n),r=r===Vr||r>o?o:mr(r),0>r&&(r+=o),r=n>r?0:_r(r);r>n;)e[n++]=t;return e}function He(e,t){var n=[];return va(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function Se(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=nn),o||(o=[]);++i<a;){var l=e[i];t>0&&n(l)?t>1?Se(l,t-1,n,r,o):h(o,l):r||(o[o.length]=l)}return o}function xe(e,t){return e&&_a(e,t,Cr)}function Le(e,t){return e&&wa(e,t,Cr)}function Ee(e,t){t=ln(t,e)?[t]:ut(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[_n(t[n++])];return n&&n==r?e:Vr}function Pe(e,t,n){var r=t(e);return Ga(e)?r:h(r,n(e))}function De(e,t){return e>t}function Me(e,t){return null!=e&&(Mi.call(e,t)||"object"==("undefined"==typeof e?"undefined":r(e))&&t in e&&null===Yt(e))}function Fe(e,t){return null!=e&&t in Object(e)}function Ae(e,t,n){for(var r=n?f:s,o=e[0].length,i=e.length,a=i,l=Array(i),c=1/0,u=[];a--;){var d=e[a];a&&t&&(d=g(d,R(t))),c=Zi(d.length,c),l[a]=!n&&(t||o>=120&&d.length>=120)?new oe(a&&d):Vr}d=e[0];var h=-1,p=l[0];e:for(;++h<o&&u.length<c;){var v=d[h],m=t?t(v):v;if(v=n||0!==v?v:0,!(p?C(p,m):r(u,m,n))){for(a=i;--a;){var _=l[a];if(!(_?C(_,m):r(e[a],m,n)))continue e}p&&p.push(m),u.push(v)}}return u}function Oe(e,t,n,r,o){return e===t?!0:null==e||null==t||!ir(e)&&!ar(t)?e!==e&&t!==t:Ge(e,t,Oe,n,r,o)}function Ge(e,t,n,r,o,i){var a=Ga(e),l=Ga(t),c=vo,u=vo;a||(c=Kt(e),c=c==po?Co:c),l||(u=Kt(t),u=u==po?Co:u);var d=c==Co&&!P(e),s=u==Co&&!P(t),f=c==u;if(f&&!d)return i||(i=new le),a||hr(e)?Wt(e,t,n,r,o,i):Nt(e,t,c,n,r,o,i);if(!(o&oo)){var g=d&&Mi.call(e,"__wrapped__"),h=s&&Mi.call(t,"__wrapped__");if(g||h){var p=g?e.value():e,v=h?t.value():t;return i||(i=new le),n(p,v,r,o,i)}}return f?(i||(i=new le),kt(e,t,n,r,o,i)):!1}function We(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){l=n[o];var c=l[0],u=e[c],d=l[1];if(a&&l[2]){if(u===Vr&&!(c in e))return!1}else{var s=new le;if(r)var f=r(u,d,c,e,t,s);if(!(f===Vr?Oe(d,u,r,ro|oo,s):f))return!1}}return!0}function Ne(e){if(!ir(e)||dn(e))return!1;var t=rr(e)||P(e)?Gi:Jo;return t.test(wn(e))}function ke(e){return"function"==typeof e?e:null==e?Pr:"object"==("undefined"==typeof e?"undefined":r(e))?Ga(e)?ze(e[0],e[1]):Ue(e):Ar(e)}function Ve(e){return Ki(Object(e))}function Be(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function qe(e,t){return t>e}function je(e,t){var n=-1,r=Kn(e)?Array(e.length):[];return va(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function Ue(e){var t=zt(e);return 1==t.length&&t[0][2]?gn(t[0][0],t[0][1]):function(n){return n===e||We(n,e,t)}}function ze(e,t){return ln(e)&&fn(t)?gn(_n(e),t):function(n){var r=Rr(n,e);return r===Vr&&r===t?br(n,e):Oe(t,r,Vr,ro|oo)}}function Xe(e,t,n,r,o){if(e!==t){if(!Ga(t)&&!hr(t))var i=Tr(t);l(i||t,function(a,l){if(i&&(l=a,a=t[l]),ir(a))o||(o=new le),Ye(e,t,l,n,Xe,r,o);else{var c=r?r(e[l],a,l+"",e,t,o):Vr;c===Vr&&(c=a),he(e,l,c)}})}}function Ye(e,t,n,r,o,i,a){var l=e[n],c=t[n],u=a.get(c);if(u)return void he(e,n,u);var d=i?i(l,c,n+"",e,t,a):Vr,s=d===Vr;s&&(d=c,Ga(c)||hr(c)?Ga(l)?d=l:Jn(l)?d=bt(l):(s=!1,d=Ie(c,!0)):sr(c)||$n(c)?$n(l)?d=Ir(l):!ir(l)||r&&rr(l)?(s=!1,d=Ie(c,!0)):d=l:s=!1),a.set(c,d),s&&o(d,c,r,i,a),a["delete"](c),he(e,n,d)}function $e(e,t,n){var r=-1;t=g(t.length?t:[Pr],R(jt()));var o=je(e,function(e,n,o){var i=g(t,function(t){return t(e)});return{criteria:i,index:++r,value:e}});return I(o,function(e,t){return It(e,t,n)})}function Ke(e,t){return e=Object(e),p(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function Je(e){return function(t){return null==t?Vr:t[e]}}function Ze(e){return function(t){return Ee(t,e)}}function Qe(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;if(on(o))zi.call(e,o,1);else if(ln(o,e))delete e[_n(o)];else{var a=ut(o),l=vn(e,a);null!=l&&delete l[_n(Cn(a))]}}}return e}function et(e,t,n,r){t=ln(t,e)?[t]:ut(t);for(var o=-1,i=t.length,a=i-1,l=e;null!=l&&++o<i;){var c=_n(t[o]);if(ir(l)){var u=n;if(o!=a){var d=l[c];u=r?r(d,c,l):Vr,u===Vr&&(u=null==d?on(t[o+1])?[]:{}:d)}pe(l,c,u)}l=l[c]}return e}function tt(e,t,n){var r=-1,o=e.length;0>t&&(t=-t>o?0:o+t),n=n>o?o:n,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}function nt(e,t){var n;return va(e,function(e,r,o){return n=t(e,r,o),!n}),!!n}function rt(e,t,n){var r=0,o=e?e.length:r;if("number"==typeof t&&t===t&&ho>=o){for(;o>r;){var i=r+o>>>1,a=e[i];null!==a&&!gr(a)&&(n?t>=a:t>a)?r=i+1:o=i}return o}return ot(e,t,Pr,n)}function ot(e,t,n,r){t=n(t);for(var o=0,i=e?e.length:0,a=t!==t,l=null===t,c=gr(t),u=t===Vr;i>o;){var d=Xi((o+i)/2),s=n(e[d]),f=s!==Vr,g=null===s,h=s===s,p=gr(s);if(a)var v=r||h;else v=u?h&&(r||f):l?h&&f&&(r||!g):c?h&&f&&!g&&(r||!p):g||p?!1:r?t>=s:t>s;v?o=d+1:i=d}return Zi(i,go)}function it(e){if("string"==typeof e)return e;if(gr(e))return pa?pa.call(e):"";var t=e+"";return"0"==t&&1/e==-lo?"-0":t}function at(e,t,n){var r=-1,o=s,i=e.length,a=!0,l=[],c=l;if(n)a=!1,o=f;else if(i>=qr){var u=t?null:ya(e);if(u)return A(u);a=!1,o=C,c=new oe}else c=t?[]:l;e:for(;++r<i;){var d=e[r],g=t?t(d):d;if(d=n||0!==d?d:0,a&&g===g){for(var h=c.length;h--;)if(c[h]===g)continue e;t&&c.push(g),l.push(d)}else o(c,g,n)||(c!==l&&c.push(g),l.push(d))}return l}function lt(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var l=i>r?t[r]:Vr;n(a,e[r],l)}return a}function ct(e){return Jn(e)?e:[]}function ut(e){return Ga(e)?e:Ta(e)}function dt(e,t,n){var r=e.length;return n=n===Vr?r:n,!t&&n>=r?e:tt(e,t,n)}function st(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function ft(e){var t=new e.constructor(e.byteLength);return new Vi(t).set(new Vi(e)),t}function gt(e,t){var n=t?ft(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function ht(e,t,n){var r=t?n(M(e),!0):M(e);return p(r,o,new e.constructor)}function pt(e){var t=new e.constructor(e.source,Yo.exec(e));return t.lastIndex=e.lastIndex,t}function vt(e,t,n){var r=t?n(A(e),!0):A(e);return p(r,i,new e.constructor)}function mt(e){return ha?Object(ha.call(e)):{}}function _t(e,t){var n=t?ft(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function wt(e,t){if(e!==t){var n=e!==Vr,r=null===e,o=e===e,i=gr(e),a=t!==Vr,l=null===t,c=t===t,u=gr(t);if(!l&&!u&&!i&&e>t||i&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!o)return 1;if(!r&&!i&&!u&&t>e||u&&n&&o&&!r&&!i||l&&n&&o||!a&&o||!c)return-1}return 0}function It(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,l=n.length;++r<a;){var c=wt(o[r],i[r]);if(c){if(r>=l)return c;var u=n[r];return c*("desc"==u?-1:1)}}return e.index-t.index}function yt(e,t,n,r){for(var o=-1,i=e.length,a=n.length,l=-1,c=t.length,u=Ji(i-a,0),d=Array(c+u),s=!r;++l<c;)d[l]=t[l];for(;++o<a;)(s||i>o)&&(d[n[o]]=e[o]);for(;u--;)d[l++]=e[o++];return d}function Rt(e,t,n,r){for(var o=-1,i=e.length,a=-1,l=n.length,c=-1,u=t.length,d=Ji(i-l,0),s=Array(d+u),f=!r;++o<d;)s[o]=e[o];for(var g=o;++c<u;)s[g+c]=t[c];for(;++a<l;)(f||i>o)&&(s[g+n[a]]=e[o++]);return s}function bt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Ct(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],l=r?r(n[a],e[a],a,n,e):e[a];pe(n,a,l)}return n}function Tt(e,t){return Ct(e,$t(e),t)}function Ht(e){return jn(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:Vr,a=o>2?n[2]:Vr;for(i=e.length>3&&"function"==typeof i?(o--,i):Vr,a&&an(n[0],n[1],a)&&(i=3>o?Vr:i,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,i)}return t})}function St(e,t){return function(n,r){if(null==n)return n;if(!Kn(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}function xt(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),l=a.length;l--;){var c=a[e?l:++o];if(n(i[c],c,i)===!1)break}return t}}function Lt(e,t,n){function r(){var t=this&&this!==Si&&this instanceof r?i:e;return t.apply(o?n:this,arguments)}var o=t&Xr,i=Et(e);return r}function Et(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ye(e.prototype),r=e.apply(n,t);return ir(r)?r:n}}function Pt(e,t,n){function r(){for(var i=arguments.length,l=Array(i),c=i,u=qt(r);c--;)l[c]=arguments[c];var d=3>i&&l[0]!==u&&l[i-1]!==u?[]:F(l,u);if(i-=d.length,n>i)return Ot(e,t,Mt,r.placeholder,Vr,l,d,Vr,Vr,n-i);var s=this&&this!==Si&&this instanceof r?o:e;return a(s,this,l)}var o=Et(e);return r}function Dt(e){return function(t,n,r){var o=Object(t);if(n=jt(n,3),!Kn(t))var i=Cr(t);var a=e(i||t,function(e,t){return i&&(t=e,e=o[t]),n(e,t,o)},r);return a>-1?t[i?i[a]:a]:Vr}}function Mt(e,t,n,r,o,i,a,l,c,u){function d(){for(var m=arguments.length,_=Array(m),w=m;w--;)_[w]=arguments[w];if(h)var I=qt(d),y=x(_,I);if(r&&(_=yt(_,r,o,h)),i&&(_=Rt(_,i,a,h)),m-=y,h&&u>m){var R=F(_,I);return Ot(e,t,Mt,d.placeholder,n,_,R,l,c,u-m)}var b=f?n:this,C=g?b[e]:e;return m=_.length,l?_=mn(_,l):p&&m>1&&_.reverse(),s&&m>c&&(_.length=c),this&&this!==Si&&this instanceof d&&(C=v||Et(C)),C.apply(b,_)}var s=t&eo,f=t&Xr,g=t&Yr,h=t&(Kr|Jr),p=t&no,v=g?Vr:Et(e);return d}function Ft(e,t,n,r){function o(){for(var t=-1,c=arguments.length,u=-1,d=r.length,s=Array(d+c),f=this&&this!==Si&&this instanceof o?l:e;++u<d;)s[u]=r[u];for(;c--;)s[u++]=arguments[++t];return a(f,i?n:this,s)}var i=t&Xr,l=Et(e);return o}function At(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=wr(t),n=wr(n)),e(t,n)}}function Ot(e,t,n,r,o,i,a,l,c,u){var d=t&Kr,s=d?a:Vr,f=d?Vr:a,g=d?i:Vr,h=d?Vr:i;t|=d?Zr:Qr,t&=~(d?Qr:Zr),t&$r||(t&=~(Xr|Yr));var p=[e,t,o,g,s,h,f,l,c,u],v=n.apply(Vr,p);return un(e)&&Ca(v,p),v.placeholder=r,v}function Gt(e,t,n,r,o,i,a,l){var c=t&Yr;if(!c&&"function"!=typeof e)throw new TypeError(jr);var u=r?r.length:0;if(u||(t&=~(Zr|Qr),r=o=Vr),a=a===Vr?a:Ji(mr(a),0),l=l===Vr?l:mr(l),u-=o?o.length:0,t&Qr){var d=r,s=o;r=o=Vr}var f=c?Vr:Ra(e),g=[e,t,n,r,o,d,s,i,a,l];if(f&&hn(g,f),e=g[0],t=g[1],n=g[2],r=g[3],o=g[4],l=g[9]=null==g[9]?c?0:e.length:Ji(g[9]-u,0),!l&&t&(Kr|Jr)&&(t&=~(Kr|Jr)),t&&t!=Xr)h=t==Kr||t==Jr?Pt(e,t,l):t!=Zr&&t!=(Xr|Zr)||o.length?Mt.apply(Vr,g):Ft(e,t,n,r);else var h=Lt(e,t,n);var p=f?Ia:Ca;return p(h,g)}function Wt(e,t,n,r,o,i){var a=o&oo,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=i.get(e);if(u)return u==t;var d=-1,s=!0,f=o&ro?new oe:Vr;for(i.set(e,t);++d<l;){var g=e[d],h=t[d];if(r)var p=a?r(h,g,d,t,e,i):r(g,h,d,e,t,i);if(p!==Vr){if(p)continue;s=!1;break}if(f){if(!v(t,function(e,t){return f.has(t)||g!==e&&!n(g,e,r,o,i)?void 0:f.add(t)})){s=!1;break}}else if(g!==h&&!n(g,h,r,o,i)){s=!1;break}}return i["delete"](e),s}function Nt(e,t,n,r,o,i,a){switch(n){case Do:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Po:return!(e.byteLength!=t.byteLength||!r(new Vi(e),new Vi(t)));case mo:case _o:return+e==+t;case wo:return e.name==t.name&&e.message==t.message;case bo:return e!=+e?t!=+t:e==+t;case Ho:case xo:return e==t+"";case Ro:var l=M;case So:var c=i&oo;if(l||(l=A),e.size!=t.size&&!c)return!1;var u=a.get(e);return u?u==t:(i|=ro,a.set(e,t),Wt(l(e),l(t),r,o,i,a));case Lo:if(ha)return ha.call(e)==ha.call(t)}return!1}function kt(e,t,n,r,o,i){var a=o&oo,l=Cr(e),c=l.length,u=Cr(t),d=u.length;if(c!=d&&!a)return!1;for(var s=c;s--;){var f=l[s];if(!(a?f in t:Me(t,f)))return!1}var g=i.get(e);if(g)return g==t;var h=!0;i.set(e,t);for(var p=a;++s<c;){f=l[s];var v=e[f],m=t[f];if(r)var _=a?r(m,v,f,t,e,i):r(v,m,f,e,t,i);if(!(_===Vr?v===m||n(v,m,r,o,i):_)){h=!1;break}p||(p="constructor"==f)}if(h&&!p){var w=e.constructor,I=t.constructor;w!=I&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof I&&I instanceof I)&&(h=!1)}return i["delete"](e),h}function Vt(e){return Pe(e,Cr,$t)}function Bt(e){for(var t=e.name+"",n=la[t],r=Mi.call(la,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function qt(e){var t=Mi.call(G,"placeholder")?G:e;return t.placeholder}function jt(){var e=G.iteratee||Dr;return e=e===Dr?ke:e,arguments.length?e(arguments[0],arguments[1]):e}function Ut(e,t){var n=e.__data__;return cn(t)?n["string"==typeof t?"string":"hash"]:n.map}function zt(e){for(var t=Cr(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,fn(o)]}return t}function Xt(e,t){var n=L(e,t);return Ne(n)?n:Vr}function Yt(e){return Yi(Object(e))}function $t(e){return qi(Object(e))}function Kt(e){return Oi.call(e)}function Jt(e,t,n){t=ln(t,e)?[t]:ut(t);for(var r,o=-1,i=t.length;++o<i;){var a=_n(t[o]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;var i=e?e.length:0;return!!i&&or(i)&&on(a,i)&&(Ga(e)||fr(e)||$n(e))}function Zt(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Mi.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Qt(e){return"function"!=typeof e.constructor||sn(e)?{}:ye(Yt(e))}function en(e,t,n,r){var o=e.constructor;switch(t){case Po:return ft(e);case mo:case _o:return new o(+e);case Do:return gt(e,r);case Mo:case Fo:case Ao:case Oo:case Go:case Wo:case No:case ko:case Vo:return _t(e,r);case Ro:return ht(e,r,n);case bo:case xo:return new o(e);case Ho:return pt(e);case So:return vt(e,r,n);case Lo:return mt(e)}}function tn(e){var t=e?e.length:Vr;return or(t)&&(Ga(e)||fr(e)||$n(e))?y(t,String):null}function nn(e){return Ga(e)||$n(e)}function rn(e){return Ga(e)&&!(2==e.length&&!rr(e[0]))}function on(e,t){return t=null==t?co:t,!!t&&("number"==typeof e||Qo.test(e))&&e>-1&&e%1==0&&t>e}function an(e,t,n){if(!ir(n))return!1;var o="undefined"==typeof t?"undefined":r(t);return("number"==o?Kn(n)&&on(t,n.length):"string"==o&&t in n)?Yn(n[t],e):!1}function ln(e,t){if(Ga(e))return!1;var n="undefined"==typeof e?"undefined":r(e);return"number"==n||"symbol"==n||"boolean"==n||null==e||gr(e)?!0:qo.test(e)||!Bo.test(e)||null!=t&&e in Object(t)}function cn(e){var t="undefined"==typeof e?"undefined":r(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function un(e){var t=Bt(e),n=G[t];if("function"!=typeof n||!(t in N.prototype))return!1;if(e===n)return!0;var r=Ra(n);return!!r&&e===r[0]}function dn(e){return!!Pi&&Pi in e}function sn(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Li;return e===n}function fn(e){return e===e&&!ir(e)}function gn(e,t){return function(n){return null==n?!1:n[e]===t&&(t!==Vr||e in Object(n))}}function hn(e,t){var n=e[1],r=t[1],o=n|r,i=(Xr|Yr|eo)>o,a=r==eo&&n==Kr||r==eo&&n==to&&e[7].length<=t[8]||r==(eo|to)&&t[7].length<=t[8]&&n==Kr;if(!i&&!a)return e;r&Xr&&(e[2]=t[2],o|=n&Xr?0:$r);var l=t[3];if(l){var c=e[3];e[3]=c?yt(c,l,t[4]):l,e[4]=c?F(e[3],zr):t[4]}return l=t[5],l&&(c=e[5],e[5]=c?Rt(c,l,t[6]):l,e[6]=c?F(e[5],zr):t[6]),l=t[7],l&&(e[7]=l),r&eo&&(e[8]=null==e[8]?t[8]:Zi(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function pn(e,t,n,r,o,i){return ir(e)&&ir(t)&&Xe(e,t,Vr,pn,i.set(t,e)),e}function vn(e,t){return 1==t.length?e:Ee(e,tt(t,0,-1))}function mn(e,t){for(var n=e.length,r=Zi(t.length,n),o=bt(e);r--;){var i=t[r];e[r]=on(i,n)?o[i]:Vr}return e}function _n(e){if("string"==typeof e||gr(e))return e;var t=e+"";return"0"==t&&1/e==-lo?"-0":t}function wn(e){if(null!=e){try{return Di.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function In(e){for(var t=-1,n=e?e.length:0,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}function yn(e,t,n,r){var o=e?e.length:0;return o?(n&&"number"!=typeof n&&an(e,t,n)&&(n=0,r=o),Te(e,t,n,r)):[]}function Rn(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=null==n?0:mr(n);return 0>o&&(o=Ji(r+o,0)),m(e,jt(t,3),o)}function bn(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=null==n?0:mr(n);return 0>o&&(o=Ji(r+o,0)),_(e,t,o)}function Cn(e){var t=e?e.length:0;return t?e[t-1]:Vr}function Tn(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=jt(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Qe(e,o),n}function Hn(e,t){return rt(e,t)}function Sn(e,t,n){return ot(e,t,jt(n))}function xn(e,t,n){return e&&e.length?(t=n||t===Vr?1:mr(t),tt(e,0,0>t?0:t)):[]}function Ln(e){return e&&e.length?at(e):[]}function En(e,t){return lt(e||[],t||[],pe)}function Pn(e,t,n){var r=Ga(e)?u:be;return n&&an(e,t,n)&&(t=Vr),r(e,jt(t,3))}function Dn(e,t){var n=Ga(e)?d:He;return n(e,jt(t,3))}function Mn(e,t){var n=Ga(e)?l:va;return n(e,jt(t,3))}function Fn(e,t){var n=Ga(e)?c:ma;return n(e,jt(t,3))}function An(e,t,n,r){e=Kn(e)?e:xr(e),n=n&&!r?mr(n):0;var o=e.length;return 0>n&&(n=Ji(o+n,0)),fr(e)?o>=n&&e.indexOf(t,n)>-1:!!o&&_(e,t,n)>-1}function On(e,t){var n=Ga(e)?g:je;return n(e,jt(t,3))}function Gn(e,t,n){var r=Ga(e)?p:w,o=arguments.length<3;return r(e,jt(t,4),n,o,va)}function Wn(e,t,n){var r=Ga(e)?v:nt;return n&&an(e,t,n)&&(t=Vr),r(e,jt(t,3))}function Nn(){return Date.now()}function kn(e,t,n){t=n?Vr:t;var r=Gt(e,Kr,Vr,Vr,Vr,Vr,Vr,t);return r.placeholder=kn.placeholder,r}function Vn(e,t,n){t=n?Vr:t;var r=Gt(e,Jr,Vr,Vr,Vr,Vr,Vr,t);return r.placeholder=Vn.placeholder,r}function Bn(e,t,n){function r(t){var n=f,r=g;return f=g=Vr,_=t,p=e.apply(r,n)}function o(e){return _=e,v=setTimeout(l,t),w?r(e):p}function i(e){var n=e-m,r=e-_,o=t-n;return I?Zi(o,h-r):o}function a(e){var n=e-m,r=e-_;return m===Vr||n>=t||0>n||I&&r>=h}function l(){var e=Nn();return a(e)?c(e):void(v=setTimeout(l,i(e)))}function c(e){return v=Vr,y&&f?r(e):(f=g=Vr,p)}function u(){_=0,f=m=g=v=Vr}function d(){return v===Vr?p:c(Nn())}function s(){var e=Nn(),n=a(e);if(f=arguments,g=this,m=e,n){if(v===Vr)return o(m);if(I)return v=setTimeout(l,t),r(m)}return v===Vr&&(v=setTimeout(l,t)),p}var f,g,h,p,v,m,_=0,w=!1,I=!1,y=!0;if("function"!=typeof e)throw new TypeError(jr);return t=wr(t)||0,ir(n)&&(w=!!n.leading,I="maxWait"in n,h=I?Ji(wr(n.maxWait)||0,t):h,y="trailing"in n?!!n.trailing:y),s.cancel=u,s.flush=d,s}function qn(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(jr);var n=function r(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a),a};return n.cache=new(qn.Cache||Z),n}function jn(e,t){if("function"!=typeof e)throw new TypeError(jr);return t=Ji(t===Vr?e.length-1:mr(t),0),function(){for(var n=arguments,r=-1,o=Ji(n.length-t,0),i=Array(o);++r<o;)i[r]=n[t+r];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,n[0],i);case 2:return e.call(this,n[0],n[1],i)}var l=Array(t+1);for(r=-1;++r<t;)l[r]=n[r];return l[t]=i,a(e,this,l)}}function Un(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(jr);return ir(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Bn(e,t,{leading:r,maxWait:t,trailing:o})}function zn(e){return Ie(e,!1,!0)}function Xn(e){return Ie(e,!0,!0)}function Yn(e,t){return e===t||e!==e&&t!==t}function $n(e){return Jn(e)&&Mi.call(e,"callee")&&(!Ui.call(e,"callee")||Oi.call(e)==po)}function Kn(e){return null!=e&&or(ba(e))&&!rr(e)}function Jn(e){return ar(e)&&Kn(e)}function Zn(e){return e===!0||e===!1||ar(e)&&Oi.call(e)==mo}function Qn(e){return ar(e)&&Oi.call(e)==_o}function er(e){if(Kn(e)&&(Ga(e)||fr(e)||rr(e.splice)||$n(e)||Wa(e)))return!e.length;if(ar(e)){var t=Kt(e);if(t==Ro||t==So)return!e.size}for(var n in e)if(Mi.call(e,n))return!1;return!(aa&&Cr(e).length)}function tr(e,t){return Oe(e,t)}function nr(e){return"number"==typeof e&&$i(e)}function rr(e){var t=ir(e)?Oi.call(e):"";return t==Io||t==yo}function or(e){return"number"==typeof e&&e>-1&&e%1==0&&co>=e}function ir(e){var t="undefined"==typeof e?"undefined":r(e);return!!e&&("object"==t||"function"==t)}function ar(e){return!!e&&"object"==("undefined"==typeof e?"undefined":r(e))}function lr(e){return dr(e)&&e!=+e}function cr(e){return null===e}function ur(e){return null==e}function dr(e){return"number"==typeof e||ar(e)&&Oi.call(e)==bo}function sr(e){if(!ar(e)||Oi.call(e)!=Co||P(e))return!1;var t=Yt(e);if(null===t)return!0;var n=Mi.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Di.call(n)==Ai}function fr(e){return"string"==typeof e||!Ga(e)&&ar(e)&&Oi.call(e)==xo}function gr(e){return"symbol"==("undefined"==typeof e?"undefined":r(e))||ar(e)&&Oi.call(e)==Lo}function hr(e){return ar(e)&&or(e.length)&&!!_i[Oi.call(e)]}function pr(e){return e===Vr}function vr(e){if(!e)return 0===e?e:0;if(e=wr(e),e===lo||e===-lo){var t=0>e?-1:1;return t*uo}return e===e?e:0}function mr(e){var t=vr(e),n=t%1;return t===t?n?t-n:t:0}function _r(e){return e?we(mr(e),0,fo):0}function wr(e){if("number"==typeof e)return e;if(gr(e))return so;if(ir(e)){var t=rr(e.valueOf)?e.valueOf():e;e=ir(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(zo,"");var n=Ko.test(e);return n||Zo.test(e)?Ii(e.slice(2),n?2:8):$o.test(e)?so:+e}function Ir(e){return Ct(e,Tr(e))}function yr(e){return null==e?"":it(e)}function Rr(e,t,n){var r=null==e?Vr:Ee(e,t);return r===Vr?n:r}function br(e,t){return null!=e&&Jt(e,t,Fe)}function Cr(e){var t=sn(e);if(!t&&!Kn(e))return Ve(e);var n=tn(e),r=!!n,o=n||[],i=o.length;for(var a in e)!Me(e,a)||r&&("length"==a||on(a,i))||t&&"constructor"==a||o.push(a);return o}function Tr(e){for(var t=-1,n=sn(e),r=Be(e),o=r.length,i=tn(e),a=!!i,l=i||[],c=l.length;++t<o;){var u=r[t];a&&("length"==u||on(u,c))||"constructor"==u&&(n||!Mi.call(e,u))||l.push(u)}return l}function Hr(e,t){var n={};return t=jt(t,3),xe(e,function(e,r,o){n[r]=t(e,r,o)}),n}function Sr(e,t,n){return null==e?e:et(e,t,n)}function xr(e){return e?b(e,Cr(e)):[]}function Lr(e,t,n){return e=yr(e),n=we(mr(n),0,e.length),e.lastIndexOf(it(t),n)==n}function Er(e,t,n){if(e=yr(e),e&&(n||t===Vr))return e.replace(zo,"");if(!e||!(t=it(t)))return e;var r=O(e),o=O(t),i=T(r,o),a=H(r,o)+1;return dt(r,i,a).join("")}function Pr(e){return e}function Dr(e){return ke("function"==typeof e?e:Ie(e,!0))}function Mr(e,t){return ze(e,Ie(t,!0))}function Fr(){}function Ar(e){return ln(e)?Je(_n(e)):Ze(e)}function Or(){return[]}function Gr(){return!1}function Wr(e){var t=++Fi;return yr(e)+t}function Nr(e){return e&&e.length?Ce(e,Pr,De):Vr}function kr(e){return e&&e.length?Ce(e,Pr,qe):Vr}var Vr,Br="4.13.1",qr=200,jr="Expected a function",Ur="__lodash_hash_undefined__",zr="__lodash_placeholder__",Xr=1,Yr=2,$r=4,Kr=8,Jr=16,Zr=32,Qr=64,eo=128,to=256,no=512,ro=1,oo=2,io=150,ao=16,lo=1/0,co=9007199254740991,uo=1.7976931348623157e308,so=NaN,fo=4294967295,go=fo-1,ho=fo>>>1,po="[object Arguments]",vo="[object Array]",mo="[object Boolean]",_o="[object Date]",wo="[object Error]",Io="[object Function]",yo="[object GeneratorFunction]",Ro="[object Map]",bo="[object Number]",Co="[object Object]",To="[object Promise]",Ho="[object RegExp]",So="[object Set]",xo="[object String]",Lo="[object Symbol]",Eo="[object WeakMap]",Po="[object ArrayBuffer]",Do="[object DataView]",Mo="[object Float32Array]",Fo="[object Float64Array]",Ao="[object Int8Array]",Oo="[object Int16Array]",Go="[object Int32Array]",Wo="[object Uint8Array]",No="[object Uint8ClampedArray]",ko="[object Uint16Array]",Vo="[object Uint32Array]",Bo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qo=/^\w*$/,jo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,Uo=/[\\^$.*+?()[\]{}|]/g,zo=/^\s+|\s+$/g,Xo=/\\(\\)?/g,Yo=/\w*$/,$o=/^[-+]0x[0-9a-f]+$/i,Ko=/^0b[01]+$/i,Jo=/^\[object .+?Constructor\]$/,Zo=/^0o[0-7]+$/i,Qo=/^(?:0|[1-9]\d*)$/,ei="\\ud800-\\udfff",ti="\\u0300-\\u036f\\ufe20-\\ufe23",ni="\\u20d0-\\u20f0",ri="\\ufe0e\\ufe0f",oi="["+ei+"]",ii="["+ti+ni+"]",ai="\\ud83c[\\udffb-\\udfff]",li="(?:"+ii+"|"+ai+")",ci="[^"+ei+"]",ui="(?:\\ud83c[\\udde6-\\uddff]){2}",di="[\\ud800-\\udbff][\\udc00-\\udfff]",si="\\u200d",fi=li+"?",gi="["+ri+"]?",hi="(?:"+si+"(?:"+[ci,ui,di].join("|")+")"+gi+fi+")*",pi=gi+fi+hi,vi="(?:"+[ci+ii+"?",ii,ui,di,oi].join("|")+")",mi=RegExp(ai+"(?="+ai+")|"+vi+pi,"g"),_i={};_i[Mo]=_i[Fo]=_i[Ao]=_i[Oo]=_i[Go]=_i[Wo]=_i[No]=_i[ko]=_i[Vo]=!0,_i[po]=_i[vo]=_i[Po]=_i[mo]=_i[Do]=_i[_o]=_i[wo]=_i[Io]=_i[Ro]=_i[bo]=_i[Co]=_i[Ho]=_i[So]=_i[xo]=_i[Eo]=!1;var wi={};wi[po]=wi[vo]=wi[Po]=wi[Do]=wi[mo]=wi[_o]=wi[Mo]=wi[Fo]=wi[Ao]=wi[Oo]=wi[Go]=wi[Ro]=wi[bo]=wi[Co]=wi[Ho]=wi[So]=wi[xo]=wi[Lo]=wi[Wo]=wi[No]=wi[ko]=wi[Vo]=!0,wi[wo]=wi[Io]=wi[Eo]=!1;var Ii=parseInt,yi="object"==r(t)&&t,Ri=yi&&"object"==r(e)&&e,bi=Ri&&Ri.exports===yi,Ci=S("object"==("undefined"==typeof n?"undefined":r(n))&&n),Ti=S("object"==("undefined"==typeof self?"undefined":r(self))&&self),Hi=S("object"==r(this)&&this),Si=Ci||Ti||Hi||Function("return this")(),xi=Array.prototype,Li=Object.prototype,Ei=Si["__core-js_shared__"],Pi=function(){var e=/[^.]+$/.exec(Ei&&Ei.keys&&Ei.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Di=Function.prototype.toString,Mi=Li.hasOwnProperty,Fi=0,Ai=Di.call(Object),Oi=Li.toString,Gi=RegExp("^"+Di.call(Mi).replace(Uo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wi=bi?Si.Buffer:Vr,Ni=Si.Reflect,ki=Si.Symbol,Vi=Si.Uint8Array,Bi=Ni?Ni.enumerate:Vr,qi=Object.getOwnPropertySymbols,ji=Object.create,Ui=Li.propertyIsEnumerable,zi=xi.splice,Xi=Math.floor,Yi=Object.getPrototypeOf,$i=Si.isFinite,Ki=Object.keys,Ji=Math.max,Zi=Math.min,Qi=Xt(Si,"DataView"),ea=Xt(Si,"Map"),ta=Xt(Si,"Promise"),na=Xt(Si,"Set"),ra=Xt(Si,"WeakMap"),oa=Xt(Object,"create"),ia=ra&&new ra,aa=!Ui.call({valueOf:1},"valueOf"),la={},ca=wn(Qi),ua=wn(ea),da=wn(ta),sa=wn(na),fa=wn(ra),ga=ki?ki.prototype:Vr,ha=ga?ga.valueOf:Vr,pa=ga?ga.toString:Vr;N.prototype=ye(W.prototype),N.prototype.constructor=N,k.prototype.clear=V,k.prototype["delete"]=B,k.prototype.get=q,k.prototype.has=j,k.prototype.set=U,z.prototype.clear=X,z.prototype["delete"]=Y,z.prototype.get=$,z.prototype.has=K,z.prototype.set=J,Z.prototype.clear=Q,Z.prototype["delete"]=ee,Z.prototype.get=te,Z.prototype.has=ne,Z.prototype.set=re,oe.prototype.add=oe.prototype.push=ie,oe.prototype.has=ae,le.prototype.clear=ce,le.prototype["delete"]=ue,le.prototype.get=de,le.prototype.has=se,le.prototype.set=fe;var va=St(xe),ma=St(Le,!0),_a=xt(),wa=xt(!0);Bi&&!Ui.call({valueOf:1},"valueOf")&&(Be=function(e){return D(Bi(e))});var Ia=ia?function(e,t){return ia.set(e,t),e}:Pr,ya=na&&1/A(new na([,-0]))[1]==lo?function(e){return new na(e)}:Fr,Ra=ia?function(e){return ia.get(e)}:Fr,ba=Je("length");qi||($t=Or),(Qi&&Kt(new Qi(new ArrayBuffer(1)))!=Do||ea&&Kt(new ea)!=Ro||ta&&Kt(ta.resolve())!=To||na&&Kt(new na)!=So||ra&&Kt(new ra)!=Eo)&&(Kt=function(e){var t=Oi.call(e),n=t==Co?e.constructor:Vr,r=n?wn(n):Vr;if(r)switch(r){case ca:return Do;case ua:return Ro;case da:return To;case sa:return So;case fa:return Eo}return t});var Ca=function(){var e=0,t=0;return function(n,r){var o=Nn(),i=ao-(o-t);if(t=o,i>0){if(++e>=io)return n}else e=0;return Ia(n,r)}}(),Ta=qn(function(e){var t=[];return yr(e).replace(jo,function(e,n,r,o){t.push(r?o.replace(Xo,"$1"):n||e)}),t}),Ha=jn(function(e,t){return Jn(e)?Re(e,Se(t,1,Jn,!0)):[]}),Sa=jn(function(e){var t=g(e,ct);return t.length&&t[0]===e[0]?Ae(t):[]}),xa=jn(function(e,t){t=Se(t,1);var n=e?e.length:0,r=_e(e,t);return Qe(e,g(t,function(e){return on(e,n)?+e:e}).sort(wt)),r}),La=jn(function(e){return at(Se(e,1,Jn,!0))}),Ea=Dt(Rn),Pa=jn(function(e,t){if(null==e)return[];var n=t.length;return n>1&&an(e,t[0],t[1])?t=[]:n>2&&an(t[0],t[1],t[2])&&(t=[t[0]]),t=1==t.length&&Ga(t[0])?t[0]:Se(t,1,rn),$e(e,t,[])}),Da=jn(function(e,t,n){var r=Xr;if(n.length){var o=F(n,qt(Da));r|=Zr}return Gt(e,r,t,n,o)}),Ma=jn(function(e,t,n){var r=Xr|Yr;if(n.length){var o=F(n,qt(Ma));r|=Zr}return Gt(t,r,e,n,o)});qn.Cache=Z;var Fa=jn(function(e,t){var n=F(t,qt(Fa));return Gt(e,Zr,Vr,t,n)}),Aa=jn(function(e,t){var n=F(t,qt(Aa));return Gt(e,Qr,Vr,t,n)}),Oa=At(De),Ga=Array.isArray,Wa=Wi?function(e){return e instanceof Wi}:Gr,Na=At(qe),ka=Ht(function(e,t){if(aa||sn(t)||Kn(t))return void Ct(t,Cr(t),e);for(var n in t)Mi.call(t,n)&&pe(e,n,t[n])}),Va=Ht(function(e,t){if(aa||sn(t)||Kn(t))return void Ct(t,Tr(t),e);
for(var n in t)pe(e,n,t[n])}),Ba=Ht(function(e,t,n,r){Ct(t,Tr(t),e,r)}),qa=jn(function(e){return e.push(Vr,ge),a(Ba,Vr,e)}),ja=jn(function(e){return e.push(Vr,pn),a(za,Vr,e)}),Ua=Ht(function(e,t,n){Xe(e,t,n)}),za=Ht(function(e,t,n,r){Xe(e,t,n,r)}),Xa=jn(function(e,t){return null==e?{}:Ke(e,g(Se(t,1),_n))});G.assign=ka,G.assignIn=Va,G.assignInWith=Ba,G.bind=Da,G.bindKey=Ma,G.compact=In,G.curry=kn,G.curryRight=Vn,G.debounce=Bn,G.defaults=qa,G.defaultsDeep=ja,G.difference=Ha,G.fill=yn,G.filter=Dn,G.intersection=Sa,G.iteratee=Dr,G.keys=Cr,G.keysIn=Tr,G.map=On,G.mapValues=Hr,G.mP=Mr,G.memoize=qn,G.merge=Ua,G.mergeWith=za,G.partial=Fa,G.partialRight=Aa,G.pick=Xa,G.property=Ar,G.pullAt=xa,G.remove=Tn,G.rest=jn,G.set=Sr,G.sortBy=Pa,G.take=xn,G.throttle=Un,G.toPlainObject=Ir,G.union=La,G.uniq=Ln,G.values=xr,G.zipObject=En,G.extend=Va,G.extendWith=Ba,G.clone=zn,G.cloneDeep=Xn,G.eq=Yn,G.every=Pn,G.find=Ea,G.findIndex=Rn,G.forEach=Mn,G.forEachRight=Fn,G.get=Rr,G.gt=Oa,G.hasIn=br,G.identity=Pr,G.includes=An,G.indexOf=bn,G.isArguments=$n,G.isArray=Ga,G.isArrayLike=Kn,G.isArrayLikeObject=Jn,G.isBoolean=Zn,G.isBuffer=Wa,G.isDate=Qn,G.isEmpty=er,G.isEqual=tr,G.isFinite=nr,G.isFunction=rr,G.isLength=or,G.isNaN=lr,G.isNil=ur,G.isNull=cr,G.isNumber=dr,G.isObject=ir,G.isObjectLike=ar,G.isPlainObject=sr,G.isString=fr,G.isSymbol=gr,G.isTypedArray=hr,G.isUndefined=pr,G.last=Cn,G.lt=Na,G.max=Nr,G.min=kr,G.stubArray=Or,G.stubFalse=Gr,G.noop=Fr,G.now=Nn,G.reduce=Gn,G.some=Wn,G.sortedIndex=Hn,G.sortedIndexBy=Sn,G.startsWith=Lr,G.toFinite=vr,G.toInteger=mr,G.toLength=_r,G.toNumber=wr,G.toString=yr,G.trim=Er,G.uniqueId=Wr,G.each=Mn,G.eachRight=Fn,G.VERSION=Br,l(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){G[e].placeholder=G}),e.exports=G}).call(void 0)}).call(t,n(9)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}!function(){function t(e){if(e&&e.childNodes)for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];8===r.nodeType||3===r.nodeType&&!/\S/.test(r.nodeValue)?(e.removeChild(r),n--):1===r.nodeType&&t(r)}}function o(e,t,n){t=t||s.getStyle(e);var r;return c.isString(n)?r=i(t[n]):(n=n||g,r={},n.forEach(function(e){r[e]=i(t[e])})),r}function i(e){var t=parseFloat(e);return isNaN(t)?0:t}function a(){var e=document.body,t=e.style;if(t&&t.position&&"static"!==t.position){var n=s.gCSV(e,null,g);return{left:n.paddingLeft+n.marginLeft+n.borderLeftWidth,top:n.paddingTop+n.marginTop+n.borderTopWidth,right:n.paddingRight+n.marginRight+n.borderRightWidth}}return{left:0,top:0,right:0}}var l=n(8),c=n(11),u="left",d="right",s={},f={left:0,top:0,width:0,height:0};s.isDomElement=function(e){return e instanceof HTMLElement},s.isVisible=function(e){return s.isDomElement(e)&&null!==e.offsetParent},s.createElement=function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.children[0];return t=null,n},s.createTemplateElement=function(e){var n=document.createElement("div");return n.innerHTML=e,t(n),n},s.getElementInnerText=function(e){return e.innerHTML.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},s.getElementOuterText=function(e){return e.outerHTML.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},s.hasClass=function(e,t){if(e&&e.getAttribute){var n=e.getAttribute("class");if(n)return n=n.replace(/[\t\r\n\f]/g," ").split(" "),n.indexOf(t)>=0}return!1},s.removeClass=function(e,t){if(e&&e.setAttribute&&s.hasClass(e,t)){var n=e.getAttribute("class").split(" "),r=[];l.each(n,function(e){e.toLowerCase()!==t.toLowerCase()&&r.push(e)}),e.setAttribute("class",r.join(" "))}},s.addClass=function(e,t){if(e&&e.setAttribute&&!s.hasClass(e,t)){var n=e.getAttribute("class");e.setAttribute("class",n?n+" "+t:t)}},s.toggleClass=function(e,t,n){n===!0?s.addClass(e,t):s.removeClass(e,t)},s.getElement=function(e){return e instanceof HTMLElement?e:c.isString(e)?document.querySelector(e):null},s.contains=function(e,t){for(var n=t;n;n=n.parentElement)if(n===e)return!0;return!1},s.offset=function(e){var t=e?e.getBoundingClientRect():f;return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},s.gER=function(e){var t=e?e.getBoundingClientRect():f;return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width,height:t.height}},s.gCoR=function(e){var t=e?e.getBoundingClientRect():f,n=o(e),r=n.paddingLeft+n.paddingRight,i=n.paddingTop+n.paddingBottom,a=n.borderLeftWidth+n.borderRightWidth,l=n.borderTopWidth+n.borderBottomWidth;return{left:t.left+window.pageXOffset+n.borderLeftWidth+n.paddingLeft,top:t.top+window.pageYOffset+n.borderTopWidth+n.paddingTop,width:Math.max(0,Math.floor(t.width-r-a)),height:Math.max(0,Math.floor(t.height-i-l))}},s.gCoRFn=function(e){var t=o(e),n=t.paddingLeft+t.paddingRight,r=t.paddingTop+t.paddingBottom,i=t.borderLeftWidth+t.borderRightWidth,a=t.borderTopWidth+t.borderBottomWidth;return function(){var o=e.getBoundingClientRect();return{left:o.left+window.pageXOffset+t.borderLeftWidth+t.paddingLeft,top:o.top+window.pageYOffset+t.borderTopWidth+t.paddingTop,width:Math.max(0,Math.floor(o.width-n-i)),height:Math.max(0,Math.floor(o.height-r-a))}}},s.getStyle=function(e){var t=getComputedStyle||window.getComputedStyle;return e&&t?t(e,null):null};var g=["paddingLeft","paddingRight","paddingTop","paddingBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","marginLeft","marginRight","marginTop","marginBottom"];s.gCSV=o,s.getBodyStyle=a,s.setCss=function(e,t){var n=e.style;for(var r in t){var o=t[r];c.isNumber(o)&&r.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(o+="px"),n[r]=o.toString()}},s.gSS=function(e){if(e.scS_)return e.scS_;var t=s.createElement('<div style="position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;"></div>');return document.body.appendChild(t),e.scS_={width:t.offsetWidth-t.clientWidth,height:t.offsetHeight-t.clientHeight},t.parentNode.removeChild(t),e.scS_},s.gSCH=function(){if(s.mSCH)return s.mSCH;var e,t=1e6,n=6e9,r=s.createElement('<div style="display:none"/>');for(document.body.appendChild(r);;){if(e=t+5e5,r.style.height=e+"px",e>n||r.offsetHeight!==e)break;t=e}return r.parentNode.removeChild(r),s.mSCH=t,s.mSCH},s.closest=function(e,t){for(;e;){if(e.matches?e.matches(t):e.msMatchesSelector(t))return e;if(e.parentNode===document)return null;e=e.parentNode}return null};var h=void 0;s.detectRTLMode=function(){if(h)return h;var e=s.createElement('<div class="gc-test-container" style="overflow:auto;height:500px;width:500px;direction:rtl"><div class="gc-test-content" style="height:400px;width:1000px;"></div></div>');document.body.appendChild(e);var t="normal";return 0===e.scrollLeft&&(e.scrollLeft=1e4,t=e.scrollLeft>0?"reverse":"negative"),document.body.removeChild(e),e=null,h=t,t},s.getRTLScrollLeft=function(e){var t=arguments.length<=1||void 0===arguments[1]?"normal":arguments[1];return s.isDomElement(e)?s.tRTLSL(e.scrollLeft,e.scrollWidth-e.clientWidth,s.detectRTLMode(),t):void 0},s.setRTLScrollLeft=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?"normal":arguments[2];if(s.isDomElement(e)){var r=s.detectRTLMode();e.scrollLeft=n===r?t:s.tRTLSL(t,e.scrollWidth-e.clientWidth,n,r)}};var p={normal:0,reverse:1,negative:2};s.tRTLSL=function(e,t,n,o){if(n===o)return e;if(n=p[n],o=p[o],0>=t)return 0;var i=[[[1],[-1,t],[1,-t]],[[-1,t],[1],[-1]],[[1,t],[-1],[1]]];return function(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return(t>0?e:-e)+n}.apply(void 0,[e].concat(r(i[n][o])))},s.inverseToRTL=function(e){if(!s.isDomElement(e))return e;var t,n="[style]";t="TEMPLATE"===e.tagName?e.content.querySelectorAll(n):e.querySelectorAll(n);var r=function(e,t,n){var r=e.style[t];c.isNilOrWhiteSpace(r)||(e.style[t]="",e.style[n]=r)};return l.forEach(t,function(e){c.isNilOrWhiteSpace(e.style.right)?c.isNilOrWhiteSpace(e.style.left)||r(e,u,d):r(e,d,u),e.style["float"]===d?e.style["float"]=u:e.style["float"]===u&&(e.style["float"]=d)}),e},s.detectBrowserType=function(){if(s.duckTypingBrowserType)return s.duckTypingBrowserType;var e=navigator&&navigator.userAgent,t=!!window.opr&&!!window.opr.addons||!!window.opera||e.indexOf(" OPR/")>=0,n="undefined"!=typeof InstallTrigger,r=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,o=!!document.documentMode,i=!o&&!!window.StyleMedia,a=!!window.chrome&&!!window.chrome.webstore,l=(a||t)&&!!window.CSS,c=!!e.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i);return s.duckTypingBrowserType={isOpera:t,isFirefox:n,isSafari:r,isIE:o,isEdge:i,isChrome:a,isBlink:l,isMobileDevice:c}},e.exports=s}()},function(e,t,n){"use strict";!function(){function t(e){return L.isNil(e)?!0:L.isString(e)?e.replace(/\s/g,"").length<1:!1}function r(e,t,n){e&&e.removeEventListener(t,n)}function o(e,t,n){e&&e.addEventListener(t,n)}function i(e){}function a(e){return x.isNumber(e)?"number":x.isBoolean(e)?"boolean":x.isDate(e)?"date":x.isString(e)?"string":x.isArray(e)?"array":x.isObject(e)?"object":""}function l(e,t){var n=L.isNil(t)||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||M.hasOwnProperty(e)&&M[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}function c(e){var t={};return function(n){return t.hasOwnProperty(n)?t[n]:(t[n]=e.call(this,n),t[n])}}function u(e){return e.replace(F,"-$1").toLowerCase()}function d(e){return u(e).replace(A,"-ms-")}function s(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];L.isNil(r)||(t+=O(n)+":",t+=l(n,r)+";")}return t||null}function f(e,t){var n=function(e){return"[object Object]"===Object.prototype.toString.call(e)};if(!n(e)||!n(t))return e;for(var r,o=[{level:-1,value:e,key:null}],i=[],a={};o.length>0;)if(r=o.pop(),x.isNil(r.key)||(i=L.take(i,r.level),i.push(r.key)),x.isObject(r.value)&&!x.isFunction(r.value))for(var l in r.value)o.push({level:r.level+1,value:r.value[l],key:l});else{var c=i.join("."),u=L.get(e,c);u!==L.get(t,c)&&L.set(a,c,u)}return L.isEmpty(a)?null:a}function g(e){var t=L.cloneDeep(e),n=[];t&&n.push(t);for(var r;n.length>0;)if(r=n.pop(),x.isObject(r))for(var o in r)n.push(r[o]),x.isFunction(r[o])&&(r[o]=p(r[o]));return t}function h(e){var t=L.clone(e),n=[];t&&n.push(t);for(var r,o;n.length>0;)if(r=n.pop(),x.isObject(r))for(var i in r)n.push(r[i]),x.isString(r[i])&&(o=v(r[i]),o&&(r[i]=o));return t}function p(e){return e.toString()}function v(e){if(x.isString(e)&&"function"===e.substr(0,8)&&(/\s/.test(e[8])||"("===e[8])){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.substr(t,n-t).split(",").map(function(e){return e.replace(/\s+/,"")}),o=e.indexOf("{")+1,i=e.lastIndexOf("}");return new Function(r,e.substr(o,i-o))}return null}function m(e){var t;try{t=GC.Spread.Views.Plugins[e]}catch(n){}return t}function _(e){var t={},n=GC&&GC.Spread&&GC.Spread.Views&&GC.Spread.Views.LocaleResource&&GC.Spread.Views.LocaleResource.content;for(var r in e)t[r]=n&&n[r];return t}function w(e){var t=x.toDate(e);if(isNaN(t.getTime()))return e;var n=t.getFullYear().toString(),r=(t.getMonth()+1).toString(),o=t.getDate().toString();return I(n,4)+"-"+I(r,2)+"-"+I(o,2)}function I(e,t){var n=t-e.length+1;return n>=0?new Array(n).join("0")+e:e}function y(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n}function R(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function b(e,t,n){var r=function(e){return L.isUndefined(e)?e:n?(e+"").trim().toLowerCase():(e+"").trim().toString()},o=r(t);return function(t){if(null==t)return!1;var r=C(t,e);return r=L.isUndefined(r)?r:n?(r+"").toLowerCase():(r+"").toString(),r===o?void 0!==o||e in t:L.isEqual(r,o)}}function C(){var e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1];if(!L.isNil(e)&&!L.isNil(t)){t=L.isArray(t)?t:L.isString(t)?t.split("."):[t];for(var n=0,r=t.length,o=arguments.length>2;e&&r>n;){if(o&&n===r-1)return void(e[t[n]]=arguments.length<=2?void 0:arguments[2]);e=e[t[n++]]}return e}}function T(e,t,n,r){L.isArray(e)||(e=[e]),L.isArray(t)||(t=[t]);var o=r?[]:{};L.forEach(e,function(e){o[e]||(o[e]=1)});var i=[],a=[],l=[],c=0,u=0,d=0;return L.forEach(t,function(e){o[e]?(o[e]=2,n&&(a[d++]=e)):(o[e]=3,n&&(i[c++]=e))}),n&&L.forEach(o,function(e,t){1===e&&(l[u++]=+t)}),n?{add:i,remove:l,keep:a}:{map:o}}function H(e){return x.isNumber(e)?S(e):new Date(e)}function S(e){var t=new Date(1899,11,30),n=864e5,r=e-Math.floor(e);return 0>e&&r&&(e=Math.floor(e)-r),new Date(e*n+ +t)}var x={},L=n(8);x.isString=L.isString,x.regist=o,x.unRegist=r,x.isNilOrWhiteSpace=t,x.isNumber=L.isNumber,x.isInt=L.isInteger,x.isBoolean=L.isBoolean,x.isFunction=L.isFunction,x.isUndefined=L.isUndefined,x.isDate=L.isDate,x.isArray=L.isArray,x.isObject=L.isObject,x.debugLog=i,x.getType=a,x.isNull=L.isNull,x.isNil=L.isNil;var E={Back:8,Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40,Delete:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123};x.Key=E;var P=function(e){var t=e.keyCode,n=t>47&&58>t||t>64&&91>t||t>95&&112>t||t>185&&193>t||t>218&&223>t;return n};x.isPrintableKey=P;var D={Text:"text",CheckBox:"checkbox",Date:"date",Color:"color",Number:"number"};x.EditorType=D;var M={columnCount:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeOpacity:!0},F=/([A-Z])/g,A=/^-ms-/,O=c(function(e){return d(e)});x.cMFS=s,x.extractObject=f,x.serializeObject=g,x.deserializeObject=h,x.serializeFunction=p,x.deserializeFunction=v,x.findPlugin=m,x.getResource=_,x.normalizeDate=w,x.extends_=y,x.caC=R,x.mP=b,x.sOP=function(e,t){return C(e,t)},x.gOP=function(e,t,n){return C(e,t,n)},x.compareArray=T,x.toDate=H,e.exports=x}()},function(e,t,n){"use strict";!function(){function t(e){var n,r,o,i=0;for(n=0,r=e.length;r>n;n++)o=e[n],i=o.hasOwnProperty("columns")?Math.max(i,1+t(o.columns)):Math.max(i,1);return i}function r(e,t,n,r,o){var i=o&&e.isTouchMode?10:0;return t>=r.left-i&&t<=r.right+i&&n>=r.top-i&&n<=r.bottom+i}function o(e,t,n,r,o,i){var a=A.offset(r),l=A.offset(o),c=a.left-l.left,u=a.top-l.top,d=A.gER(r),s=i&&e.isTouchMode?10:0;c-=s,u-=s;var f=c+d.width+2*s,g=u+d.height+2*s;return t>=c&&f>=t&&n>=u&&g>=n}function i(e){return e&&e.action&&e.swipeDirection}function a(e){return e.data.groups&&e.data.groups.length>0}function l(e,t){t=F.defaults(t,{control:null,action:null,mode:"depthFirst",direction:"ltr",traverseCollapsed:!1,parentFirst:!0,getChildren:function(e){return e.children}});var n=F.isFunction(t.control)?t.control:null,r=F.isFunction(t.action)?t.action:null,o="widthFirst"===t.mode,i="rtl"===t.direction,a=o?"unshift":"push",l=o!==i===t.parentFirst?F.forEach:F.forEachRight,c=function(e,t){if(e.length>20){var n=e.slice();return o?i?n.concat(t):n.reverse().concat(t):i?t.concat(n):t.reverse().concat(n)}return l(e,function(e){t[a](e)}),t},u=[e];if(t.parentFirst)for(;u.length>0;){var d=u.pop();if(n){var s=n(d);if("break"===s)break;if("continue"===s)continue}r&&r(d),!t.traverseCollapsed&&d.collapsed||(u=c(t.getChildren(d),u))}else{for(var f=[],g=0;u.length>0;){var h=u.pop();if(n){var p=n(h);if("break"===p)break;if("continue"===p)continue}f[g++]=h,!t.traverseCollapsed&&h.collapsed||(u=c(t.getChildren(h),u))}r&&F.forEachRight(f,function(e){r(e)}),f.length=0}u.length=0}function c(e,t,n,r){if(e){r||(r={index:-1});var o;if(-1!==e.level&&(r.index++,o=t(e,r.index,!1)))return o;if(!e.collapsed){for(var i=r.index,a=e.children.length,l=0;a>l;l++)if(o=c(e.children[l],t,n,r))return o;if(n&&a>0&&-1!==e.level&&(o=t(e,i,!0)))return o}return o}}function u(e){return e.options.hierarchy&&e.options.hierarchy.footer&&e.options.hierarchy.footer.visible}function d(e,t){if(e.area!==t.area)return!1;if(e.area===k){if(e.itemIndex!==t.itemIndex)return!1;if(e.isHierarchyFooter!==t.isHierarchyFooter)return!1}var n=e.path,r=t.path;if(n.length!==r.length)return!1;for(var o=0,i=n.length;i>o;o++)if(n[o]!==r[o])return!1;return!0}function s(e){var t,n,r,o=!1;for(t=0,n=e.length;n>t&&(r=e[t],!(o=r.columns?s(r.columns):"left"===r.pinned||"right"===r.pinned));t++);return o}function f(e,t,n){var r,o,i=[];for(r=0,o=t.length;o>r;r++)t[r].columns&&i.push(t[r]);for(var a;i.length>0;){if(a=i.shift(),a.caption===n)return a;for(r=0,o=a.columns.length;o>r;r++)a.columns[r].columns&&i.push(a.columns[r])}}function g(e,t,n){if(!t)return 0;t=O.isArray(t)?t:[t];var r,o,i,a=0;for(r=0,o=t.length;o>r;r++)i=t[r],i.columns?a+=this.gGCHW_(e,i.columns,n):e.iCV_(i,n)&&i.pinned===n&&(a+=O.isNumber(i.visibleWidth)?i.visibleWidth:0);return a}function h(e,t){var n,r=t.groupDescriptor,o=r.footer,i=r.header,a=e.data,l=t.path;if(t.collapsed)return{path:l,itemIndex:-1,area:o.visible&&!o.collapseWithGroup||!i.visible?N:W};if(o.location===te&&o.visible)return{path:l,itemIndex:-1,area:N};if(t.isBottomLevel){var c=t.expandedItemCount,u={path:l,itemIndex:c-1,area:o&&o.visible&&0===c?N:k},d=a.hierarchyDescriptor;if(d){var s=d.footer;if(s&&s.visible)u.nodeInfo={path:[0],area:V};else{var f=t.rootNode;if(f){for(;f&&f.children&&f.children.length>0;)f=f.children[f.children.length-1];u.nodeInfo={path:f.path,area:B}}}}return u}return n=t.groups,h(e,n[n.length-1])}function p(e,t,n){if(t){var r;r="left"===e?n?t.pinnedLeftColHeaderTemplate:t.pinnedLeftRowTemplate:"right"===e?n?t.pinnedRightColHeaderTemplate:t.pinnedRightRowTemplate:n?t.colHeaderTemplate:t.rowTemplate;var o=ce.gUT_(r);if(o){var i=A.createElement("<div>"+o+"</div>");return t.rightToLeft?A.inverseToRTL(i).innerHTML:i.innerHTML}}return null}function v(e){if(e){var t;return t=O.isString(e)&&e.length>1&&"#"===e[0]?document.getElementById(e.slice(1)).cloneNode(!0):A.createElement("<div>"+e+"</div>"),t.innerHTML}return null}function m(e,t,n,r,o){F.isObject(e)&&(t=e.area,n=e.row,r=e.groupInfo,o=e.nodeInfo,e=e.uid);var i=e;i+=ue[t]?"-"+ue[t]:"";var a=_(r),l=_(o);return i+=a+l,""===l&&F.isNumber(n)&&(-1!==n||r?n>=0&&(!r||r&&r.area===k)&&(i+="-r"+n):i+="-autorow"),i}function _(e){return e&&e.path&&ue[e.area]?"-"+ue[e.area]+e.path.join("_"):""}function w(e){var t={uid:/gc-\d+/.exec(e)[0],row:-1},n=e.split("-").slice(2);if(0===n.length)return t;var r=["pl","pr","rh","ch","plch","prch","corner","gt","gth","chRow","plchRow","prchRow"];if(F.indexOf(r,n[0])>-1?(t.area=ue[n[0]],n.shift()):t.area=q,0===n.length)return t;var o=n[0].match(/g[hrf]/);if(o&&(t.groupInfo={area:ue[o[0]],path:n[0].replace(/g[hrf]/,"").split("_")},n.shift()),0===n.length)return t;var i=n[0].match(/n[rf]/);return i&&(t.nodeInfo={area:ue[i[0]],path:n[0].replace(/n[rf]/,"").split("_")}),"autorow"===n[0]?t.isNewRow=!0:t.row=+n[0].replace("r",""),n.length=0,t}function I(e,t){for(var n,r=e.columns,o=0,i=r.length;i>o;o++)if(n=r[o],n.id===t)return o;return-1}function y(e,t){if(e.area===q||e.area===j||e.area===U){var n=e.groupInfo,r=n&&(n.area===N||n.area===W),o=e.nodeInfo,i=o&&o.area===V;if(!i&&!r){var a=n?n.column:e.column;return t&&a>=0||!t}}return!1}function R(e,t,n,r,o){var i=m(e,t,n,r,o);return i?document.getElementById(i):null}function b(e,t){var n=[q],r=e.layoutEngine;r.sPV_&&(r.sPV_("left")&&n.push(j),r.sPV_("right")&&n.push(U));var o=[],i=t.groupInfo,a=t.nodeInfo;return n.forEach(function(n){var r=ce.createID(e.uid,n,i?i.row:t.row,i,a);r&&o.push(r)}),o}function C(e){var t='<div class="gc-grid" style="position:absolute;top:-10000px;left:-10000px;width:5000px;height:5000px;">'+(O.isString(e)?e:e.innerHTML)+"</div>",n=A.createElement(t);document.body.appendChild(n);var r=n.firstChild,o=null;return r&&(o=A.gCoR(r)),document.body.removeChild(n),o}function T(e){var t=e.gLI_(),n=t[q],r=t[j],o=t[U];return n?n.contentHeight>n.height:r?r.contentHeight>r.height:o?o.contentHeight>o.height:!1}function H(e){var t=e.gLI_(),n=t[q];return n?n.contentWidth>n.width:!1}function S(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if(!t)return 0;var r=n?1:0;return t.collapsed||(F.each(t.children,function(t){r+=S(e,t,!0)}),n&&t.children.length>0&&ce.hHF_(e)&&++r),r}function x(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],r=e;if(!t)return 0;var o=0,i=t.collapsed;if(i||(t.rootNode?o+=S(r,t.rootNode):t.isBottomLevel?o+=t.itemCount:F.each(t.groups,function(e){o+=x(r,e,!0)})),n){var a=t[ne],l=a&&a[re]&&a[re][oe],c=a&&a[ie],u=c&&c[oe],d=c&&c.collapseWithGroup;l&&++o,(u&&(!d||!i)||!l&&i)&&++o}return o}function L(){var e=-1,t=void 0,n=arguments,r=n[0];if(O.isString(n[1])?t=ce.parseID(n[1]):n.length>2&&(t={row:n[1],groupInfo:n[2],nodeInfo:n[3],isNewRow:n[4]}),t){var o=r.layoutEngine.aARA_(le),i=r.data;if(t.isNewRow)e=o?0:a(r)?x(r,i.rootGroup,!0):r.data&&r.data.hierarchyDescriptor?S(r,i.rootNode,!0):i.itemCount;else{if(t.groupInfo)e=E(r,i.rootGroup,t).index;else if(t.nodeInfo)e=P(r,i.rootNode,t).index;else{var l=ce.createID(r.uid,q,t.row),c=r.getItem(l).item;e=c?i.mVI_(c.sourceIndex):-1}o&&(e+=1)}}return e}function E(e,t,n){for(var r,o,i,a,l,c,u,d,s={finish:!1,index:0},f=n.groupInfo,g=t?t.groups:[],h=0,p=g.length;p>h;h++){if(r=g[h],d=r[ne],o=d&&d[re]&&d[re][oe],u=d&&d[ie],i=u&&u[oe],a=u&&u[ae],l=o?1:0,c=i&&a===le?1:0,r.path.toString()===f.path.toString())f.area===N?s.index+=a===le?l:x(e,r,!0)-1:f.area===k&&(n.nodeInfo?s.index+=P(e,r.rootNode,n).index+l+c:s.index+=n.row+l+c),s.finish=!0;else if(r.path[r.level].toString()===f.path[r.level].toString()){var v=E(e,r,n);s.index+=v.index+l+c,s.finish=v.finish}else s.index+=x(e,r,!0);if(s.finish)break}return s}function P(e,t,n){for(var r={finish:!1,index:0},o=n.nodeInfo,i=t?t.children:[],a=0,l=i.length;l>a;a++){var c=i[a];if(c.path.toString()===o.path.toString())o.area===V&&(r.index+=S(e,c,!0)-1),r.finish=!0;else if(c.path[c.level].toString()===o.path[c.level].toString()){var u=P(e,c,n);r.index+=u.index+1,r.finish=u.finish}else r.index+=S(e,c,!0);if(r.finish)break}return r}function D(e,t,n){var r=e.getItem(t);if(!r)return null;var o=void 0,i=void 0;r.group&&(o={path:r.group.path,area:r.groupArea}),r.node&&(i={path:r.node.path,area:r.nodeArea});var a=e.uid,l=r.row,c=[];return r.isNewRow&&(l=-1,o=null,i=null),F.each(n,function(e){c.push({area:e,id:ce.createID(a,e,l,o,i)})}),c}function M(e){var t=e.dataField;return t&&!F.startsWith(F.trim(t),"=")&&1!==t.split(",").length}var F=n(8),A=n(10),O=n(11),G=n(13),W="groupHeader",N="groupFooter",k="groupContent",V="nodeFooter",B="nodeContent",q="viewport",j="pinnedLeftViewport",U="pinnedRightViewport",z=["pageX","pageY","clientX","clientY","target"],X="mouseup",Y="mousemove",$="mousedown",K="mousewheel",J="click",Z="dblclick",Q=O.regist,ee=O.unRegist,te="bottom",ne="groupDescriptor",re="header",oe="visible",ie="footer",ae="location",le="top",ce={},ue={viewport:"",pinnedLeftViewport:"pl",pinnedRightViewport:"pr",rowHeader:"rh",columnHeader:"ch",pinnedLeftColumnHeader:"plch",pinnedRightColumnHeader:"prch",columnHeaderRow:"chRow",pinnedLeftColumnHeaderRow:"plchRow",pinnedRightColumnHeaderRow:"prchRow",gantt:"gt",ganttHeader:"gth",groupHeader:"gh",groupFooter:"gf",groupContent:"gr",nodeFooter:"nf",nodeContent:"nr",pl:j,pr:U,rh:"rowHeader",ch:"columnHeader",plch:"pinnedLeftColumnHeader",prch:"pinnedRightColumnHeader",chRow:"columnHeaderRow",plchRow:"pinnedLeftColumnHeaderRow",prchRow:"pinnedRightColumnHeaderRow",gt:"gantt",gth:"ganttHeader",gh:"groupHeader",gf:"groupFooter",gr:"groupContent",nf:"nodeFooter",nr:"nodeContent",corner:"corner"};ce.gCHL_=t,ce.poIP_=r,ce.poI_=o,ce.iTAC_=i,ce.hG_=a;var de=function(){function e(e,n){i=(new Date).getTime(),o=!1,a=1e3*e,l=n,c&&u?u(t):setTimeout(t,16.6)}function t(){var e=(new Date).getTime(),r=e-i,d=function(e){l(e||n(r,0,1,a))};return r>=a||o?void d(1):(d(),void(c&&u?u(t):setTimeout(t,16.6)))}function n(e,t,n,r){return e/=r/2,1>e?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)}function r(){o=!0}var o,i=0,a=0,l=null,c=0,u=window.requestAnimationFrame||window.webkitRequestAnimationFrame;return{play:e,stop:r}}();ce.ani=de,ce.tT=l,ce.tN_=c,ce.hHF_=u,ce.gIAS_=d,ce.hPC_=s,ce.gGCBC_=f,ce.gGCHW_=g,ce.gLGIP_=h,ce.gUERT_=p,ce.gUT_=v,ce.createID=m,ce.parseID=w,ce.ci_=I,ce.iEOSA_=y;var se=function(){function e(e){var t=this;t.options=F.defaultsDeep(e||{},{headerTemplate:null,footerTemplate:null,contentTemplate:null,draggable:!1,showOverlay:!0,parent:null}),t.init_()}function t(){var e=this;e.handleClick_=o.bind(e),e.handleMouseDown_=i.bind(e),e.handleMouseWheel_=a.bind(e),e.handleMouseUp_=c.bind(e),e.handleMouseMove_=u.bind(e),e.handleKeyDown_=g.bind(e),e.handleKeyUp_=h.bind(e),e.handleDoubleClick_=r.bind(e),e.tsFn_=l.bind(e),e.teFn_=s.bind(e),e.tmFn_=d.bind(e);var t=e.container;Q(t,J,e.handleClick_),Q(t,Z,e.handleDoubleClick_),Q(t,$,e.handleMouseDown_),Q(t,K,e.handleMouseWheel_),Q(t,X,e.handleMouseUp_),Q(t,Y,e.handleMouseMove_),Q(t,"keydown",e.handleKeyDown_),Q(t,"keyup",e.handleKeyUp_),G(t).on("touchstart",e.tsFn_),G(t).on("touchend",e.teFn_),G(t).on("touchmove",e.tmFn_)}function n(){var e=this,t=e.container;ee(t,J,e.handleClick_),ee(t,Z,e.handleDoubleClick_),ee(t,$,e.handleMouseDown_),ee(t,K,e.handleMouseWheel_),ee(t,X,e.handleMouseUp_),ee(t,"keydown",e.handleKeyDown_),ee(t,"keyup",e.handleKeyUp_),ee(t,Y,e.handleMouseMove_),G(t).off("touchstart",e.tsFn_),G(t).off("touchend",e.teFn_),G(t).off("touchmove",e.tmFn_),ee(t.querySelector(".gc-popup-first-tab"),"focus",e.fFE_),ee(t.querySelector(".gc-popup-last-tab"),"focus",e.fLE_)}function r(e){p.call(this,e,"doubleclick")}function o(e){p.call(this,e,J)}function i(e){p.call(this,e,$)}function a(e){p.call(this,e,K)}function l(e){p.call(this,f(e),$)}function c(e){p.call(this,e,X)}function u(e){p.call(this,e,Y)}function d(e){p.call(this,e,"touchmove")}function s(e){p.call(this,f(e),X)}function f(e){var t=F.pick(e.changedTouches[0],z);return t.stopPropagation=function(){e.stopPropagation()},t.preventDefault=function(){e.preventDefault()},t.deviceType="touch",t}function g(e){p.call(this,e,"keydown")}function h(e){p.call(this,e,"keyup")}function p(e,t){var n=this;if(e.target){n.options.parent&&e.stopPropagation();for(var r=F.keys(n.eventCache_),o=e.target,i=o.tagName.toLowerCase(),a=o.className?o.className.split(" "):[],l=[];"body"!==i;)l=l.concat(F.intersection(r,a)),o=o.parentNode,i=o.tagName.toLowerCase(),a=o.className?o.className.split(" "):[];var c,u,d;F.each(l,function(r){for(c=n.eventCache_[r][t],d=c?c.length:0,u=0;d>u;u++)c[u](e)})}}function v(e){var t=this;"touch"===e.deviceType?(t.docTouchMoveHandler_=_.bind(t),t.docTouchEndHandler_=y.bind(t),G(document).on("touchmove",t.docTouchMoveHandler_),G(document).on("touchend",t.docTouchEndHandler_)):(t.docMouseMoveHandler_=m.bind(t),t.docMouseUpHandler_=I.bind(t),window.PointerEvent?(Q(document,"pointermove",t.docMouseMoveHandler_),Q(document,"pointerup",t.docMouseUpHandler_),document.body.setPointerCapture(e.pointerId)):(Q(document,Y,t.docMouseMoveHandler_),Q(document,X,t.docMouseUpHandler_)));var n=t.container,r=A.gER(n),o=A.gCSV(n),i=o.marginTop,a=o.marginLeft,l=A.getBodyStyle();t.startMoveInfo_={mouseOffset:{left:e.pageX,top:e.pageY},containerCSSOffset:{left:r.left-a-l.left,top:r.top-i-l.top},containerRect:r,viewportRect:{left:0,top:0,width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}}function m(e){w.call(this,e)}function _(e){w.call(this,f(e))}function w(e){var t=this;e.preventDefault();var n=t.startMoveInfo_;if(n){var r=n.mouseOffset,o=n.viewportRect,i=n.containerRect,a=e.pageX-r.left,l=e.pageY-r.top,c=i.left,u=o.left,d=i.width,s=o.width,f=i.top,g=o.top,h=i.height,p=o.height;c+d+a>u+s&&(a=u+s-c-d),u>c+a&&(a=u-c),f+h+l>g+p&&(l=g+p-f-h),g>f+l&&(l=g-f),A.setCss(t.container,{left:n.containerCSSOffset.left+a,top:n.containerCSSOffset.top+l})}}function I(e){R.call(this,e)}function y(e){R.call(this,f(e))}function R(e){var t=this;t.startMoveInfo_=null,"touch"===e.deviceType?(G(document).off("touchmove",t.docTouchMoveHandler_),G(document).off("touchend",t.docTouchEndHandler_),t.docTouchMoveHandler_=null,t.docTouchEndHandler_=null):(window.PointerEvent?(document.body.releasePointerCapture(e.pointerId),ee(document,"pointermove",t.docMouseMoveHandler_),ee(document,"pointerup",t.docMouseUpHandler_)):(ee(document,Y,t.docMouseMoveHandler_),ee(document,X,t.docMouseUpHandler_)),t.docMouseMoveHandler_=null,t.docMouseUpHandler_=null)}function b(){var e=this,t=e.tabbableElements=e.container.querySelectorAll("a[href]:not([disabled]), area[href]:not([disabled]), button:not([disabled]), input:not([disabled]), select:not([disabled]),textarea:not([disabled]),[tabindex]:not([disabled])"),n=e.options.setTabOrder,r=0;if(n)r=n(t,2)+1;else{for(var o=0,i=t.length;i>o;o++)t[o].setAttribute("tabindex",o+2);r=t.length+2}var a=e.container,l=A.createElement('<div class="gc-popup-first-tab" tabindex="1"></div>'),c=A.createElement('<div class="gc-popup-last-tab" tabindex="'+r+'"></div>');a.insertBefore(l,a.childNodes[0]),a.appendChild(c),e.fFE_=C.bind(e),e.fLE_=T.bind(e),Q(l,"focus",e.fFE_),Q(c,"focus",e.fLE_)}function C(){this.tabbableElements[this.tabbableElements.length-1].focus()}function T(){this.tabbableElements[0].focus()}return e.prototype={init_:function(){var e=this,n=e.options;e.container=A.createElement('<div class="gc-popup-dialog" tabindex="1"></div>');var r,o=e.container,i=A.createElement,a=A.addClass;if(n.headerTemplate&&(r=i(n.headerTemplate),a(r,"gc-popup-header"),o.appendChild(r)),n.contentTemplate){var l=i(n.contentTemplate);a(l,"gc-popup-content"),o.appendChild(l)}if(n.footerTemplate){var c=i(n.footerTemplate);a(c,"gc-popup-footer"),o.appendChild(c)}n.draggable&&r&&(window.PointerEvent?r.addEventListener("pointerdown",v.bind(e)):r.addEventListener($,v.bind(e))),t.call(e)},open:function(){var e=this,t=e.options,n=t.parent||document.body;t.showOverlay&&(e.overlay_=A.createElement('<div class="gc-popup-overlay"></div>'),n.appendChild(e.overlay_)),n.appendChild(e.container),b.call(e)},close:function(){var e=this;n.call(e);var t=e.overlay_;e.options.showOverlay&&t.parentNode.removeChild(t);var r=e.container,o=e.container.parentNode;o&&o.removeChild(r)},mount:function(e,t,n){var r=this;r.eventCache_=r.eventCache_||{};var o=r.eventCache_;o[e]=o[e]||{},o[e][t]=o[e][t]||[];var i=o[e][t];-1===i.indexOf(n)&&i.push(n)}},e}();ce.popup=se,ce.gRE_=R,ce.getIdList=b,ce.gUER_=C,ce.hVS=T,ce.hHS=H,ce.gNRC_=S,ce.gGRC_=x,ce.vi=L,ce.getRowIDByViewIndex=D,ce.isMultiFieldColumn=M,e.exports=ce}()},function(e,t){"use strict";!function(t){function n(e){return new r(e)}function r(e){this.element=e}function o(){function e(e,t,n,r,o,i,a,l){var c=this;c.identifier=e,c.target=t,c.screenX=n,c.screenY=r,c.clientX=o,c.clientY=i,c.pageX=a,c.pageY=l}function t(e){var t,n;for(t=0,n=a.length;n>t;t+=1)if(a[t].identifier===e)return a[t]}function n(e){var t,n;for(t=0,n=a.length;n>t;t+=1)if(a[t].identifier===e.identifier)return void(a[t]=e);a.push(e)}function r(e){var t,n;for(t=0,n=a.length;n>t;t+=1)a[t].identifier===e&&(a.splice(t,1),n=a.length)}function o(){for(;a.length>0;)a.pop()}function i(e,t){var n;for(n=0;n<a.length;n+=1)if(a[n].screenX===e&&a[n].screenY===t)return!0;return!1}var a=[],l=this;l.touchList=a,l.Touch=e,l.getTouch=t,l.addUpdateTouch=n,l.removeTouch=r,l.clearTouches=o,l.containsTouchAt=i}function i(e,n,r,o,i){if(i)e.addEventListener(n,r,!1),t.cachedEvents||(t.cachedEvents=[]),t.cachedEvents.push({element:e,event:n,handler:r,uid:o});else{if(!t.cachedEvents)return;for(var a=0,l=t.cachedEvents.length;l>a;a++){var c=t.cachedEvents[a];if(c.uid===r.uid){c.element.removeEventListener(c.event,c.handler);break}}t.cachedEvents.splice(a,1),0===t.cachedEvents.length&&delete t.cachedEvents}}function a(e,t){function n(e,t){var n,r;for(v.clearTouches(),n=0;n<t.length;n++)r=t[n],r.target.isSameNode(e)&&v.addUpdateTouch(r)}function r(e){var t,r,o;t=a(e)?"touchstart":"touchmove",r=new h.Touch(e.pointerId,a(e)?e.target:g,e.screenX,e.screenY,e.clientX,e.clientY,e.pageX,e.pageY),
e.hwTimestamp>_&&!function(){var e,t,n,r,o;for(t=p.touchList,e=0;e<t.length;e+=1)n=t[e],o=n.identifier,r=h.getTouch(o),r&&!d(r,n)||p.removeTouch(o)}();var l=e.pointerId;return a(e)?("input"!==r.target.tagName.toLowerCase()&&"textarea"!==r.target.tagName.toLowerCase()&&("MSPointerDown"===e.type?r.target.msSetPointerCapture(l):r.target.setPointerCapture(l)),h.clearTouches(),i("pointerDown timstap:"+e.hwTimestamp+" pointerId: "+e.pointerId)):i("pointerMove timstap:"+e.hwTimestamp+" pointerId: "+e.pointerId),h.addUpdateTouch(r),p.addUpdateTouch(r),n(r.target,h.touchList),o=new CustomEvent(t,{bubbles:!0,cancelable:!0}),o.touches=h.touchList,o.changedTouches=p.touchList,o.targetTouches=v.touchList,o}function o(e){var t,r,o;return e.changedTouches=[],e.changedTouches.length=1,e.changedTouches[0]=e,e.changedTouches[0].identifier=e.pointerId,r=new h.Touch(e.pointerId,g,e.screenX,e.screenY,e.clientX,e.clientY,e.pageX,e.pageY),c(e)&&(t="touchend","MSPointerUp"===e.type?r.target.msReleasePointerCapture(e.pointerId):r.target.releasePointerCapture(e.pointerId)),e.hwTimestamp>_&&p.clearTouches(),h.removeTouch(r.identifier),p.addUpdateTouch(r),n(r.target,h.touchList),o=new CustomEvent(t,{bubbles:!0,cancelable:!0}),o.touches=h.touchList,o.changedTouches=p.touchList,o.targetTouches=v.touchList,o}function i(e){m&&console.log(e)}function a(e){return"MSPointerDown"===e.type||"pointerdown"===e.type}function l(e){return"MSPointerMove"===e.type||"pointermove"===e.type}function c(e){return"MSPointerUp"===e.type||"pointerup"===e.type}var s,f,g,m=!1;u(e)||(a(e)||(f=h.getTouch(e.pointerId),g=f?f.target:e.target),s=a(e)||l(e)?r(e):o(e),s.preventDefault=function(){e.preventDefault&&e.preventDefault()},s.stopPropagation=function(){e.stopPropagation&&e.stopPropagation()},t.call(e.target,s),_=e.hwTimestamp)}function l(e){return w[e][I]}function c(e,t){var n="on"+t.toLowerCase();return n in e||e.hasOwnProperty(n)}function u(e){return"mouse"===e.pointerType||4===e.pointerType?!0:"pointerdown"===e.type&&0===e.x&&0===e.y?!0:"pen"===e.pointerType&&0===e.pressure&&"pointermove"===e.type}function d(e,t){return e.screenX===t.screenX&&e.screenY===t.screenY}function s(e){e&&e.style&&(t.MSPointerEvent?e.style.setAttribute("-ms-touch-action","none;"):e.style.touchAction="none")}function f(e){e&&e.style&&(t.MSPointerEvent?e.style.removeAttribute("-ms-touch-action"):e.style.touchAction=null)}function g(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}var h,p,v,m=["touchstart","touchmove","touchend"],_=0,w={touchstart:["pointerdown","MSPointerDown","touchstart"],touchmove:["pointermove","MSPointerMove","touchmove"],touchend:["pointerup","MSPointerUp","touchend"]},I=t.PointerEvent?0:t.MSPointerEvent?1:2;r.prototype={on:function(e,t){var n=this.element;if(-1===m.indexOf(e))return void n.addEventListener(e,t);if(c(n,e))return void n.addEventListener(e,t);var r=l(e);if(c(n,r)){var o=function(n){a(n,t,e)},u=g();t.uid=u,i(n,r,o,u,!0),s(n)}},off:function(e,t){var n=this.element;return-1===m.indexOf(e)?void n.removeEventListener(e,t):c(n,e)?void n.removeEventListener(e,t):(i(n,e,t,!1),void f(n))}},h=new o,p=new o,v=new o,e.exports=n}(window)},function(e,t){"use strict";!function(){function t(e,n,r){return("string"==typeof n?n:n.toString()).replace(e.define||a,function(t,n,o,i){return 0===n.indexOf("def.")&&(n=n.substring(4)),n in r||(":"===o?(e.defineParams&&i.replace(e.defineParams,function(e,t,o){r[n]={arg:t,text:o}}),n in r||(r[n]=i)):new Function("def","def['"+n+"']="+i)(r)),""}).replace(e.use||a,function(n,o){e.useParams&&(o=o.replace(e.useParams,function(e,t,n,o){if(r[n]&&r[n].arg&&o){var i=(n+":"+o).replace(/'|\\/g,"_");return r.__exp=r.__exp||{},r.__exp[i]=r[n].text.replace(new RegExp("(^|[^\\w$])"+r[n].arg+"([^\\w$])","g"),"$1"+o+"$2"),t+"def.__exp['"+i+"']"}}));var i=new Function("def","return "+o)(r);return i?t(e,i,r):i})}function n(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var r,o={version:"1.0.3",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0};o.encodeHTMLSource=function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(n,function(e){return t[e]||e}):""}},r=function(){return this||(0,eval)("this")}(),e.exports=o;var i={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},a=/$^/;o.template=function(e,l,c,u){l=l||o.templateSettings;var d,s,f,g=l.append?i.append:i.split,h=0,p=l.use||l.define?t(l,e,c||{}):e;p=("var out='"+(l.strip?p.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):p).replace(/'|\\/g,"\\$&").replace(l.interpolate||a,function(e,t){return u?(f=n(t),t.indexOf("||")>=0?g.start+f+g.end:g.start+"(typeof "+f+' !== "undefined" && '+f+"!== null)?"+f+': ""'+g.end):g.start+n(t)+g.end}).replace(l.encode||a,function(e,t){return d=!0,g.startencode+n(t)+g.end}).replace(l.conditional||a,function(e,t,r){return t?r?"';}else if("+n(r)+"){out+='":"';}else{out+='":r?"';if("+n(r)+"){out+='":"';}out+='"}).replace(l.iterate||a,function(e,t,r,o){return t?(h+=1,s=o||"i"+h,t=n(t),"';var arr"+h+"="+t+";if(arr"+h+"){var "+r+","+s+"=-1,l"+h+"=arr"+h+".length-1;while("+s+"<l"+h+"){"+r+"=arr"+h+"["+s+"+=1];out+='"):"';} } out+='"}).replace(l.evaluate||a,function(e,t){return"';"+n(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),d&&(l.selfcontained||!r||r._encodeHTML||(r._encodeHTML=o.encodeHTMLSource(l.doNotSkipEncoded)),p="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+o.encodeHTMLSource.toString()+"("+(l.doNotSkipEncoded||"")+"));"+p);try{return new Function(l.varname,p)}catch(v){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+p),v}},o.compile=function(e,t){return o.template(e,null,t)}}()}])});